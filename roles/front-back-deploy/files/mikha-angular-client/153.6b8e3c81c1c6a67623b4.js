(self.webpackChunkmikha_angular_client=self.webpackChunkmikha_angular_client||[]).push([[153],{7153:function(t,i,e){"use strict";e.r(i),e.d(i,{CallHistoryModule:function(){return ui}});var a=e(9572),n=e(1116),o=e(1041),g=e(4369),r=e(2797),c=e(2309),d=e(7307),s=e(9550),l=e(5078),m=e(168),Z=e(5425),p=e(9831),u=e(529),v=e(8512),f=e(2935),h=e(1785),A=e(1955),T=e(6278);function q(t,i){if(1&t&&(h.TgZ(0,"div",11),h._UZ(1,"img",12),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("src",e.data.metadata.landmarkedImage,h.LSH)}}function _(t,i){if(1&t&&(h.TgZ(0,"div",11),h._UZ(1,"img",12),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("src",e.backendUrl+e.data.path,h.LSH)}}function x(t,i){if(1&t){var e=h.EpF();h.ynx(0),h.TgZ(1,"div",13),h.TgZ(2,"mat-slide-toggle",14),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw(2).showLandmarks=t}),h._uU(3,"Show Landmarks"),h.qZA(),h._UZ(4,"mat-divider"),h.qZA(),h.TgZ(5,"div",13),h.TgZ(6,"small"),h._uU(7,"Verification"),h.qZA(),h.TgZ(8,"div",8),h._uU(9),h.qZA(),h._UZ(10,"mat-divider"),h.qZA(),h.TgZ(11,"div",13),h.TgZ(12,"small"),h._uU(13,"Match"),h.qZA(),h.TgZ(14,"div",8),h._uU(15),h.qZA(),h._UZ(16,"mat-divider"),h.qZA(),h.TgZ(17,"div",13),h.TgZ(18,"small"),h._uU(19,"Matched Image"),h.qZA(),h.TgZ(20,"div",15),h._UZ(21,"img",16),h.qZA(),h.qZA(),h.BQk()}if(2&t){var a=h.oxw(2);h.xp6(2),h.Q6J("ngModel",a.showLandmarks),h.xp6(7),h.hij(" ",a.data.metadata.isSimilar?"Passed":"Failed"," "),h.xp6(6),h.hij(" ",a.data.metadata.similarityScore,"% "),h.xp6(6),h.Q6J("src",a.data.metadata.originalImage,h.LSH)}}function U(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h2",1),h._uU(2),h.qZA(),h.TgZ(3,"mat-dialog-content",2),h.TgZ(4,"div",3),h.YNc(5,q,2,1,"div",4),h.YNc(6,_,2,1,"ng-template",null,5,h.W1O),h.TgZ(8,"div",6),h.TgZ(9,"mat-card",7),h.TgZ(10,"div"),h.TgZ(11,"small"),h._uU(12,"Image Type"),h.qZA(),h.TgZ(13,"div",8),h._uU(14),h.qZA(),h._UZ(15,"mat-divider"),h.qZA(),h.YNc(16,x,22,4,"ng-container",0),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(17,"mat-dialog-actions",9),h.TgZ(18,"button",10),h._uU(19,"Close"),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(7),a=h.oxw();h.xp6(2),h.hij(" ",a.data.typeName," "),h.xp6(3),h.Q6J("ngIf",a.showLandmarks)("ngIfElse",e),h.xp6(9),h.Oqu(a.data.typeName),h.xp6(2),h.Q6J("ngIf",a.data.metadata)}}function y(t,i){if(1&t&&(h.TgZ(0,"div",11),h._UZ(1,"img",12),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("src",e.backendUrl+e.imageVerifications[0].landmarkImage,h.LSH)}}function I(t,i){if(1&t&&(h.TgZ(0,"div",11),h._UZ(1,"img",12),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("src",e.backendUrl+e.data.path,h.LSH)}}function b(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"mat-slide-toggle",18),h.NdJ("change",function(){return h.CHM(e),h.oxw(2).displayLandmark()}),h._uU(1," Show landmark "),h.qZA()}}var w=function(t){return{color:t}};function D(t,i){if(1&t&&(h.TgZ(0,"div",20),h.TgZ(1,"div",21),h._UZ(2,"img",22),h.TgZ(3,"mat-icon",23),h._uU(4," verified"),h.qZA(),h.qZA(),h.TgZ(5,"div",24),h.TgZ(6,"div",25),h.TgZ(7,"span",26),h._uU(8,"Image"),h.qZA(),h.TgZ(9,"span",26),h._uU(10,"Similarity Score"),h.qZA(),h.qZA(),h.TgZ(11,"div",27),h.TgZ(12,"span",26),h._uU(13),h.qZA(),h.TgZ(14,"span",26),h._uU(15),h.qZA(),h.qZA(),h._UZ(16,"br"),h.qZA(),h._UZ(17,"mat-divider"),h.qZA()),2&t){var e=i.$implicit,a=h.oxw(3);h.xp6(2),h.Q6J("src",a.backendUrl+e.originalImage,h.LSH),h.xp6(1),h.Q6J("ngStyle",h.VKq(4,w,"true"==e.isSimilar?"green":"red")),h.xp6(10),h.hij(" ",e.imageName,""),h.xp6(2),h.hij(" ",e.similarityScore,"")}}function M(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h2"),h._uU(2,"Verified Against"),h.qZA(),h.YNc(3,D,18,6,"div",19),h.qZA()),2&t){var e=h.oxw(2);h.xp6(3),h.Q6J("ngForOf",e.imageVerifications)}}function O(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h2",1),h._uU(2),h.qZA(),h.TgZ(3,"mat-dialog-content",2),h.TgZ(4,"div",3),h.YNc(5,y,2,1,"div",4),h.YNc(6,I,2,1,"ng-template",null,5,h.W1O),h.YNc(8,b,2,0,"mat-slide-toggle",17),h.qZA(),h.YNc(9,M,4,1,"div",0),h.qZA(),h.TgZ(10,"mat-dialog-actions",9),h.TgZ(11,"button",10),h._uU(12,"Close"),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(7),a=h.oxw();h.xp6(2),h.hij(" ",a.data.typeName," "),h.xp6(3),h.Q6J("ngIf",a.showLandmarks)("ngIfElse",e),h.xp6(3),h.Q6J("ngIf",!a.isEmpty),h.xp6(1),h.Q6J("ngIf",!a.isEmpty)}}var Y=function(){function t(t,i,e){this.dialogRef=t,this.imageVerificationSerivce=i,this.data=e,this.showLandmarks=!1,this.isEmpty=!0,this.isLandmarkOn=!1}return t.prototype.ngOnInit=function(){var t=this;this.backendUrl=u.N.backendUrl,console.log(this.data),"URL"==this.data.verificationType&&this.imageVerificationSerivce.getVerifiedImagesUsingGET(this.data.id).subscribe(function(i){t.imageVerifications=i,t.imageVerifications.length>0&&(t.isEmpty=!1)},function(t){})},t.prototype.toggleLandmark=function(t,i){console.log(t),document.getElementsByName("landmarkToggle").forEach(function(i){i.id!==t?i.classList.remove("mat-checked"):i.classList.add("mat-checked")})},t.prototype.displayLandmark=function(){this.showLandmarks=!this.showLandmarks},t.\u0275fac=function(i){return new(i||t)(h.Y36(f.so),h.Y36(A.h),h.Y36(f.WI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-dialog-image-view"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"mat-typography"],[1,"row"],["class","col-md-8 form-group","style","text-align: center",4,"ngIf","ngIfElse"],["landmarked",""],[1,"col-md-4"],[2,"height","99%"],[2,"padding-bottom","10px"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"col-md-8","form-group",2,"text-align","center"],[2,"max-width","500px","border-radius","8px",3,"src"],[2,"padding-top","10px"],["color","primary",2,"margin-right","10px","margin-bottom","10px",3,"ngModel","ngModelChange"],[2,"margin-top","10px"],[2,"width","100%","border-radius","8px",3,"src"],["name","landmarkToggle","checked","false","style","margin: 20px",3,"change",4,"ngIf"],["name","landmarkToggle","checked","false",2,"margin","20px",3,"change"],["class","verified-container",4,"ngFor","ngForOf"],[1,"verified-container"],[2,"position","relative"],["alt","",2,"max-width","200px","border-radius","8px",3,"src"],[1,"image-verification-icon",3,"ngStyle"],[1,"verified-content"],[1,"title"],[1,"text"],[1,"value"]],template:function(t,i){1&t&&(h.YNc(0,U,20,5,"div",0),h.YNc(1,O,13,5,"div",0)),2&t&&(h.Q6J("ngIf","CIF"==i.data.verificationType),h.xp6(1),h.Q6J("ngIf","URL"==i.data.verificationType))},directives:[n.O5,f.uh,f.xY,r.a8,T.d,f.H8,g.lW,f.ZT,a.Rr,o.JJ,o.On,n.sg,d.Hw,n.PC],styles:[".verified-container[_ngcontent-%COMP%]{margin:10px;display:flex}.verified-content[_ngcontent-%COMP%]{margin:50px;display:flex;flex-direction:row}.verified-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-right:25px}.verified-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .verified-content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.image-verification-icon[_ngcontent-%COMP%]{position:absolute;right:0}"]}),t}(),N=e(1269),J=e(4517),C=e(3765),S=e(9624),k=e(3982),Q=e(5901),E=e(1719),P=e(6530),H=e(2693),F=e(6129),j=e(8320),L=e(5162),R=function(){function t(t,i,e){this.httpClient=t,this.basePath=j.Lt,this.defaultHeaders=new H.WM,this.configuration=new L.V,i&&(this.basePath=i),e&&(this.configuration=e,this.basePath=i||e.basePath||this.basePath),this.encoder=this.configuration.encoder||new F.H}return t.prototype.canConsumeForm=function(t){for(var i=0,e=t;i<e.length;i++)if("multipart/form-data"===e[i])return!0;return!1},t.prototype.getVideoRecordsUsingGET=function(t,i,e){if(void 0===i&&(i="body"),void 0===e&&(e=!1),null==t)throw new Error("Required parameter roomId was null or undefined when calling getVideoRecordsUsingGET.");var a=this.defaultHeaders;this.configuration.apiKeys&&this.configuration.apiKeys.Authorization&&(a=a.set("Authorization",this.configuration.apiKeys.Authorization));var n=this.configuration.selectHeaderAccept(["*/*"]);return null!=n&&(a=a.set("Accept",n)),this.httpClient.get(this.basePath+"/video-records/video-records/"+encodeURIComponent(String(t)),{withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:e})},t.\u0275fac=function(i){return new(i||t)(h.LFG(H.eN),h.LFG(j.GW,8),h.LFG(L.V,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$=e(2205),G=e(3070),z=e(7064),V=e(8573),W=["sidenav"];function B(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"button",19),h.NdJ("click",function(){return h.CHM(e),h.oxw().search=""}),h.TgZ(1,"mat-icon"),h._uU(2,"close"),h.qZA(),h.qZA()}}var K=function(t){return{"background-color":t}};function X(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"mat-list-option",20),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw().viewItem(t)}),h._UZ(1,"div",21),h.TgZ(2,"div",22),h._uU(3),h.qZA(),h.TgZ(4,"div",22),h.TgZ(5,"small"),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"div",22),h.TgZ(8,"small"),h._uU(9),h.ALo(10,"date"),h.qZA(),h.qZA(),h._UZ(11,"mat-divider"),h.qZA()}if(2&t){var a=i.$implicit;h.Q6J("value",a)("selected",a.selected),h.xp6(1),h.Q6J("ngStyle",h.VKq(9,K,a.purpose.colorCode)),h.xp6(2),h.Oqu(a.customer.name),h.xp6(3),h.Oqu(a.title),h.xp6(3),h.Oqu(h.xi3(10,6,a.dateTime,"medium"))}}function tt(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div",5),h.TgZ(1,"button",23),h.NdJ("click",function(){return h.CHM(e),h.oxw().loadMore()}),h._uU(2," Load More "),h.qZA(),h.qZA()}if(2&t){var a=h.oxw();h.xp6(1),h.Q6J("disabled",a.loading)}}function it(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"a",48),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(4).goToLink(t)}),h._uU(3),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit;h.xp6(3),h.Oqu(a)}}function et(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,it,4,1,"div",36),h.qZA()),2&t){var e=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",e.recordings)}}function at(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"div"),h._uU(2,"--"),h.qZA(),h.qZA())}function nt(t,i){if(1&t&&(h.TgZ(0,"div",38),h._UZ(1,"iframe",49),h.qZA()),2&t){var e=h.oxw(3);h.xp6(1),h.Q6J("src",e.geolocation.safeUrl,h.uOi)}}function ot(t,i){1&t&&(h.TgZ(0,"div",50),h.TgZ(1,"small"),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function gt(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function rt(t,i){if(1&t&&(h.TgZ(0,"div",41),h.TgZ(1,"div"),h.TgZ(2,"mat-icon",51),h._uU(3),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"div",52),h.TgZ(6,"small"),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",52),h.TgZ(9,"small"),h._uU(10," Comments: "),h._UZ(11,"span",53),h.qZA(),h.qZA(),h._UZ(12,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(3),h.Oqu(e.completed?"check_box":"check_box_outline_blank"),h.xp6(1),h.AsE(" ",e.name," (",e.duration," Minutes) "),h.xp6(3),h.hij(" ",e.description?e.description:"-"," "),h.xp6(4),h.Q6J("innerHtml",e.comments?e.comments:"-",h.oJD)}}function ct(t,i){if(1&t&&(h.TgZ(0,"div",4),h.TgZ(1,"div",37),h.TgZ(2,"mat-card",38),h.TgZ(3,"mat-card-header"),h.TgZ(4,"mat-card-title",26),h._uU(5," Customer "),h.qZA(),h.qZA(),h.TgZ(6,"mat-card-content",39),h.TgZ(7,"div"),h.TgZ(8,"small"),h._uU(9,"Name"),h.qZA(),h.TgZ(10,"div",40),h._uU(11),h.qZA(),h._UZ(12,"mat-divider"),h.qZA(),h.TgZ(13,"div",41),h.TgZ(14,"small"),h._uU(15,"Email"),h.qZA(),h.TgZ(16,"div",40),h._uU(17),h.qZA(),h._UZ(18,"mat-divider"),h.qZA(),h.TgZ(19,"div",41),h.TgZ(20,"small"),h._uU(21,"Phone"),h.qZA(),h.TgZ(22,"div",40),h._uU(23),h.qZA(),h._UZ(24,"mat-divider"),h.qZA(),h.TgZ(25,"div",41),h.TgZ(26,"small"),h._uU(27,"Address"),h.qZA(),h.TgZ(28,"div",40),h._uU(29),h.qZA(),h._UZ(30,"mat-divider"),h.qZA(),h.TgZ(31,"div",41),h.TgZ(32,"small"),h._uU(33,"Existing Customer"),h.qZA(),h.TgZ(34,"div",40),h._uU(35),h.qZA(),h._UZ(36,"mat-divider"),h.qZA(),h.TgZ(37,"div",41),h.TgZ(38,"small"),h._uU(39,"Account Number"),h.qZA(),h.TgZ(40,"div",40),h._uU(41),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(42,"div",42),h.TgZ(43,"mat-card",38),h.TgZ(44,"mat-card-header"),h.TgZ(45,"mat-card-title",26),h._uU(46," Meeting "),h.qZA(),h.qZA(),h.TgZ(47,"mat-card-content",39),h.TgZ(48,"div"),h.TgZ(49,"small"),h._uU(50,"ID"),h.qZA(),h.TgZ(51,"div",40),h._uU(52),h.qZA(),h._UZ(53,"mat-divider"),h.qZA(),h.TgZ(54,"div",41),h.TgZ(55,"small"),h._uU(56,"Purpose"),h.qZA(),h.TgZ(57,"div",40),h._uU(58),h.qZA(),h._UZ(59,"mat-divider"),h.qZA(),h.TgZ(60,"div",41),h.TgZ(61,"small"),h._uU(62,"Agent"),h.qZA(),h.TgZ(63,"div",40),h._uU(64),h.qZA(),h._UZ(65,"mat-divider"),h.qZA(),h.TgZ(66,"div",41),h.TgZ(67,"small"),h._uU(68,"Scheduled Date"),h.qZA(),h.TgZ(69,"div",40),h._uU(70),h.ALo(71,"date"),h.qZA(),h._UZ(72,"mat-divider"),h.qZA(),h.TgZ(73,"div",41),h.TgZ(74,"small"),h._uU(75,"Meeting Date"),h.qZA(),h.TgZ(76,"div",40),h._uU(77),h.ALo(78,"date"),h.ALo(79,"date"),h.qZA(),h._UZ(80,"mat-divider"),h.qZA(),h.TgZ(81,"div"),h.TgZ(82,"small"),h._uU(83,"Recording"),h.qZA(),h.YNc(84,et,2,1,"div",31),h.qZA(),h.YNc(85,at,3,0,"div",31),h.qZA(),h.qZA(),h.qZA(),h.TgZ(86,"div",37),h.TgZ(87,"mat-card",38),h.TgZ(88,"mat-card-header"),h.TgZ(89,"mat-card-title",26),h._uU(90," Geolocation "),h.qZA(),h.qZA(),h.TgZ(91,"mat-card-content",39),h.TgZ(92,"div"),h.TgZ(93,"small"),h._uU(94,"IP Address"),h.qZA(),h.TgZ(95,"div",40),h._uU(96),h.qZA(),h._UZ(97,"mat-divider"),h.qZA(),h.TgZ(98,"div",41),h.TgZ(99,"small"),h._uU(100,"Latitude"),h.qZA(),h.TgZ(101,"div",40),h._uU(102),h.qZA(),h._UZ(103,"mat-divider"),h.qZA(),h.TgZ(104,"div",41),h.TgZ(105,"small"),h._uU(106,"Longitude"),h.qZA(),h.TgZ(107,"div",40),h._uU(108),h.qZA(),h._UZ(109,"mat-divider"),h.qZA(),h.TgZ(110,"div",41),h.TgZ(111,"small"),h._uU(112,"Address"),h.qZA(),h.TgZ(113,"div",40),h._uU(114),h.qZA(),h._UZ(115,"mat-divider"),h.qZA(),h.TgZ(116,"div",41),h.TgZ(117,"small"),h._uU(118,"Region"),h.qZA(),h.TgZ(119,"div",40),h._uU(120),h.qZA(),h._UZ(121,"mat-divider"),h.qZA(),h.TgZ(122,"div",41),h.TgZ(123,"small"),h._uU(124,"ISP"),h.qZA(),h.TgZ(125,"div",40),h._uU(126),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(127,"div",42),h.TgZ(128,"mat-card",38),h.TgZ(129,"mat-card-header"),h.TgZ(130,"mat-card-title",26),h._uU(131," Map "),h.qZA(),h.qZA(),h.TgZ(132,"mat-card-content",43),h.YNc(133,nt,2,1,"div",44),h.YNc(134,ot,3,0,"ng-template",null,45,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(136,"div",46),h.TgZ(137,"mat-card",29),h.TgZ(138,"mat-card-header"),h.TgZ(139,"mat-card-title",26),h._uU(140," Checklist "),h.qZA(),h.qZA(),h.TgZ(141,"mat-card-content",39),h.YNc(142,gt,2,0,"p",31),h.YNc(143,rt,13,5,"div",47),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(135),a=h.oxw(2);h.xp6(11),h.hij(" ",a.selectedItem.customer.name," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.email," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.phone?a.selectedItem.customer.phone:"-"," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.address?a.selectedItem.customer.address:"-"," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.isExistingCustomer?"Yes":"No"," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.accountNumber?a.selectedItem.customer.accountNumber:"-"," "),h.xp6(11),h.hij(" ",a.selectedItem.roomId," "),h.xp6(6),h.hij(" ",a.selectedItem.purpose.name," "),h.xp6(6),h.hij(" ",a.selectedItem.agent," "),h.xp6(6),h.AsE(" ",h.xi3(71,26,a.selectedItem.dateTime,"dd MMM YYYY | h:mm a")," (",a.selectedItem.duration," Minutes) "),h.xp6(7),h.AsE(" ",a.meetingData&&a.meetingData.meetingStart?h.xi3(78,29,a.meetingData.meetingStart,"dd MMM YYYY | h:mma"):"-"," - ",a.meetingData&&a.meetingData.meetingEnd?h.xi3(79,32,a.meetingData.meetingEnd,"h:mm a"):"-"," "),h.xp6(7),h.Q6J("ngIf",a.recordings&&a.recordings.length>0),h.xp6(1),h.Q6J("ngIf",!a.recordings),h.xp6(11),h.hij(" ",a.meetingData&&a.meetingData.ipAddress?a.meetingData.ipAddress:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.latitude?a.geolocation.latitude:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.longitude?a.geolocation.longitude:"-"," "),h.xp6(6),h.AsE(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.city?a.geolocation.isp.city:"-",", ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.country?a.geolocation.isp.country:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.region?a.geolocation.isp.region:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.org?a.geolocation.isp.org:"-"," "),h.xp6(7),h.Q6J("ngIf",a.geolocation&&a.geolocation.latitude&&a.geolocation.longitude)("ngIfElse",e),h.xp6(9),h.Q6J("ngIf",a.loadingMeetingData),h.xp6(1),h.Q6J("ngForOf",a.checklists)}}function dt(t,i){1&t&&(h.TgZ(0,"small"),h._uU(1,"Record Not Found"),h.qZA())}var st=function(t){return{color:t}};function lt(t,i){if(1&t&&(h.TgZ(0,"mat-icon",60),h._uU(1," verified"),h.qZA()),2&t){var e=h.oxw().$implicit;h.Q6J("ngStyle",h.VKq(1,st,e.metadata.isSimilar?"green":"red"))}}function mt(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div",55),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(3).viewCapturedImage(t)}),h.YNc(2,lt,2,3,"mat-icon",56),h._UZ(3,"img",57),h.TgZ(4,"div",58),h.TgZ(5,"p",59),h._uU(6),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit,n=h.oxw(3);h.xp6(2),h.Q6J("ngIf",a.metadata),h.xp6(1),h.Q6J("src",n.backendUrl+a.path,h.LSH),h.xp6(3),h.Oqu(a.typeName)}}function Zt(t,i){if(1&t&&(h.TgZ(0,"div",54),h.YNc(1,mt,7,3,"div",36),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",e.meetingData.images)}}function pt(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function ut(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"small",41),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function vt(t,i){if(1&t&&(h.TgZ(0,"div",41),h.TgZ(1,"small"),h._uU(2),h.qZA(),h.TgZ(3,"div",40),h._uU(4),h.qZA(),h._UZ(5,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(2),h.Oqu(e.field),h.xp6(2),h.Oqu(e.value)}}function ft(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"small"),h._uU(3,"Form"),h.qZA(),h.TgZ(4,"div",40),h._uU(5),h.qZA(),h._UZ(6,"mat-divider"),h.qZA(),h.YNc(7,vt,6,2,"div",47),h.qZA()),2&t){var e=h.oxw(2);h.xp6(5),h.Oqu(e.form.title),h.xp6(2),h.Q6J("ngForOf",e.form.data)}}function ht(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"small",41),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function At(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"mat-card",61),h.TgZ(2,"span",62),h._uU(3,"You"),h.qZA(),h.TgZ(4,"mat-card-content",63),h._uU(5),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.oxw().$implicit;h.xp6(5),h.hij(" ",e.message," ")}}function Tt(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"mat-card",64),h.TgZ(2,"span",65),h._uU(3),h.qZA(),h.TgZ(4,"mat-card-content",63),h._uU(5),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.oxw().$implicit;h.xp6(3),h.Oqu(e.name),h.xp6(2),h.hij(" ",e.message," ")}}function qt(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,At,6,1,"div",31),h.YNc(2,Tt,6,2,"div",31),h.qZA()),2&t){var e=i.$implicit;h.xp6(1),h.Q6J("ngIf","You"===e.name),h.xp6(1),h.Q6J("ngIf","You"!==e.name)}}function _t(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h3"),h._uU(2),h.ALo(3,"date"),h.qZA(),h.YNc(4,qt,3,2,"div",36),h.qZA()),2&t){var e=i.$implicit;h.xp6(2),h.hij(" ",h.xi3(3,2,e.date,"dd MMM YYYY | h:mm a")," "),h.xp6(2),h.Q6J("ngForOf",e.messages)}}function xt(t,i){if(1&t&&(h.TgZ(0,"div",4),h.TgZ(1,"div",24),h.YNc(2,ct,144,35,"div",18),h.qZA(),h.TgZ(3,"div",25),h.TgZ(4,"div",4),h.TgZ(5,"div",9),h.TgZ(6,"mat-card"),h.TgZ(7,"mat-card-header"),h.TgZ(8,"mat-card-title",26),h._uU(9," Images "),h.qZA(),h.qZA(),h.TgZ(10,"mat-card-content"),h.YNc(11,dt,2,0,"small",27),h.YNc(12,Zt,2,1,"ng-template",null,28,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",5),h.TgZ(15,"mat-card",29),h.TgZ(16,"mat-card-header"),h.TgZ(17,"mat-card-title",26),h._uU(18," Data "),h.qZA(),h.qZA(),h.TgZ(19,"mat-card-content",30),h.YNc(20,pt,2,0,"p",31),h.YNc(21,ut,3,0,"div",31),h.YNc(22,ft,8,2,"div",31),h.qZA(),h.qZA(),h.qZA(),h.TgZ(23,"div",32),h.TgZ(24,"mat-card"),h.TgZ(25,"mat-card-header"),h.TgZ(26,"mat-card-title",26),h._uU(27," Chat History "),h.qZA(),h.qZA(),h.TgZ(28,"mat-card-content",33),h.YNc(29,ht,3,0,"div",31),h.TgZ(30,"div"),h.TgZ(31,"div",34,35),h.YNc(33,_t,5,5,"div",36),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(13),a=h.oxw();h.xp6(2),h.Q6J("ngIf",a.selectedItem),h.xp6(9),h.Q6J("ngIf",!a.meetingData||!a.meetingData.images||0===a.meetingData.images.length)("ngIfElse",e),h.xp6(9),h.Q6J("ngIf",a.loadingMeetingData),h.xp6(1),h.Q6J("ngIf",!a.form),h.xp6(1),h.Q6J("ngIf",a.form),h.xp6(7),h.Q6J("ngIf",0==a.chatData.length),h.xp6(4),h.Q6J("ngForOf",a.chatData)}}var Ut=function(){function t(t,i,e,a,n,o,g,r,c,d,s,l){this.spinner=t,this.scheduleService=i,this.meetingDataService=e,this._sanitizationService=a,this.authService=n,this.capturedImageService=o,this.utilService=g,this.dialog=r,this.usersService=c,this.videoRecordsService=d,this.cdr=s,this.chatDataService=l,this.loading=!1,this.loadMoreVisible=!0,this.personal=!0,this.logs=[],this.pageEvent={length:0,pageIndex:1,pageSize:u.N.pageSize},this.recordings=[],this.checklists=[],this.imageTypes=[],this.loadingMeetingData=!1,this.chatData=[],this.screenWidth$=new v.X(window.innerWidth)}return t.prototype.onResize=function(t){this.screenWidth$.next(t.target.innerWidth)},t.prototype.getScreenWidth=function(){return this.screenWidth$.asObservable()},t.prototype.ngOnInit=function(){var t=this;this.backendUrl=u.N.backendUrl,this.getScreenWidth().subscribe(function(i){i<1200?(t.showToggle="show",t.mode="over",t.openSidenav=!1):i>1200&&(t.showToggle="hide",t.mode="side",t.openSidenav=!0)}),this.getImageTypes(),this.getData(!1)},t.prototype.getImageTypes=function(){var t=this;this.utilService.getAllCapturedImageTypesUsingGET().subscribe(function(i){t.imageTypes=i})},t.prototype.getData=function(t){var i=this;this.loading=!0,t||(this.pageEvent.pageIndex=1),this.personal&&(this.authService.getUserInformation(),this.scheduleService.filterScheduleUsingPOST({agentId:"",day:0,month:0,year:0,status:3}).subscribe(function(e){t?e.content.forEach(function(t){i.logs.push(t)}):i.logs=e.content,i.logs.sort(function(t,i){return new Date(i.dateTime).getTime()-new Date(t.dateTime).getTime()}),i.loadMoreVisible=!1,i.loading=!1},function(t){i.loading=!1,alert("Error: "+JSON.stringify(t))}))},t.prototype.viewItem=function(t){this.meetingData=null,this.form=null,this.geolocation=null,this.checklists=[],this.selectedItem=t,this.chatData=[],3===t.status&&(this.getMeetingData(t),this.getAgent(t.agentId),this.getChatData(t.meetingData.id))},t.prototype.getChatData=function(t){var i=this;this.chatDataService.getAllByMeetingDataIdUsingGET(t).subscribe(function(t){t.forEach(function(t){i.chatData.push({date:t.createdDate,messages:JSON.parse(t.data)})})},function(t){i.chatData=[]})},t.prototype.getMeetingData=function(t){var i=this;this.loadingMeetingData=!0,this.meetingDataService.findMeetingDataByRoomIdUsingGET(t.roomId).subscribe(function(e){if(console.log(e),i.meetingData=e,i.getCapturedImages(),i.meetingData.schedule.checklistData&&i.meetingData.schedule.checklistData.data&&JSON.parse(i.meetingData.schedule.checklistData.data).data.forEach(function(t){i.checklists.push(t)}),i.meetingData.schedule.capturedDatas.length>0){var a=i.meetingData.schedule.capturedDatas[0];i.form={},i.form.id=a.id,i.form.formTemplateId=a.formTemplate.id,i.form.title=a.formTemplate.title,i.form.data=JSON.parse(a.data)}if(i.meetingData.geoLocation){var n=JSON.parse(i.meetingData.geoLocation);i.geolocation=n,i.geolocation&&i.geolocation.latitude&&i.geolocation.longitude&&(i.geolocation.safeUrl=i._sanitizationService.bypassSecurityTrustResourceUrl("https://maps.google.com/maps/embed/v1/place?key=AIzaSyAFHE8_4FrJJ7BTbGT5DUpm1IttHijJYoM&q="+i.geolocation.latitude+","+i.geolocation.longitude))}i.loadingMeetingData=!1,i.getRecordings(t.roomId)},function(t){alert("Error: "+JSON.stringify(t))})},t.prototype.viewCapturedImage=function(t){t.verificationType=this.meetingData.schedule.purpose.imageVerificationType,this.dialog.open(Y,{data:t,width:"800px"})},t.prototype.getCapturedImages=function(){var t=this;this.capturedImageService.getAllCapturedImagesByScheduleIdUsingGET(this.meetingData.schedule.id).subscribe(function(i){i&&t.meetingData&&(t.meetingData.images=i,t.meetingData.images=[],i.forEach(function(i){var e=JSON.parse(JSON.stringify(i)),a=t.imageTypes.filter(function(t){return t.id===i.type});e.typeName=a.length>0?a[0].type:"Unknown",e.metadata&&(e.metadata=JSON.parse(e.metadata)),t.meetingData.images.push(e)}))})},t.prototype.getAgent=function(t){var i=this,e=this.authService.getUserInformation();t===e.id?this.selectedItem.agent=""==e.name||null==e.name||null==e.name?e.email:e.name:this.usersService.usersGetUser(t).subscribe(function(t){i.selectedItem.agent=""==t.name||null==t.name||null==t.name?t.email:t.name})},t.prototype.loadMore=function(){this.pageEvent.pageIndex++,this.getData(!0)},t.prototype.getRecordings=function(t){var i=this;this.recordings=[],this.videoRecordsService.getVideoRecordsUsingGET(t).subscribe(function(t){i.recordings=t,i.cdr.detectChanges()},function(t){i.recordings=[]})},t.prototype.goToLink=function(t){window.open(t,"_blank")},t.\u0275fac=function(i){return new(i||t)(h.Y36(N.t2),h.Y36(J.u),h.Y36(C.d),h.Y36(S.H7),h.Y36(k.e),h.Y36(Q.M),h.Y36(E.f),h.Y36(f.uw),h.Y36(P.f),h.Y36(R),h.Y36(h.sBO),h.Y36($.Q))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-call-history-view"]],viewQuery:function(t,i){var e;1&t&&h.Gf(W,5),2&t&&h.iGM(e=h.CRH())&&(i.matSidenav=e.first)},hostBindings:function(t,i){1&t&&h.NdJ("resize",function(t){return i.onResize(t)},!1,h.Jf7)},decls:28,vars:16,consts:[[1,"drawer-container"],[1,"drawer-sidenav",3,"mode","opened","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[2,"margin-top","60px","padding","20px"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"full-width"],["name","name","matInput","",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"col-md-12","form-group"],[2,"padding","0"],[2,"padding-top","0",3,"multiple"],[3,"value","selected","click",4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[1,"inner-container",2,"height","100%"],[1,"row","form-group",3,"ngClass"],[1,"col-lg-12"],["mat-button","","color","primary",1,"toogleSidenav",3,"click"],["class","row",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value","selected","click"],[1,"card-color",3,"ngStyle"],["mat-line",""],["mat-stroked-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"col-lg-9"],[1,"col-lg-3"],[2,"margin-left","-15px"],[4,"ngIf","ngIfElse"],["capturedImages",""],[2,"min-height","100%"],[2,"min-height","74%"],[4,"ngIf"],[1,"col-md-12","mt-3"],[1,"messages",2,"overflow","auto","height","531px"],["id","messageBox"],["scrollMe",""],[4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-12","form-group"],[2,"height","100%"],[2,"min-height","200px"],[2,"padding-bottom","10px"],[2,"padding-top","10px"],[1,"col-lg-7","col-md-12","form-group"],[2,"height","90%"],["style","height: 100%",4,"ngIf","ngIfElse"],["nogeolocation",""],[1,"col-lg-12","col-md-12","form-group"],["style","padding-top: 10px",4,"ngFor","ngForOf"],[2,"color","blue","cursor","pointer",3,"click"],["frameborder","0","scrolling","no","marginheight","0","marginwidth","0",2,"margin-bottom","-6px","width","100%","height","100%","filter","invert(90%)","border-radius","5%",3,"src"],[2,"height","100%","display","grid","place-content","center","text-align","center"],[2,"vertical-align","middle"],[2,"padding-bottom","10px","margin-left","28px"],[3,"innerHtml"],[1,"grid-container"],[1,"img__wrap",3,"click"],["class","image-verification-icon",3,"ngStyle",4,"ngIf"],[3,"src"],[1,"img__description_layer"],[1,"img__description"],[1,"image-verification-icon",3,"ngStyle"],[1,"card-header-to"],[1,"msg-user",2,"color","black"],[2,"font-size","15px","margin-top","4px","margin-bottom","5px"],[1,"card-header-from"],[1,"msg-user"]],template:function(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"mat-sidenav-container",0),h.TgZ(1,"mat-sidenav",1,2),h.TgZ(3,"div",3),h.TgZ(4,"h4"),h._uU(5,"Call History"),h.qZA(),h.TgZ(6,"div",4),h.TgZ(7,"div",5),h.TgZ(8,"mat-form-field",6),h.TgZ(9,"mat-label"),h._uU(10,"Search"),h.qZA(),h.TgZ(11,"input",7),h.NdJ("ngModelChange",function(t){return i.search=t}),h.qZA(),h.YNc(12,B,3,0,"button",8),h.qZA(),h.qZA(),h.TgZ(13,"div",9),h.TgZ(14,"mat-card",10),h.TgZ(15,"mat-selection-list",11),h.YNc(16,X,12,11,"mat-list-option",12),h.ALo(17,"appFilter"),h.qZA(),h.qZA(),h.qZA(),h.YNc(18,tt,3,1,"div",13),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"mat-sidenav-content"),h.TgZ(20,"div",14),h.TgZ(21,"div",15),h.TgZ(22,"div",16),h.TgZ(23,"button",17),h.NdJ("click",function(){return h.CHM(e),h.MAs(2).toggle()}),h.TgZ(24,"mat-icon"),h._uU(25,"call"),h.qZA(),h._uU(26,"Call History "),h.qZA(),h.qZA(),h.qZA(),h.YNc(27,xt,34,8,"div",18),h.qZA(),h.qZA(),h.qZA()}2&t&&(h.xp6(1),h.Q6J("mode",i.mode)("opened",i.openSidenav)("fixedInViewport",!0)("fixedTopGap",0)("fixedBottomGap",0)("opened",!0),h.xp6(10),h.Q6J("ngModel",i.search),h.xp6(1),h.Q6J("ngIf",i.search),h.xp6(3),h.Q6J("multiple",!1),h.xp6(1),h.Q6J("ngForOf",h.xi3(17,13,i.logs,i.search)),h.xp6(2),h.Q6J("ngIf",i.loadMoreVisible),h.xp6(3),h.Q6J("ngClass",i.showToggle),h.xp6(6),h.Q6J("ngIf",i.selectedItem))},directives:[m.TM,m.JX,G.KE,G.hX,s.Nt,o.Fj,o.JJ,o.On,n.O5,r.a8,l.Ub,n.sg,m.Rh,n.mk,g.lW,d.Hw,G.R9,l.vS,n.PC,z.X2,T.d,r.dk,r.n5,r.dn],pipes:[V.g,n.uU],styles:[".dashboard-card[_ngcontent-%COMP%]{padding:5px;width:100%;height:100%}.dashboard-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{height:100%}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px}.img__wrap[_ngcontent-%COMP%]{aspect-ratio:1;position:relative;width:100%;height:100%;border-radius:6px;overflow:hidden;cursor:pointer}.img__wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.img__description_layer[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;color:#fff;visibility:hidden;opacity:0;display:flex;align-items:center;justify-content:center;padding:20px;text-align:center;transition:opacity .2s,visibility .2s}.img__wrap[_ngcontent-%COMP%]:hover   .img__description_layer[_ngcontent-%COMP%]{visibility:visible;opacity:1}.img__description[_ngcontent-%COMP%]{transition:.2s;transform:translateY(1em)}.img__wrap[_ngcontent-%COMP%]:hover   .img__description[_ngcontent-%COMP%]{transform:translateY(0)}.image-verification-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}.card-header-from[_ngcontent-%COMP%]{background:#35a3f2;color:#fff;margin:10px 10px 10px 50px;border-radius:10px;display:flex;justify-content:space-between}.msg-user[_ngcontent-%COMP%]{font-size:12px;color:#dfdfdf;position:absolute;top:5px;right:5px;font-weight:100}.msg-time[_ngcontent-%COMP%]{position:absolute;bottom:0;left:2px;font-size:10px}.card-header-to[_ngcontent-%COMP%]{background:#c4c6c6;color:#000;margin:10px 50px 10px 10px;border-radius:10px;display:flex;justify-content:space-between}.messages[_ngcontent-%COMP%]{overflow:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;background:grey;box-shadow:inset 0 0 4px #707070}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff;border-radius:10px}"]}),t}(),yt=e(4854);function It(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"a",25),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(4).goToLink(t)}),h._uU(3),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit;h.xp6(3),h.Oqu(a)}}function bt(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,It,4,1,"div",24),h.qZA()),2&t){var e=h.oxw(3);h.xp6(1),h.Q6J("ngForOf",e.recordings)}}function wt(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"div"),h._uU(2,"--"),h.qZA(),h.qZA())}function Dt(t,i){if(1&t&&(h.TgZ(0,"div",14),h._UZ(1,"iframe",26),h.qZA()),2&t){var e=h.oxw(3);h.xp6(1),h.Q6J("src",e.geolocation.safeUrl,h.uOi)}}function Mt(t,i){1&t&&(h.TgZ(0,"div",27),h.TgZ(1,"small"),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function Ot(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function Yt(t,i){if(1&t&&(h.TgZ(0,"div",17),h.TgZ(1,"div"),h.TgZ(2,"mat-icon",28),h._uU(3),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"div",29),h.TgZ(6,"small"),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",29),h.TgZ(9,"small"),h._uU(10," Comments: "),h._UZ(11,"span",30),h.qZA(),h.qZA(),h._UZ(12,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(3),h.Oqu(e.completed?"check_box":"check_box_outline_blank"),h.xp6(1),h.AsE(" ",e.name," (",e.duration," Minutes) "),h.xp6(3),h.hij(" ",e.description?e.description:"-"," "),h.xp6(4),h.Q6J("innerHtml",e.comments?e.comments:"-",h.oJD)}}function Nt(t,i){if(1&t&&(h.TgZ(0,"div",2),h.TgZ(1,"div",13),h.TgZ(2,"mat-card",14),h.TgZ(3,"mat-card-header"),h.TgZ(4,"mat-card-title",6),h._uU(5," Customer "),h.qZA(),h.qZA(),h.TgZ(6,"mat-card-content",15),h.TgZ(7,"div"),h.TgZ(8,"small"),h._uU(9,"Name"),h.qZA(),h.TgZ(10,"div",16),h._uU(11),h.qZA(),h._UZ(12,"mat-divider"),h.qZA(),h.TgZ(13,"div",17),h.TgZ(14,"small"),h._uU(15,"Email"),h.qZA(),h.TgZ(16,"div",16),h._uU(17),h.qZA(),h._UZ(18,"mat-divider"),h.qZA(),h.TgZ(19,"div",17),h.TgZ(20,"small"),h._uU(21,"Phone"),h.qZA(),h.TgZ(22,"div",16),h._uU(23),h.qZA(),h._UZ(24,"mat-divider"),h.qZA(),h.TgZ(25,"div",17),h.TgZ(26,"small"),h._uU(27,"Address"),h.qZA(),h.TgZ(28,"div",16),h._uU(29),h.qZA(),h._UZ(30,"mat-divider"),h.qZA(),h.TgZ(31,"div",17),h.TgZ(32,"small"),h._uU(33,"Existing Customer"),h.qZA(),h.TgZ(34,"div",16),h._uU(35),h.qZA(),h._UZ(36,"mat-divider"),h.qZA(),h.TgZ(37,"div",17),h.TgZ(38,"small"),h._uU(39,"Account Number"),h.qZA(),h.TgZ(40,"div",16),h._uU(41,"-"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(42,"div",18),h.TgZ(43,"mat-card",14),h.TgZ(44,"mat-card-header"),h.TgZ(45,"mat-card-title",6),h._uU(46," Meeting "),h.qZA(),h.qZA(),h.TgZ(47,"mat-card-content",15),h.TgZ(48,"div"),h.TgZ(49,"small"),h._uU(50,"ID"),h.qZA(),h.TgZ(51,"div",16),h._uU(52),h.qZA(),h._UZ(53,"mat-divider"),h.qZA(),h.TgZ(54,"div",17),h.TgZ(55,"small"),h._uU(56,"Purpose"),h.qZA(),h.TgZ(57,"div",16),h._uU(58),h.qZA(),h._UZ(59,"mat-divider"),h.qZA(),h.TgZ(60,"div",17),h.TgZ(61,"small"),h._uU(62,"Agent"),h.qZA(),h.TgZ(63,"div",16),h._uU(64),h.qZA(),h._UZ(65,"mat-divider"),h.qZA(),h.TgZ(66,"div",17),h.TgZ(67,"small"),h._uU(68,"Scheduled Date"),h.qZA(),h.TgZ(69,"div",16),h._uU(70),h.ALo(71,"date"),h.qZA(),h._UZ(72,"mat-divider"),h.qZA(),h.TgZ(73,"div",17),h.TgZ(74,"small"),h._uU(75,"Meeting Date"),h.qZA(),h.TgZ(76,"div",16),h._uU(77),h.ALo(78,"date"),h.ALo(79,"date"),h.qZA(),h._UZ(80,"mat-divider"),h.qZA(),h.TgZ(81,"div",17),h.TgZ(82,"div"),h.TgZ(83,"small"),h._uU(84,"Recording"),h.qZA(),h.YNc(85,bt,2,1,"div",12),h.qZA(),h.YNc(86,wt,3,0,"div",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(87,"div",13),h.TgZ(88,"mat-card",14),h.TgZ(89,"mat-card-header"),h.TgZ(90,"mat-card-title",6),h._uU(91," Geolocation "),h.qZA(),h.qZA(),h.TgZ(92,"mat-card-content",15),h.TgZ(93,"div"),h.TgZ(94,"small"),h._uU(95,"IP Address"),h.qZA(),h.TgZ(96,"div",16),h._uU(97),h.qZA(),h._UZ(98,"mat-divider"),h.qZA(),h.TgZ(99,"div",17),h.TgZ(100,"small"),h._uU(101,"Latitude"),h.qZA(),h.TgZ(102,"div",16),h._uU(103),h.qZA(),h._UZ(104,"mat-divider"),h.qZA(),h.TgZ(105,"div",17),h.TgZ(106,"small"),h._uU(107,"Longitude"),h.qZA(),h.TgZ(108,"div",16),h._uU(109),h.qZA(),h._UZ(110,"mat-divider"),h.qZA(),h.TgZ(111,"div",17),h.TgZ(112,"small"),h._uU(113,"Address"),h.qZA(),h.TgZ(114,"div",16),h._uU(115),h.qZA(),h._UZ(116,"mat-divider"),h.qZA(),h.TgZ(117,"div",17),h.TgZ(118,"small"),h._uU(119,"Region"),h.qZA(),h.TgZ(120,"div",16),h._uU(121),h.qZA(),h._UZ(122,"mat-divider"),h.qZA(),h.TgZ(123,"div",17),h.TgZ(124,"small"),h._uU(125,"ISP"),h.qZA(),h.TgZ(126,"div",16),h._uU(127),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(128,"div",18),h.TgZ(129,"mat-card",14),h.TgZ(130,"mat-card-header"),h.TgZ(131,"mat-card-title",6),h._uU(132," Map "),h.qZA(),h.qZA(),h.TgZ(133,"mat-card-content",19),h.YNc(134,Dt,2,1,"div",20),h.YNc(135,Mt,3,0,"ng-template",null,21,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(137,"div",22),h.TgZ(138,"mat-card",10),h.TgZ(139,"mat-card-header"),h.TgZ(140,"mat-card-title",6),h._uU(141," Checklist "),h.qZA(),h.qZA(),h.TgZ(142,"mat-card-content",15),h.YNc(143,Ot,2,0,"p",12),h.YNc(144,Yt,13,5,"div",23),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(136),a=h.oxw(2);h.xp6(11),h.hij(" ",a.selectedItem.customer.name," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.email," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.phone?a.selectedItem.customer.phone:"-"," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.address?a.selectedItem.customer.address:"-"," "),h.xp6(6),h.hij(" ",a.selectedItem.customer.isExistingCustomer?"Yes":"No"," "),h.xp6(17),h.hij(" ",a.selectedItem.roomId," "),h.xp6(6),h.hij(" ",a.selectedItem.purpose.name," "),h.xp6(6),h.Oqu(a.selectedItem.agent),h.xp6(6),h.AsE(" ",h.xi3(71,25,a.selectedItem.dateTime,"dd MMM YYYY | h:mm a")," (",a.selectedItem.duration," Minutes) "),h.xp6(7),h.AsE(" ",a.meetingData&&a.meetingData.meetingStart?h.xi3(78,28,a.meetingData.meetingStart,"dd MMM YYYY | h:mma"):"-"," - ",a.meetingData&&a.meetingData.meetingEnd?h.xi3(79,31,a.meetingData.meetingEnd,"h:mm a"):"-"," "),h.xp6(8),h.Q6J("ngIf",a.recordings&&a.recordings.length>0),h.xp6(1),h.Q6J("ngIf",!a.recordings),h.xp6(11),h.hij(" ",a.meetingData&&a.meetingData.ipAddress?a.meetingData.ipAddress:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.latitude?a.geolocation.latitude:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.longitude?a.geolocation.longitude:"-"," "),h.xp6(6),h.AsE(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.city?a.geolocation.isp.city:"-",", ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.country?a.geolocation.isp.country:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.region?a.geolocation.isp.region:"-"," "),h.xp6(6),h.hij(" ",a.geolocation&&a.geolocation.isp&&a.geolocation.isp.org?a.geolocation.isp.org:"-"," "),h.xp6(7),h.Q6J("ngIf",a.geolocation&&a.geolocation.latitude&&a.geolocation.longitude)("ngIfElse",e),h.xp6(9),h.Q6J("ngIf",a.loadingMeetingData),h.xp6(1),h.Q6J("ngForOf",a.checklists)}}function Jt(t,i){1&t&&(h.TgZ(0,"small"),h._uU(1,"Record Not Found"),h.qZA())}var Ct=function(t){return{color:t}};function St(t,i){if(1&t&&(h.TgZ(0,"mat-icon",37),h._uU(1," verified"),h.qZA()),2&t){var e=h.oxw().$implicit;h.Q6J("ngStyle",h.VKq(1,Ct,e.metadata.isSimilar?"green":"red"))}}function kt(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div",32),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(3).viewCapturedImage(t)}),h.YNc(2,St,2,3,"mat-icon",33),h._UZ(3,"img",34),h.TgZ(4,"div",35),h.TgZ(5,"p",36),h._uU(6),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit,n=h.oxw(3);h.xp6(2),h.Q6J("ngIf",a.metadata),h.xp6(1),h.Q6J("src",n.backendUrl+a.path,h.LSH),h.xp6(3),h.Oqu(a.typeName)}}function Qt(t,i){if(1&t&&(h.TgZ(0,"div",31),h.YNc(1,kt,7,3,"div",24),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",e.meetingData.images)}}function Et(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function Pt(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"small",17),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function Ht(t,i){if(1&t&&(h.TgZ(0,"div",17),h.TgZ(1,"small"),h._uU(2),h.qZA(),h.TgZ(3,"div",16),h._uU(4),h.qZA(),h._UZ(5,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(2),h.Oqu(e.field),h.xp6(2),h.Oqu(e.value)}}function Ft(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"small"),h._uU(3,"Form"),h.qZA(),h.TgZ(4,"div",16),h._uU(5),h.qZA(),h._UZ(6,"mat-divider"),h.qZA(),h.YNc(7,Ht,6,2,"div",23),h.qZA()),2&t){var e=h.oxw(2);h.xp6(5),h.Oqu(e.form.title),h.xp6(2),h.Q6J("ngForOf",e.form.data)}}function jt(t,i){if(1&t&&(h.TgZ(0,"div",2),h.TgZ(1,"div",3),h.YNc(2,Nt,145,34,"div",1),h.qZA(),h.TgZ(3,"div",4),h.TgZ(4,"div",2),h.TgZ(5,"div",5),h.TgZ(6,"mat-card"),h.TgZ(7,"mat-card-header"),h.TgZ(8,"mat-card-title",6),h._uU(9," Images "),h.qZA(),h.qZA(),h.TgZ(10,"mat-card-content"),h.YNc(11,Jt,2,0,"small",7),h.YNc(12,Qt,2,1,"ng-template",null,8,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",9),h.TgZ(15,"mat-card",10),h.TgZ(16,"mat-card-header"),h.TgZ(17,"mat-card-title",6),h._uU(18," Data "),h.qZA(),h.qZA(),h.TgZ(19,"mat-card-content",11),h.YNc(20,Et,2,0,"p",12),h.YNc(21,Pt,3,0,"div",12),h.YNc(22,Ft,8,2,"div",12),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(13),a=h.oxw();h.xp6(2),h.Q6J("ngIf",a.selectedItem),h.xp6(9),h.Q6J("ngIf",!a.meetingData||!a.meetingData.images||0===a.meetingData.images.length)("ngIfElse",e),h.xp6(9),h.Q6J("ngIf",a.loadingMeetingData),h.xp6(1),h.Q6J("ngIf",!a.form),h.xp6(1),h.Q6J("ngIf",a.form)}}function Lt(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"a",30),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(3).goToLink(t)}),h._uU(3),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit;h.xp6(3),h.Oqu(a)}}function Rt(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,Lt,4,1,"div",29),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",e.callHistoryData.meetingData.recordings)}}function $t(t,i){1&t&&(h.TgZ(0,"div"),h._uU(1,"-"),h.qZA())}function Gt(t,i){if(1&t&&(h.TgZ(0,"div",5),h._UZ(1,"iframe",31),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("src",e.geolocation.safeUrl,h.uOi)}}function zt(t,i){1&t&&(h.TgZ(0,"div",32),h.TgZ(1,"small"),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function Vt(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function Wt(t,i){if(1&t&&(h.TgZ(0,"div",9),h.TgZ(1,"div"),h.TgZ(2,"mat-icon",33),h._uU(3),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"div",34),h.TgZ(6,"small"),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",34),h.TgZ(9,"small"),h._uU(10," Comments: "),h._UZ(11,"span",35),h.qZA(),h.qZA(),h._UZ(12,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(3),h.Oqu(e.completed?"check_box":"check_box_outline_blank"),h.xp6(1),h.AsE(" ",e.name," (",e.duration," Minutes) "),h.xp6(3),h.hij(" ",e.description?e.description:"-"," "),h.xp6(4),h.Q6J("innerHtml",e.comments?e.comments:"-",h.oJD)}}function Bt(t,i){1&t&&(h.TgZ(0,"small"),h._uU(1,"Record Not Found"),h.qZA())}var Kt=function(t){return{color:t}};function Xt(t,i){if(1&t&&(h.TgZ(0,"mat-icon",42),h._uU(1," verified"),h.qZA()),2&t){var e=h.oxw().$implicit;h.Q6J("ngStyle",h.VKq(1,Kt,e.metadata.isSimilar?"green":"red"))}}function ti(t,i){if(1&t){var e=h.EpF();h.TgZ(0,"div"),h.TgZ(1,"div",37),h.NdJ("click",function(){var t=h.CHM(e).$implicit;return h.oxw(3).viewCapturedImage(t)}),h.YNc(2,Xt,2,3,"mat-icon",38),h._UZ(3,"img",39),h.TgZ(4,"div",40),h.TgZ(5,"p",41),h._uU(6),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){var a=i.$implicit,n=h.oxw(3);h.xp6(2),h.Q6J("ngIf",a.metadata),h.xp6(1),h.Q6J("src",n.backendUrl+a.path,h.LSH),h.xp6(3),h.Oqu(a.typeName)}}function ii(t,i){if(1&t&&(h.TgZ(0,"div",36),h.YNc(1,ti,7,3,"div",29),h.qZA()),2&t){var e=h.oxw(2);h.xp6(1),h.Q6J("ngForOf",e.images)}}function ei(t,i){1&t&&(h.TgZ(0,"p"),h._uU(1,"Loading..."),h.qZA())}function ai(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"small",9),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function ni(t,i){if(1&t&&(h.TgZ(0,"div",9),h.TgZ(1,"small"),h._uU(2),h.qZA(),h.TgZ(3,"div",8),h._uU(4),h.qZA(),h._UZ(5,"mat-divider"),h.qZA()),2&t){var e=i.$implicit;h.xp6(2),h.Oqu(e.field),h.xp6(2),h.Oqu(e.value)}}function oi(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"div"),h.TgZ(2,"small"),h._uU(3,"Form"),h.qZA(),h.TgZ(4,"div",8),h._uU(5),h.qZA(),h._UZ(6,"mat-divider"),h.qZA(),h.YNc(7,ni,6,2,"div",19),h.qZA()),2&t){var e=h.oxw(2);h.xp6(5),h.Oqu(e.form.title),h.xp6(2),h.Q6J("ngForOf",e.form.data)}}function gi(t,i){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"small",9),h._uU(2,"Record Not Found"),h.qZA(),h.qZA())}function ri(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"mat-card",43),h.TgZ(2,"span",44),h._uU(3,"You"),h.qZA(),h.TgZ(4,"mat-card-content",45),h._uU(5),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.oxw().$implicit;h.xp6(5),h.hij(" ",e.message," ")}}function ci(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"mat-card",46),h.TgZ(2,"span",47),h._uU(3),h.qZA(),h.TgZ(4,"mat-card-content",45),h._uU(5),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.oxw().$implicit;h.xp6(3),h.Oqu(e.name),h.xp6(2),h.hij(" ",e.message," ")}}function di(t,i){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,ri,6,1,"div",18),h.YNc(2,ci,6,2,"div",18),h.qZA()),2&t){var e=i.$implicit;h.xp6(1),h.Q6J("ngIf","You"===e.name),h.xp6(1),h.Q6J("ngIf","You"!==e.name)}}function si(t,i){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h3"),h._uU(2),h.ALo(3,"date"),h.qZA(),h.YNc(4,di,3,2,"div",29),h.qZA()),2&t){var e=i.$implicit;h.xp6(2),h.hij(" ",h.xi3(3,2,e.date,"dd MMM YYYY | h:mm a")," "),h.xp6(2),h.Q6J("ngForOf",e.messages)}}function li(t,i){if(1&t&&(h.TgZ(0,"div",1),h.TgZ(1,"div",2),h.TgZ(2,"div",3),h.TgZ(3,"div",2),h.TgZ(4,"div",4),h.TgZ(5,"mat-card",5),h.TgZ(6,"mat-card-header"),h.TgZ(7,"mat-card-title",6),h._uU(8," Customer "),h.qZA(),h.qZA(),h.TgZ(9,"mat-card-content",7),h.TgZ(10,"div"),h.TgZ(11,"small"),h._uU(12,"Name"),h.qZA(),h.TgZ(13,"div",8),h._uU(14),h.qZA(),h._UZ(15,"mat-divider"),h.qZA(),h.TgZ(16,"div",9),h.TgZ(17,"small"),h._uU(18,"Email"),h.qZA(),h.TgZ(19,"div",8),h._uU(20),h.qZA(),h._UZ(21,"mat-divider"),h.qZA(),h.TgZ(22,"div",9),h.TgZ(23,"small"),h._uU(24,"Phone"),h.qZA(),h.TgZ(25,"div",8),h._uU(26),h.qZA(),h._UZ(27,"mat-divider"),h.qZA(),h.TgZ(28,"div",9),h.TgZ(29,"small"),h._uU(30,"Address"),h.qZA(),h.TgZ(31,"div",8),h._uU(32),h.qZA(),h._UZ(33,"mat-divider"),h.qZA(),h.TgZ(34,"div",9),h.TgZ(35,"small"),h._uU(36,"Account Number"),h.qZA(),h.TgZ(37,"div",8),h._uU(38),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(39,"div",10),h.TgZ(40,"mat-card",5),h.TgZ(41,"mat-card-header"),h.TgZ(42,"mat-card-title",6),h._uU(43," Meeting "),h.qZA(),h.qZA(),h.TgZ(44,"mat-card-content",7),h.TgZ(45,"div"),h.TgZ(46,"small"),h._uU(47,"ID"),h.qZA(),h.TgZ(48,"div",8),h._uU(49),h.qZA(),h._UZ(50,"mat-divider"),h.qZA(),h.TgZ(51,"div",9),h.TgZ(52,"small"),h._uU(53,"Purpose"),h.qZA(),h.TgZ(54,"div",8),h._uU(55),h.qZA(),h._UZ(56,"mat-divider"),h.qZA(),h.TgZ(57,"div",9),h.TgZ(58,"small"),h._uU(59,"Agent"),h.qZA(),h.TgZ(60,"div",8),h._uU(61),h.qZA(),h._UZ(62,"mat-divider"),h.qZA(),h.TgZ(63,"div",9),h.TgZ(64,"small"),h._uU(65,"Scheduled Date"),h.qZA(),h.TgZ(66,"div",8),h._uU(67),h.ALo(68,"date"),h.qZA(),h._UZ(69,"mat-divider"),h.qZA(),h.TgZ(70,"div",9),h.TgZ(71,"small"),h._uU(72,"Meeting Date"),h.qZA(),h.TgZ(73,"div",8),h._uU(74),h.ALo(75,"date"),h.ALo(76,"date"),h.qZA(),h._UZ(77,"mat-divider"),h.qZA(),h.TgZ(78,"div",9),h.TgZ(79,"div"),h.TgZ(80,"small"),h._uU(81,"Recording"),h.qZA(),h.YNc(82,Rt,2,1,"div",11),h.qZA(),h.YNc(83,$t,2,0,"ng-template",null,12,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(85,"div",4),h.TgZ(86,"mat-card",5),h.TgZ(87,"mat-card-header"),h.TgZ(88,"mat-card-title",6),h._uU(89," Geolocation "),h.qZA(),h.qZA(),h.TgZ(90,"mat-card-content",7),h.TgZ(91,"div"),h.TgZ(92,"small"),h._uU(93,"IP Address"),h.qZA(),h.TgZ(94,"div",8),h._uU(95),h.qZA(),h._UZ(96,"mat-divider"),h.qZA(),h.TgZ(97,"div",9),h.TgZ(98,"small"),h._uU(99,"Latitude"),h.qZA(),h.TgZ(100,"div",8),h._uU(101),h.qZA(),h._UZ(102,"mat-divider"),h.qZA(),h.TgZ(103,"div",9),h.TgZ(104,"small"),h._uU(105,"Longitude"),h.qZA(),h.TgZ(106,"div",8),h._uU(107),h.qZA(),h._UZ(108,"mat-divider"),h.qZA(),h.TgZ(109,"div",9),h.TgZ(110,"small"),h._uU(111,"Address"),h.qZA(),h.TgZ(112,"div",8),h._uU(113),h.qZA(),h._UZ(114,"mat-divider"),h.qZA(),h.TgZ(115,"div",9),h.TgZ(116,"small"),h._uU(117,"Region"),h.qZA(),h.TgZ(118,"div",8),h._uU(119),h.qZA(),h._UZ(120,"mat-divider"),h.qZA(),h.TgZ(121,"div",9),h.TgZ(122,"small"),h._uU(123,"ISP"),h.qZA(),h.TgZ(124,"div",8),h._uU(125),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(126,"div",10),h.TgZ(127,"mat-card",5),h.TgZ(128,"mat-card-header"),h.TgZ(129,"mat-card-title",6),h._uU(130," Map "),h.qZA(),h.qZA(),h.TgZ(131,"mat-card-content",13),h.YNc(132,Gt,2,1,"div",14),h.YNc(133,zt,3,0,"ng-template",null,15,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(135,"div",16),h.TgZ(136,"mat-card",17),h.TgZ(137,"mat-card-header"),h.TgZ(138,"mat-card-title",6),h._uU(139," Checklist "),h.qZA(),h.qZA(),h.TgZ(140,"mat-card-content",7),h.YNc(141,Vt,2,0,"p",18),h.YNc(142,Wt,13,5,"div",19),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(143,"div",20),h.TgZ(144,"div",2),h.TgZ(145,"div",21),h.TgZ(146,"mat-card"),h.TgZ(147,"mat-card-header"),h.TgZ(148,"mat-card-title",6),h._uU(149," Images "),h.qZA(),h.qZA(),h.TgZ(150,"mat-card-content"),h.YNc(151,Bt,2,0,"small",11),h.YNc(152,ii,2,1,"ng-template",null,22,h.W1O),h.qZA(),h.qZA(),h.qZA(),h.TgZ(154,"div",23),h.TgZ(155,"mat-card",17),h.TgZ(156,"mat-card-header"),h.TgZ(157,"mat-card-title",6),h._uU(158," Data "),h.qZA(),h.qZA(),h.TgZ(159,"mat-card-content",24),h.YNc(160,ei,2,0,"p",18),h.YNc(161,ai,3,0,"div",18),h.YNc(162,oi,8,2,"div",18),h.qZA(),h.qZA(),h.qZA(),h.TgZ(163,"div",25),h.TgZ(164,"mat-card"),h.TgZ(165,"mat-card-header"),h.TgZ(166,"mat-card-title",6),h._uU(167," Chat History "),h.qZA(),h.qZA(),h.TgZ(168,"mat-card-content",26),h.YNc(169,gi,3,0,"div",18),h.TgZ(170,"div"),h.TgZ(171,"div",27,28),h.YNc(173,si,5,5,"div",29),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){var e=h.MAs(84),a=h.MAs(134),n=h.MAs(153),o=h.oxw();h.xp6(14),h.hij(" ",o.callHistoryData.customer.name," "),h.xp6(6),h.hij(" ",null==o.callHistoryData.customer.email||""==o.callHistoryData.customer.email?"-":o.callHistoryData.customer.email," "),h.xp6(6),h.hij(" ",""==o.callHistoryData.customer.phone||o.callHistoryData.customer.phone==o.nul?"-":o.callHistoryData.customer.phone," "),h.xp6(6),h.hij(" ",""==o.callHistoryData.customer.address||null==o.callHistoryData.customer.address?"-":o.callHistoryData.customer.address," "),h.xp6(6),h.hij(" ",null==o.callHistoryData.customer.accountNumber||""==o.callHistoryData.customer.accountNumber?"-":o.callHistoryData.customer.accountNumber," "),h.xp6(11),h.hij(" ",o.callHistoryData.meetingData.roomId," "),h.xp6(6),h.hij(" ",o.callHistoryData.meetingData.purpose," "),h.xp6(6),h.hij(" ",o.callHistoryData.meetingData.agentName," "),h.xp6(6),h.AsE(" ",h.xi3(68,32,o.callHistoryData.meetingData.dateTime,"dd MMM YYYY | h:mm a")," (",o.callHistoryData.meetingData.duration," Minutes) "),h.xp6(7),h.AsE(" ",h.xi3(75,35,o.callHistoryData.meetingData.meetingStart,"dd MMM YYYY | h:mma")," - ",h.xi3(76,38,o.callHistoryData.meetingData.meetingEnd,"h:mm a")," "),h.xp6(8),h.Q6J("ngIf",o.callHistoryData.meetingData.recordings&&o.callHistoryData.meetingData.recordings.length>0&&null!=o.callHistoryData.meetingData.recordings)("ngIfElse",e),h.xp6(13),h.hij(" ",o.callHistoryData.meetingData.ipAddress," "),h.xp6(6),h.hij(" ",o.geolocation&&o.geolocation.latitude?o.geolocation.latitude:"-"," "),h.xp6(6),h.hij(" ",o.geolocation&&o.geolocation.longitude?o.geolocation.longitude:"-"," "),h.xp6(6),h.AsE(" ",o.geolocation&&o.geolocation.isp&&o.geolocation.isp.city?o.geolocation.isp.city:"-",", ",o.geolocation&&o.geolocation.isp&&o.geolocation.isp.country?o.geolocation.isp.country:"-"," "),h.xp6(6),h.hij(" ",o.geolocation&&o.geolocation.isp&&o.geolocation.isp.region?o.geolocation.isp.region:"-"," "),h.xp6(6),h.hij(" ",o.geolocation&&o.geolocation.isp&&o.geolocation.isp.org?o.geolocation.isp.org:"-"," "),h.xp6(7),h.Q6J("ngIf",o.geolocation&&o.geolocation.latitude&&o.geolocation.longitude)("ngIfElse",a),h.xp6(9),h.Q6J("ngIf",o.loadingMeetingData),h.xp6(1),h.Q6J("ngForOf",o.checklists),h.xp6(9),h.Q6J("ngIf",!o.callHistoryData.capturedImages)("ngIfElse",n),h.xp6(9),h.Q6J("ngIf",o.loadingMeetingData),h.xp6(1),h.Q6J("ngIf",!o.form),h.xp6(1),h.Q6J("ngIf",o.form),h.xp6(7),h.Q6J("ngIf",0==o.chatData.length),h.xp6(4),h.Q6J("ngForOf",o.chatData)}}var mi=[{path:"",component:Ut,canActivate:[yt.a]},{path:"view/:id",component:function(){function t(t,i,e,a,n,o,g,r,c,d,s){this.spinner=t,this.scheduleService=i,this._sanitizationService=e,this.authService=a,this.capturedImageService=n,this.utilService=o,this.dialog=g,this.usersService=r,this.route=c,this.imageVerificationSerivce=d,this.videoRecordsService=s,this.checklists=[],this.imageTypes=[],this.recordings=[]}return t.prototype.ngOnInit=function(){var t=this;this.backendUrl=u.N.backendUrl,this.route.params.subscribe(function(i){t.id=i.id}),this.getImageTypes(),this.getMeetingData()},t.prototype.getImageTypes=function(){var t=this;this.utilService.getAllCapturedImageTypesUsingGET().subscribe(function(i){t.imageTypes=i})},t.prototype.getMeetingData=function(){var t=this;this.spinner.show(),this.scheduleService.findScheduleByIdUsingGET(this.id).subscribe(function(i){if(t.selectedItem=i,t.meetingData=i.meetingData,t.getCapturedImages(),t.getAgent(t.selectedItem.agentId),t.selectedItem.checklistData&&t.selectedItem.checklistData.data&&JSON.parse(t.selectedItem.checklistData.data).data.forEach(function(i){t.checklists.push(i)}),t.selectedItem.capturedDatas.length>0){var e=t.selectedItem.capturedDatas[0];t.form={},t.form.id=e.id,t.form.formTemplateId=e.formTemplate.id,t.form.title=e.formTemplate.title,t.form.data=JSON.parse(e.data)}if(t.meetingData.geoLocation){var a=JSON.parse(t.meetingData.geoLocation);t.geolocation=a,t.geolocation&&t.geolocation.latitude&&t.geolocation.longitude&&(t.geolocation.safeUrl=t._sanitizationService.bypassSecurityTrustResourceUrl("https://maps.google.com/maps/embed/v1/place?key=AIzaSyAFHE8_4FrJJ7BTbGT5DUpm1IttHijJYoM&q="+t.geolocation.latitude+","+t.geolocation.longitude))}t.getRecordings(t.selectedItem.roomId),t.spinner.hide()},function(t){alert("Error: "+JSON.stringify(t))})},t.prototype.getRecordings=function(t){var i=this;this.recordings=[],this.videoRecordsService.getVideoRecordsUsingGET(t).subscribe(function(t){i.recordings=t},function(t){i.recordings=[]})},t.prototype.viewCapturedImage=function(t){this.dialog.open(Y,{data:t,width:"800px"})},t.prototype.getCapturedImages=function(){var t=this;this.capturedImageService.getAllCapturedImagesByScheduleIdUsingGET(this.id).subscribe(function(i){console.log(i),i&&t.meetingData&&(t.meetingData.images=i,t.meetingData.images=[],i.forEach(function(i){var e=JSON.parse(JSON.stringify(i)),a=t.imageTypes.filter(function(t){return t.id===i.type});e.typeName=a.length>0?a[0].type:"Unknown",e.metadata&&(e.metadata=JSON.parse(e.metadata)),t.meetingData.images.push(e)}))})},t.prototype.getAgent=function(t){var i=this,e=this.authService.getUserInformation();t===e.id?this.selectedItem.agent=e.name:this.usersService.usersGetUser(t).subscribe(function(t){i.selectedItem.agent=t.name})},t.prototype.goToLink=function(t){window.open(t,"_blank")},t.\u0275fac=function(i){return new(i||t)(h.Y36(N.t2),h.Y36(J.u),h.Y36(S.H7),h.Y36(k.e),h.Y36(Q.M),h.Y36(E.f),h.Y36(f.uw),h.Y36(P.f),h.Y36(p.gz),h.Y36(A.h),h.Y36(R))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-call-history-view-single"]],decls:2,vars:1,consts:[[1,"inner-container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-lg-9"],[1,"col-lg-3"],[1,"col-md-12","form-group"],[2,"margin-left","-15px"],[4,"ngIf","ngIfElse"],["capturedImages",""],[1,"col-md-12"],[2,"min-height","100%"],[2,"min-height","74%"],[4,"ngIf"],[1,"col-lg-5","col-md-12","form-group"],[2,"height","100%"],[2,"min-height","200px"],[2,"padding-bottom","10px"],[2,"padding-top","10px"],[1,"col-lg-7","col-md-12","form-group"],[2,"height","90%"],["style","height: 100%",4,"ngIf","ngIfElse"],["nogeolocation",""],[1,"col-lg-12","col-md-12","form-group"],["style","padding-top: 10px",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[2,"color","blue","cursor","pointer",3,"click"],["frameborder","0","scrolling","no","marginheight","0","marginwidth","0",2,"margin-bottom","-6px","width","100%","height","100%","filter","invert(90%)","border-radius","5%",3,"src"],[2,"height","100%","display","grid","place-content","center","text-align","center"],[2,"vertical-align","middle"],[2,"padding-bottom","10px","margin-left","28px"],[3,"innerHtml"],[1,"grid-container"],[1,"img__wrap",3,"click"],["class","image-verification-icon",3,"ngStyle",4,"ngIf"],[3,"src"],[1,"img__description_layer"],[1,"img__description"],[1,"image-verification-icon",3,"ngStyle"]],template:function(t,i){1&t&&(h.TgZ(0,"div",0),h.YNc(1,jt,23,6,"div",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",i.selectedItem))},directives:[n.O5,r.a8,r.dk,r.n5,r.dn,T.d,n.sg,d.Hw,n.PC],pipes:[n.uU],styles:[".dashboard-card[_ngcontent-%COMP%]{padding:5px;width:100%;height:100%}.dashboard-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{height:100%}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px}.img__wrap[_ngcontent-%COMP%]{aspect-ratio:1;position:relative;width:100%;height:100%;border-radius:6px;overflow:hidden;cursor:pointer}.img__wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.img__description_layer[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;color:#fff;visibility:hidden;opacity:0;display:flex;align-items:center;justify-content:center;padding:20px;text-align:center;transition:opacity .2s,visibility .2s}.img__wrap[_ngcontent-%COMP%]:hover   .img__description_layer[_ngcontent-%COMP%]{visibility:visible;opacity:1}.img__description[_ngcontent-%COMP%]{transition:.2s;transform:translateY(1em)}.img__wrap[_ngcontent-%COMP%]:hover   .img__description[_ngcontent-%COMP%]{transform:translateY(0)}.image-verification-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}"]}),t}(),canActivate:[yt.a]},{path:"view-single/:id",component:function(){function t(t,i,e,a,n,o){this.spinner=t,this.scheduleService=i,this._sanitizationService=e,this.utilService=a,this.dialog=n,this.route=o,this.images=[],this.checklists=[],this.imageTypes=[],this.recordings=[],this.chatData=[]}return t.prototype.ngOnInit=function(){var t=this;this.backendUrl=u.N.backendUrl,this.route.params.subscribe(function(i){t.id=i.id}),this.getData(this.id),this.getImageTypes()},t.prototype.getData=function(t){var i=this;this.scheduleService.getHistoryUsingGET(t).subscribe(function(t){if(i.callHistoryData=t,i.callHistoryData.meetingData.geoLocation){var e=JSON.parse(i.callHistoryData.meetingData.geoLocation);i.geolocation=e,i.geolocation&&i.geolocation.latitude&&i.geolocation.longitude&&(i.geolocation.safeUrl=i._sanitizationService.bypassSecurityTrustResourceUrl("https://maps.google.com/maps/embed/v1/place?key=AIzaSyAFHE8_4FrJJ7BTbGT5DUpm1IttHijJYoM&q="+i.geolocation.latitude+","+i.geolocation.longitude))}i.callHistoryData.meetingData.checkListData&&JSON.parse(i.callHistoryData.meetingData.checkListData).data.forEach(function(t){i.checklists.push(t)}),i.callHistoryData.meetingData.capturedData&&(i.form={},i.form.title=i.callHistoryData.meetingData.formTitle,i.form.data=JSON.parse(i.callHistoryData.meetingData.capturedData[0])),i.callHistoryData.capturedImages&&i.callHistoryData.capturedImages.forEach(function(t){var e=JSON.parse(JSON.stringify(t)),a=i.imageTypes.filter(function(i){return i.id===t.type});e.typeName=a.length>0?a[0].type:"Unknown",e.metadata&&(e.metadata=JSON.parse(e.metadata)),i.images.push(e)}),i.callHistoryData.meetingData.chatData.length>0&&i.callHistoryData.meetingData.chatData.forEach(function(t){i.chatData.push({date:t.createdDate,messages:JSON.parse(t.data)})})})},t.prototype.getImageTypes=function(){var t=this;this.utilService.getAllCapturedImageTypesUsingGET().subscribe(function(i){t.imageTypes=i})},t.prototype.viewCapturedImage=function(t){this.dialog.open(Y,{data:t,width:"800px"})},t.prototype.goToLink=function(t){window.open(t,"_blank")},t.\u0275fac=function(i){return new(i||t)(h.Y36(N.t2),h.Y36(J.u),h.Y36(S.H7),h.Y36(E.f),h.Y36(f.uw),h.Y36(p.gz))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-call-history-single-open"]],decls:1,vars:1,consts:[["class","inner-container",4,"ngIf"],[1,"inner-container"],[1,"row"],[1,"col-lg-9"],[1,"col-lg-5","col-md-12","form-group"],[2,"height","100%"],[2,"margin-left","-15px"],[2,"min-height","200px"],[2,"padding-bottom","10px"],[2,"padding-top","10px"],[1,"col-lg-7","col-md-12","form-group"],[4,"ngIf","ngIfElse"],["noRecordings",""],[2,"height","90%"],["style","height: 100%",4,"ngIf","ngIfElse"],["nogeolocation",""],[1,"col-lg-12","col-md-12","form-group"],[2,"min-height","100%"],[4,"ngIf"],["style","padding-top: 10px",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"col-md-12","form-group"],["capturedImages",""],[1,"col-md-12"],[2,"min-height","74%"],[1,"col-md-12","mt-3"],[1,"messages",2,"overflow","auto","height","478px"],["id","messageBox"],["scrollMe",""],[4,"ngFor","ngForOf"],[2,"color","blue","cursor","pointer",3,"click"],["frameborder","0","scrolling","no","marginheight","0","marginwidth","0",2,"margin-bottom","-6px","width","100%","height","100%","filter","invert(90%)","border-radius","5%",3,"src"],[2,"height","100%","display","grid","place-content","center","text-align","center"],[2,"vertical-align","middle"],[2,"padding-bottom","10px","margin-left","28px"],[3,"innerHtml"],[1,"grid-container"],[1,"img__wrap",3,"click"],["class","image-verification-icon",3,"ngStyle",4,"ngIf"],[3,"src"],[1,"img__description_layer"],[1,"img__description"],[1,"image-verification-icon",3,"ngStyle"],[1,"card-header-to"],[1,"msg-user",2,"color","black"],[2,"font-size","15px","margin-top","4px","margin-bottom","5px"],[1,"card-header-from"],[1,"msg-user"]],template:function(t,i){1&t&&h.YNc(0,li,174,41,"div",0),2&t&&h.Q6J("ngIf",i.callHistoryData)},directives:[n.O5,r.a8,r.dk,r.n5,r.dn,T.d,n.sg,d.Hw,n.PC],pipes:[n.uU],styles:[".dashboard-card[_ngcontent-%COMP%]{padding:5px;width:100%;height:100%}.dashboard-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{height:100%}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px}.img__wrap[_ngcontent-%COMP%]{aspect-ratio:1;position:relative;width:100%;height:100%;border-radius:6px;overflow:hidden;cursor:pointer}.img__wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.img__description_layer[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;color:#fff;visibility:hidden;opacity:0;display:flex;align-items:center;justify-content:center;padding:20px;text-align:center;transition:opacity .2s,visibility .2s}.img__wrap[_ngcontent-%COMP%]:hover   .img__description_layer[_ngcontent-%COMP%]{visibility:visible;opacity:1}.img__description[_ngcontent-%COMP%]{transition:.2s;transform:translateY(1em)}.img__wrap[_ngcontent-%COMP%]:hover   .img__description[_ngcontent-%COMP%]{transform:translateY(0)}.image-verification-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}.card-header-from[_ngcontent-%COMP%]{background:#35a3f2;color:#fff;margin:10px 10px 10px 50px;border-radius:10px;display:flex;justify-content:space-between}.msg-user[_ngcontent-%COMP%]{font-size:12px;color:#dfdfdf;position:absolute;top:5px;right:5px;font-weight:100}.msg-time[_ngcontent-%COMP%]{position:absolute;bottom:0;left:2px;font-size:10px}.card-header-to[_ngcontent-%COMP%]{background:#c4c6c6;color:#000;margin:10px 50px 10px 10px;border-radius:10px;display:flex;justify-content:space-between}.messages[_ngcontent-%COMP%]{overflow:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;background:grey;box-shadow:inset 0 0 4px #707070}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff;border-radius:10px}"]}),t}()}],Zi=function(){function t(){}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[],imports:[[p.Bz.forChild(mi)],p.Bz]}),t}(),pi=e(2762),ui=function(){function t(){}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[n.ez,o.u5,Z.m,Zi,m.SJ,l.ie,g.ot,s.c,r.QW,d.Ps,c.N6,a.rP,f.Is,pi.vV]]}),t}()}}]);