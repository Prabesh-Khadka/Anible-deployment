(self.webpackChunkmikha_angular_client=self.webpackChunkmikha_angular_client||[]).push([[633],{9845:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var i=n(2693),r=n(6129),o=n(8320),a=n(5162),s=n(1785),u=function(){function e(e,t,n){this.httpClient=e,this.basePath=o.Lt,this.defaultHeaders=new i.WM,this.configuration=new a.V,n&&(this.configuration=n),"string"!=typeof this.configuration.basePath&&("string"!=typeof t&&(t=this.basePath),this.configuration.basePath=t),this.encoder=this.configuration.encoder||new r.H}return e.prototype.addToHttpParams=function(e,t,n){return"object"==typeof t&&t instanceof Date==0?this.addToHttpParamsRecursive(e,t):this.addToHttpParamsRecursive(e,t,n)},e.prototype.addToHttpParamsRecursive=function(e,t,n){var i=this;if(null==t)return e;if("object"==typeof t)if(Array.isArray(t))t.forEach(function(t){return e=i.addToHttpParamsRecursive(e,t,n)});else if(t instanceof Date){if(null==n)throw Error("key may not be null if value is Date");e=e.append(n,t.toISOString().substr(0,10))}else Object.keys(t).forEach(function(r){return e=i.addToHttpParamsRecursive(e,t[r],null!=n?n+"."+r:r)});else{if(null==n)throw Error("key may not be null if value is not object or array");e=e.append(n,t)}return e},e.prototype.filterCustomersUsingPOST=function(e,t,n,i){if(void 0===t&&(t="body"),void 0===n&&(n=!1),null==e)throw new Error("Required parameter dto was null or undefined when calling filterCustomersUsingPOST.");var r,o=this.defaultHeaders;(r=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",r));var a=i&&i.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["*/*"])),void 0!==a&&(o=o.set("Accept",a));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.post(this.configuration.basePath+"/customer/filter",e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:t,reportProgress:n})},e.prototype.findAllCustomersUsingGET=function(e,t,n,r,o,a){var s=this;void 0===r&&(r="body"),void 0===o&&(o=!1);var u=new i.LE({encoder:this.encoder});null!=e&&(u=this.addToHttpParams(u,e,"page")),null!=t&&(u=this.addToHttpParams(u,t,"size")),n&&n.forEach(function(e){u=s.addToHttpParams(u,e,"sort")});var l,d=this.defaultHeaders;(l=this.configuration.lookupCredential("JWT"))&&(d=d.set("Authorization",l));var c=a&&a.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["*/*"])),void 0!==c&&(d=d.set("Accept",c));var m="json";return c&&c.startsWith("text")&&(m="text"),this.httpClient.get(this.configuration.basePath+"/customer/get-all",{params:u,responseType:m,withCredentials:this.configuration.withCredentials,headers:d,observe:r,reportProgress:o})},e.prototype.findCustomerByIdUsingGET=function(e,t,n,i){if(void 0===t&&(t="body"),void 0===n&&(n=!1),null==e)throw new Error("Required parameter id was null or undefined when calling findCustomerByIdUsingGET.");var r,o=this.defaultHeaders;(r=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",r));var a=i&&i.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["*/*"])),void 0!==a&&(o=o.set("Accept",a));var s="json";return a&&a.startsWith("text")&&(s="text"),this.httpClient.get(this.configuration.basePath+"/customer/get/"+encodeURIComponent(String(e)),{responseType:s,withCredentials:this.configuration.withCredentials,headers:o,observe:t,reportProgress:n})},e.prototype.findCustomerByRoomIdUsingGET=function(e,t,n){if(void 0===t&&(t="body"),void 0===n&&(n=!1),null==e)throw new Error("Required parameter roomId was null or undefined when calling findCustomerByRoomIdUsingGET.");var i=this.defaultHeaders;this.configuration.apiKeys&&this.configuration.apiKeys.Authorization&&(i=i.set("Authorization",this.configuration.apiKeys.Authorization));var r=this.configuration.selectHeaderAccept(["*/*"]);return null!=r&&(i=i.set("Accept",r)),this.httpClient.get(this.basePath+"/customer/get-by-room/"+encodeURIComponent(String(e)),{withCredentials:this.configuration.withCredentials,headers:i,observe:t,reportProgress:n})},e.prototype.saveCustomerUsingPOST=function(e,t,n,i){if(void 0===t&&(t="body"),void 0===n&&(n=!1),null==e)throw new Error("Required parameter dto was null or undefined when calling saveCustomerUsingPOST.");var r,o=this.defaultHeaders;(r=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",r));var a=i&&i.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["*/*"])),void 0!==a&&(o=o.set("Accept",a));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.post(this.configuration.basePath+"/customer",e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:t,reportProgress:n})},e.prototype.updateCustomerUsingPUT=function(e,t,n,i){if(void 0===t&&(t="body"),void 0===n&&(n=!1),null==e)throw new Error("Required parameter dto was null or undefined when calling updateCustomerUsingPUT.");var r,o=this.defaultHeaders;(r=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",r));var a=i&&i.httpHeaderAccept;void 0===a&&(a=this.configuration.selectHeaderAccept(["*/*"])),void 0!==a&&(o=o.set("Accept",a));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var u="json";return a&&a.startsWith("text")&&(u="text"),this.httpClient.put(this.configuration.basePath+"/customer",e,{responseType:u,withCredentials:this.configuration.withCredentials,headers:o,observe:t,reportProgress:n})},e.\u0275fac=function(t){return new(t||e)(s.LFG(i.eN),s.LFG(o.GW,8),s.LFG(a.V,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},2633:function(e,t,n){"use strict";n.r(t),n.d(t,{SchedulerModule:function(){return he}});var i=n(5425),r=n(4762),o=n(1041),a=n(7701),s=n(4689),u=n(1785),l=n(9845),d=n(2935),c=n(3070),m=n(9550),h=n(9961),p=n(1116),g=n(4369),f=n(7064);function v(e,t){if(1&e&&(u.TgZ(0,"mat-option",11),u.TgZ(1,"div"),u.TgZ(2,"small"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"div"),u.TgZ(5,"small"),u._uU(6),u.qZA(),u.qZA(),u.qZA()),2&e){var n=t.$implicit;u.Q6J("value",n),u.xp6(3),u.Oqu(n.name),u.xp6(3),u.Oqu(n.email)}}var Z=function(){function e(e,t){this.customerService=e,this.dialogRef=t,this.userCtrl=new o.NI}return e.prototype.onNoClick=function(){this.dialogRef.close()},e.prototype.onOk=function(){this.dialogRef.close({name:this.userCtrl.value.name,id:this.userCtrl.value.id,email:this.userCtrl.value.email,phone:this.userCtrl.value.phone,address:this.userCtrl.value.address})},e.prototype.ngOnInit=function(){var e=this;this.filteredUsers=this.userCtrl.valueChanges.pipe((0,a.b)(300),(0,s.w)(function(t){return e.customerService.filterCustomersUsingPOST({name:t,email:""})}))},e.prototype.displayFn=function(e){if(e)return e.name?e.name:e.email},e.\u0275fac=function(t){return new(t||e)(u.Y36(l.v),u.Y36(d.so))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-dialog-customer-select"]],decls:16,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row","form-group"],[1,"col-md-12"],["matInput","","placeholder","Select",3,"matAutocomplete","formControl"],[3,"displayWith"],["userAuto","matAutocomplete"],["class","multiline-mat-option",3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"],[1,"multiline-mat-option",3,"value"]],template:function(e,t){if(1&e&&(u.TgZ(0,"h1",0),u._uU(1,"Search Customers"),u.qZA(),u.TgZ(2,"div",1),u.TgZ(3,"div",2),u.TgZ(4,"div",3),u.TgZ(5,"mat-form-field"),u._UZ(6,"input",4),u.qZA(),u.TgZ(7,"mat-autocomplete",5,6),u.YNc(9,v,7,3,"mat-option",7),u.ALo(10,"async"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",8),u.TgZ(12,"button",9),u.NdJ("click",function(){return t.onNoClick()}),u._uU(13,"CANCEL"),u.qZA(),u.TgZ(14,"button",10),u.NdJ("click",function(){return t.onOk()}),u._uU(15,"OK"),u.qZA(),u.qZA()),2&e){var n=u.MAs(8);u.xp6(6),u.Q6J("matAutocomplete",n)("formControl",t.userCtrl),u.xp6(1),u.Q6J("displayWith",t.displayFn),u.xp6(2),u.Q6J("ngForOf",u.lcZ(10,4,t.filteredUsers))}},directives:[d.uh,d.xY,c.KE,m.Nt,h.ZL,o.Fj,o.JJ,o.oH,h.XC,p.sg,d.H8,g.lW,f.ey],pipes:[p.Ov],styles:[".multiline-mat-option.mat-option[_ngcontent-%COMP%]{white-space:normal;line-height:normal}"]}),e}(),w=n(8628),T=n(128),A=n(804),C=n(5492),q=n(4941),y=n(5959),x=n(8512),U=n(3210),b=n(9022),J=n(4303),N=n(1269),_=n(4517),I=n(164),D=n(3982),S=n(6530),k=n(168),F=n(9572),E=n(3841),Q=n(9024),M=n(7307),P=["modalContent"],H=["sidenav"];function O(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Customer is required"),u.qZA())}function Y(e,t){if(1&e){var n=u.EpF();u.ynx(0),u.TgZ(1,"mat-form-field",8),u.TgZ(2,"mat-label"),u._uU(3,"Select Customer"),u.qZA(),u._UZ(4,"input",45),u.TgZ(5,"span",28),u.NdJ("click",function(){return u.CHM(n),u.oxw().selectCustomer()}),u.TgZ(6,"mat-icon"),u._uU(7,"search"),u.qZA(),u.qZA(),u.YNc(8,O,2,0,"mat-error",7),u.qZA(),u.BQk()}if(2&e){var i=u.oxw();u.xp6(4),u.Q6J("disabled",!0),u.xp6(4),u.Q6J("ngIf",i.myError("customerName","required"))}}function V(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Name is required"),u.qZA())}function W(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Limit exceed"),u.qZA())}function R(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Email is required"),u.qZA())}function G(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Invalid email"),u.qZA())}function j(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Limit exceed"),u.qZA())}function z(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Address is required"),u.qZA())}function L(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Phone is required"),u.qZA())}function B(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Phone is Invalid"),u.qZA())}function K(e,t){if(1&e&&(u.TgZ(0,"mat-option",21),u._uU(1),u.qZA()),2&e){var n=t.$implicit;u.Q6J("value",n.id),u.xp6(1),u.hij(" ",n.name," ")}}function X(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Purpose is required"),u.qZA())}function $(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Date is required"),u.qZA())}function ee(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Hour is required"),u.qZA())}function te(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"Minute is required"),u.qZA())}function ne(e,t){1&e&&(u.TgZ(0,"mat-error"),u._uU(1,"AM or PM is required"),u.qZA())}function ie(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"mwl-calendar-month-view",46),u.NdJ("dayClicked",function(e){return u.CHM(n),u.oxw().dayClicked(e.day)})("eventClicked",function(e){return u.CHM(n),u.oxw().handleEvent("Clicked",e.event)})("eventTimesChanged",function(e){return u.CHM(n),u.oxw().eventTimesChanged(e)}),u.qZA()}if(2&e){var i=u.oxw();u.Q6J("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function re(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"mwl-calendar-week-view",47),u.NdJ("eventClicked",function(e){return u.CHM(n),u.oxw().handleEvent("Clicked",e.event)})("eventTimesChanged",function(e){return u.CHM(n),u.oxw().eventTimesChanged(e)}),u.qZA()}if(2&e){var i=u.oxw();u.Q6J("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}function oe(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"mwl-calendar-day-view",47),u.NdJ("eventClicked",function(e){return u.CHM(n),u.oxw().handleEvent("Clicked",e.event)})("eventTimesChanged",function(e){return u.CHM(n),u.oxw().eventTimesChanged(e)}),u.qZA()}if(2&e){var i=u.oxw();u.Q6J("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}var ae=function(){function e(e,t,n,i,r,o,a,s,u,l){var d=this;this.modal=e,this.apiClient=t,this.cdr=n,this.spinner=i,this.scheduleService=r,this.purposeService=o,this.dialog=a,this.authService=s,this.customerService=u,this.usersService=l,this.view=U.wr.Month,this.CalendarView=U.wr,this.viewDate=new Date,this.refresh=new y.xQ,this.events=[],this.schedule=[],this.activeDayIsOpen=!0,this.purposeTypes=[],this.personalSchedule=!0,this.isExistingCustomer=!1,this.today=new Date,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:function(e){d.handleEvent("Edited",e.event)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:function(e){var t=e.event;d.events=d.events.filter(function(e){return e!==t}),d.handleEvent("Deleted",t)}}],this.screenWidth$=new x.X(window.innerWidth),this.myError=function(e,t){return d.scheduleForm.controls[e].hasError(t)}}return e.prototype.onResize=function(e){this.screenWidth$.next(e.target.innerWidth)},e.prototype.getScreenWidth=function(){return this.screenWidth$.asObservable()},e.prototype.ngOnChanges=function(e){this.cdr.detectChanges()},e.prototype.ngOnInit=function(){var e=this;this.scheduleForm=new o.cw({name:new o.NI({value:"",disabled:!1},[o.kI.required,o.kI.maxLength(50)]),email:new o.NI("",[o.kI.email,o.kI.required,o.kI.maxLength(50)]),address:new o.NI("",[o.kI.required]),phone:new o.NI("",[o.kI.required,o.kI.pattern(/^\d+$/)]),purpose:new o.NI("",[o.kI.required]),date:new o.NI("",[o.kI.required]),hour:new o.NI("",[o.kI.required]),minute:new o.NI("",[o.kI.required]),duration:new o.NI({value:"",disabled:!1}),agentName:new o.NI({value:"",disabled:!0}),amOrPm:new o.NI("",[o.kI.required]),existingCustomer:new o.NI,customerName:new o.NI,customerId:new o.NI}),this.getScreenWidth().subscribe(function(t){t<1200?(e.showToggle="show",e.mode="over",e.openSidenav=!1):t>1200&&(e.showToggle="hide",e.mode="side",e.openSidenav=!0)}),this.getPurpose(),this.getSchedule(0,0)},e.prototype.isJSON=function(e){var t=(e=JSON.stringify(e)).slice(0,1);return"["===t||"{"===t},e.prototype.getPurpose=function(){var e=this;this.purposeService.getAllPurposeOverviewDataUsingGET().subscribe(function(t){t.length>0&&t.forEach(function(t){e.purposeTypes.push(t)})},function(e){alert("Error: "+e)})},e.prototype.getSchedule=function(e,t){var n=this;console.log(e),console.log(t),0!==e&&0!==t||(e=this.viewDate.getMonth()+1,t=this.viewDate.getFullYear()),this.spinner.show(),this.events=[],this.schedule=[];var i=this.authService.getUserInformation();this.scheduleService.filterScheduleUsingPOST({agentId:this.personalSchedule?i.id:"",day:0,month:e,year:t,status:1}).subscribe(function(e){e&&e.content.length>0&&(n.schedule=e.content,e.content.forEach(function(e){var t=new Date(e.dateTime),i=t.getUTCDate(),r=t.getUTCMonth(),o=t.getUTCFullYear(),a=t.getUTCHours(),s=t.getUTCMinutes(),u=new Date(o,r,i,a,s),l={id:e.id,start:u,end:new Date((0,A.Z)(new Date(u),e.duration)),title:e.customer.name+" ("+e.purpose.name+") - "+n.getScheduleStatus(e.status),color:{primary:e.purpose.colorCode,secondary:e.purpose.colorCode},actions:n.actions,allDay:!1,resizable:{beforeStart:!1,afterEnd:!1},draggable:!1};n.events.push(l)})),n.spinner.hide(),n.refresh.next()},function(e){n.spinner.hide(),alert("Error: "+e)})},e.prototype.getScheduleStatus=function(e){switch(e){case 1:return"Pending";case 9:return"Attended";case 5:return"Postponed";default:return"NA"}},e.prototype.dayClicked=function(e){var t=e.date,n=e.events;(0,C.Z)(t,this.viewDate)&&(this.activeDayIsOpen=!((0,q.Z)(this.viewDate,t)&&!0===this.activeDayIsOpen||0===n.length),this.viewDate=t)},e.prototype.eventTimesChanged=function(e){var t=e.event,n=e.newStart,i=e.newEnd;this.events=this.events.map(function(e){return e===t?(0,r.pi)((0,r.pi)({},t),{start:n,end:i}):e}),this.handleEvent("Dropped or resized",t)},e.prototype.handleEvent=function(e,t){var n=this,i=this.schedule.filter(function(e){return e.id===t.id});i.length>0&&this.dialog.open(T.F,{data:i[0],width:"500px"}).afterClosed().subscribe(function(e){if(e){var t=n.viewDate.getMonth()+1,i=n.viewDate.getFullYear();n.getSchedule(t,i)}})},e.prototype.addEvent=function(e){var t=this;if(this.scheduleForm.valid){this.spinner.show();var n=new Date(this.scheduleForm.value.date),i=n.getDate(),r=n.getMonth(),o=n.getFullYear(),a=this.scheduleForm.value.hour;a=this.time24Hour(a,this.scheduleForm.value.amOrPm);var s=this.scheduleForm.value.minute,u=String(n.getDate()).padStart(2,"0"),l=String(n.getMonth()+1).padStart(2,"0"),d=n.getFullYear(),c=String(a).padStart(2,"0"),m=String(s).padStart(2,"0"),h=new Date(o,r,i,a,s,0),p=this.authService.getUserInformation(),g={agentId:this.selectedAgentName&&this.selectedAgentId?this.selectedAgentId:p.id,agentName:this.selectedAgentId&&this.selectedAgentName?this.selectedAgentName:p.name,customerId:this.isExistingCustomer?this.scheduleForm.value.customerId:"",duration:this.scheduleForm.value.duration,existingCustomer:this.isExistingCustomer,meetingDate:u+"/"+l+"/"+d,meetingTime:c+":"+m,meetingDateTime:h.toISOString(),purposeId:this.scheduleForm.value.purpose,agentEmail:this.selectedAgentId&&this.selectedAgentName?this.selectedAgentEmail:p.email};g.customerInfo={address:this.scheduleForm.value.address,email:this.scheduleForm.value.email,name:this.scheduleForm.value.name,phone:this.scheduleForm.value.phone},console.log(g),this.spinner.hide(),this.scheduleService.saveScheduleUsingPOST(g).subscribe(function(n){e.resetForm(),t.scheduleForm.reset(),alert("Successfully Saved"),t.getSchedule(0,0),t.spinner.hide()},function(e){alert("Error: "+e),t.spinner.hide()})}},e.prototype.deleteEvent=function(e){this.events=this.events.filter(function(t){return t!==e})},e.prototype.setView=function(e){this.view=e},e.prototype.closeOpenMonthViewDay=function(){this.activeDayIsOpen=!1;var e=this.viewDate.getMonth()+1,t=this.viewDate.getFullYear();this.getSchedule(e,t)},e.prototype.selectAgent=function(){var e=this;this.dialog.open(w.I).afterClosed().subscribe(function(t){null!=t&&(e.selectedAgentId=t.id,e.selectedAgentName=t.name,e.selectedAgentEmail=t.email,e.scheduleForm.controls.agentName.setValue(t.name))})},e.prototype.selectCustomer=function(){var e=this;this.dialog.open(Z).afterClosed().subscribe(function(t){null!=t&&(e.scheduleForm.controls.customerName.setValue(t.name),e.scheduleForm.controls.name.setValue(t.name),e.scheduleForm.controls.email.setValue(t.email),e.scheduleForm.controls.address.setValue(t.address),e.scheduleForm.controls.phone.setValue(t.phone),e.scheduleForm.controls.customerId.setValue(t.id))})},e.prototype.setTimeAMPM=function(){this.scheduleForm.controls.amOrPm.setValue(this.scheduleForm.value.hour<12&&this.scheduleForm.value.hour>8?"AM":"PM")},e.prototype.setDuration=function(){var e=this;this.purposeTypes.forEach(function(t){t.id==e.scheduleForm.value.purpose&&e.scheduleForm.controls.duration.setValue(t.checkListTemplate.duration)})},e.prototype.toggleExistingCustomer=function(e){this.scheduleForm.value.existingCustomer?(this.scheduleForm.reset(),e.resetForm(),this.scheduleForm.controls.customerName.setValidators(o.kI.nullValidator),this.isExistingCustomer=!1,this.scheduleForm.controls.name.enable(),this.scheduleForm.controls.email.enable(),this.scheduleForm.controls.address.enable(),this.scheduleForm.controls.phone.enable()):(this.scheduleForm.reset(),e.resetForm(),this.isExistingCustomer=!0,this.scheduleForm.controls.customerName.setValidators(o.kI.required),this.scheduleForm.controls.name.disable(),this.scheduleForm.controls.email.disable(),this.scheduleForm.controls.address.disable(),this.scheduleForm.controls.phone.disable())},e.prototype.time24Hour=function(e,t){return"AM"===t?"12"===e.toString()?"0":e:(console.log(e),"12"===e.toString()?"12":Number(12)+Number(e))},e.\u0275fac=function(t){return new(t||e)(u.Y36(b.FF),u.Y36(J.Sl),u.Y36(u.sBO),u.Y36(N.t2),u.Y36(_.u),u.Y36(I.Q),u.Y36(d.uw),u.Y36(D.e),u.Y36(l.v),u.Y36(S.f))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-scheduler-calendar"]],viewQuery:function(e,t){if(1&e&&(u.Gf(P,7),u.Gf(H,5)),2&e){var n=void 0;u.iGM(n=u.CRH())&&(t.modalContent=n.first),u.iGM(n=u.CRH())&&(t.matSidenav=n.first)}},hostBindings:function(e,t){1&e&&u.NdJ("resize",function(e){return t.onResize(e)},!1,u.Jf7)},features:[u.TTD],decls:172,vars:74,consts:[[1,"drawer-container"],[1,"drawer-sidenav",3,"mode","opened","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[2,"margin-top","60px","padding","20px"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","primary","formControlName","existingCustomer",2,"margin-right","10px",3,"toggleChange"],[4,"ngIf"],["appearance","outline",1,"full-width"],["name","name","matInput","","formControlName","name"],["align","end"],["name","email","type","email","matInput","","formControlName","email"],["name","address","type","text","matInput","","formControlName","address"],["name","phone","type","text","matInput","","formControlName","phone"],["formControlName","purpose",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["picker",""],["appearance","outline",2,"width","31%"],["formControlName","hour",3,"ngModelChange"],[3,"value"],["appearance","outline",2,"width","31%","margin-left","9px"],["formControlName","minute"],["appearance","outline",2,"width","30%","margin-left","9px"],["formControlName","amOrPm"],["name","duration","type","number","matInput","","formControlName","duration","readonly",""],["matInput","","formControlName","agentName",3,"disabled"],["matSuffix","","mat-icon-button","","aria-label","Search",2,"cursor","pointer",3,"click"],["mat-raised-button","","type","submit",1,"full-width"],[1,"inner-container"],[1,"row"],[1,"col-lg-12","form-group"],["mat-button","","color","primary",1,"toogleSidenav",3,"ngClass","click"],["color","primary",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-sm-4","form-group",2,"text-align","center"],[1,"btn-group",2,"width","100%"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"col-sm-4",2,"text-align","center"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],["matInput","","formControlName","customerName",3,"disabled"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged"]],template:function(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"mat-sidenav-container",0),u.TgZ(1,"mat-sidenav",1,2),u.TgZ(3,"div",3),u.TgZ(4,"h4"),u._uU(5,"Appointment"),u.qZA(),u.TgZ(6,"form",4,5),u.NdJ("ngSubmit",function(){u.CHM(n);var e=u.MAs(7);return t.addEvent(e)}),u.TgZ(8,"mat-slide-toggle",6),u.NdJ("toggleChange",function(){u.CHM(n);var e=u.MAs(7);return t.toggleExistingCustomer(e)}),u._uU(9," Existing Customer "),u.qZA(),u._UZ(10,"br"),u._UZ(11,"br"),u.TgZ(12,"div"),u.YNc(13,Y,9,2,"ng-container",7),u.TgZ(14,"mat-form-field",8),u.TgZ(15,"mat-label"),u._uU(16,"Full Name"),u.qZA(),u._UZ(17,"input",9),u.TgZ(18,"mat-hint",10),u._uU(19,"Not more then 50 characters long."),u.qZA(),u.YNc(20,V,2,0,"mat-error",7),u.YNc(21,W,2,0,"mat-error",7),u.qZA(),u.TgZ(22,"mat-form-field",8),u.TgZ(23,"mat-label"),u._uU(24,"Email"),u.qZA(),u._UZ(25,"input",11),u.TgZ(26,"mat-hint",10),u._uU(27,"Not more then 50 characters long."),u.qZA(),u.YNc(28,R,2,0,"mat-error",7),u.YNc(29,G,2,0,"mat-error",7),u.YNc(30,j,2,0,"mat-error",7),u.qZA(),u.TgZ(31,"mat-form-field",8),u.TgZ(32,"mat-label"),u._uU(33,"Address"),u.qZA(),u._UZ(34,"input",12),u.YNc(35,z,2,0,"mat-error",7),u.qZA(),u.TgZ(36,"mat-form-field",8),u.TgZ(37,"mat-label"),u._uU(38,"Phone"),u.qZA(),u._UZ(39,"input",13),u.YNc(40,L,2,0,"mat-error",7),u.YNc(41,B,2,0,"mat-error",7),u.qZA(),u.TgZ(42,"mat-form-field",8),u.TgZ(43,"mat-label"),u._uU(44,"Purpose"),u.qZA(),u.TgZ(45,"mat-select",14),u.NdJ("ngModelChange",function(){return t.setDuration()}),u.YNc(46,K,2,2,"mat-option",15),u.qZA(),u.YNc(47,X,2,0,"mat-error",7),u.qZA(),u.TgZ(48,"mat-form-field",8),u.TgZ(49,"mat-label"),u._uU(50,"Date"),u.qZA(),u._UZ(51,"input",16),u._UZ(52,"mat-datepicker-toggle",17),u._UZ(53,"mat-datepicker",null,18),u.YNc(55,$,2,0,"mat-error",7),u.qZA(),u.TgZ(56,"mat-form-field",19),u.TgZ(57,"mat-label"),u._uU(58,"Hour"),u.qZA(),u.TgZ(59,"mat-select",20),u.NdJ("ngModelChange",function(){return t.setTimeAMPM()}),u.TgZ(60,"mat-option",21),u._uU(61,"9"),u.qZA(),u.TgZ(62,"mat-option",21),u._uU(63,"10"),u.qZA(),u.TgZ(64,"mat-option",21),u._uU(65,"11"),u.qZA(),u.TgZ(66,"mat-option",21),u._uU(67,"12"),u.qZA(),u.TgZ(68,"mat-option",21),u._uU(69,"1"),u.qZA(),u.TgZ(70,"mat-option",21),u._uU(71,"2"),u.qZA(),u.TgZ(72,"mat-option",21),u._uU(73,"3"),u.qZA(),u.TgZ(74,"mat-option",21),u._uU(75,"4"),u.qZA(),u.TgZ(76,"mat-option",21),u._uU(77,"5"),u.qZA(),u.TgZ(78,"mat-option",21),u._uU(79,"6"),u.qZA(),u.TgZ(80,"mat-option",21),u._uU(81,"7"),u.qZA(),u.TgZ(82,"mat-option",21),u._uU(83,"8"),u.qZA(),u.qZA(),u.YNc(84,ee,2,0,"mat-error",7),u.qZA(),u.TgZ(85,"mat-form-field",22),u.TgZ(86,"mat-label"),u._uU(87,"Minute"),u.qZA(),u.TgZ(88,"mat-select",23),u.TgZ(89,"mat-option",21),u._uU(90,"00"),u.qZA(),u.TgZ(91,"mat-option",21),u._uU(92,"05"),u.qZA(),u.TgZ(93,"mat-option",21),u._uU(94,"10"),u.qZA(),u.TgZ(95,"mat-option",21),u._uU(96,"15"),u.qZA(),u.TgZ(97,"mat-option",21),u._uU(98,"20"),u.qZA(),u.TgZ(99,"mat-option",21),u._uU(100,"25"),u.qZA(),u.TgZ(101,"mat-option",21),u._uU(102,"30"),u.qZA(),u.TgZ(103,"mat-option",21),u._uU(104,"35"),u.qZA(),u.TgZ(105,"mat-option",21),u._uU(106,"40"),u.qZA(),u.TgZ(107,"mat-option",21),u._uU(108,"45"),u.qZA(),u.TgZ(109,"mat-option",21),u._uU(110,"50"),u.qZA(),u.TgZ(111,"mat-option",21),u._uU(112,"55"),u.qZA(),u.qZA(),u.YNc(113,te,2,0,"mat-error",7),u.qZA(),u.TgZ(114,"mat-form-field",24),u.TgZ(115,"mat-label"),u._uU(116,"AM or PM"),u.qZA(),u.TgZ(117,"mat-select",25),u.TgZ(118,"mat-option",21),u._uU(119,"AM"),u.qZA(),u.TgZ(120,"mat-option",21),u._uU(121,"PM"),u.qZA(),u.qZA(),u.YNc(122,ne,2,0,"mat-error",7),u.qZA(),u.TgZ(123,"mat-form-field",8),u.TgZ(124,"mat-label"),u._uU(125,"Duration"),u.qZA(),u._UZ(126,"input",26),u.qZA(),u.TgZ(127,"mat-form-field",8),u.TgZ(128,"mat-label"),u._uU(129,"Select Agent"),u.qZA(),u._UZ(130,"input",27),u.TgZ(131,"span",28),u.NdJ("click",function(){return t.selectAgent()}),u.TgZ(132,"mat-icon"),u._uU(133,"search"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(134,"button",29),u._uU(135," Save Appointment "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(136,"mat-sidenav-content"),u.TgZ(137,"div",30),u.TgZ(138,"div",31),u.TgZ(139,"div",32),u.TgZ(140,"button",33),u.NdJ("click",function(){return u.CHM(n),u.MAs(2).toggle()}),u.TgZ(141,"mat-icon"),u._uU(142,"add"),u.qZA(),u._uU(143,"New Appointment "),u.qZA(),u.qZA(),u.TgZ(144,"div",32),u.TgZ(145,"mat-slide-toggle",34),u.NdJ("ngModelChange",function(e){return t.personalSchedule=e})("change",function(){return t.getSchedule(0,0)}),u._uU(146,"Personal"),u.qZA(),u.qZA(),u.TgZ(147,"div",35),u.TgZ(148,"div",36),u.TgZ(149,"div",37),u.NdJ("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),u._uU(150," Previous "),u.qZA(),u.TgZ(151,"div",38),u.NdJ("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),u._uU(152," Today "),u.qZA(),u.TgZ(153,"div",39),u.NdJ("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),u._uU(154," Next "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(155,"div",40),u.TgZ(156,"h3"),u._uU(157),u.ALo(158,"calendarDate"),u.qZA(),u.qZA(),u.TgZ(159,"div",40),u.TgZ(160,"div",36),u.TgZ(161,"div",41),u.NdJ("click",function(){return t.setView(t.CalendarView.Month)}),u._uU(162," Month "),u.qZA(),u.TgZ(163,"div",41),u.NdJ("click",function(){return t.setView(t.CalendarView.Week)}),u._uU(164," Week "),u.qZA(),u.TgZ(165,"div",41),u.NdJ("click",function(){return t.setView(t.CalendarView.Day)}),u._uU(166," Day "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(167,"br"),u.TgZ(168,"div",42),u.YNc(169,ie,1,4,"mwl-calendar-month-view",43),u.YNc(170,re,1,3,"mwl-calendar-week-view",44),u.YNc(171,oe,1,3,"mwl-calendar-day-view",44),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.MAs(54);u.xp6(1),u.Q6J("mode",t.mode)("opened",t.openSidenav)("fixedInViewport",!0)("fixedTopGap",0)("fixedBottomGap",0)("opened",!0),u.xp6(5),u.Q6J("formGroup",t.scheduleForm),u.xp6(7),u.Q6J("ngIf",t.isExistingCustomer),u.xp6(7),u.Q6J("ngIf",t.myError("name","required")),u.xp6(1),u.Q6J("ngIf",t.myError("name","maxlength")),u.xp6(7),u.Q6J("ngIf",t.myError("email","required")),u.xp6(1),u.Q6J("ngIf",t.myError("email","email")),u.xp6(1),u.Q6J("ngIf",t.myError("email","maxlength")),u.xp6(5),u.Q6J("ngIf",t.myError("address","required")),u.xp6(5),u.Q6J("ngIf",t.myError("phone","required")),u.xp6(1),u.Q6J("ngIf",t.myError("phone","pattern")),u.xp6(5),u.Q6J("ngForOf",t.purposeTypes),u.xp6(1),u.Q6J("ngIf",t.myError("purpose","required")),u.xp6(4),u.Q6J("matDatepicker",i)("min",t.today),u.xp6(1),u.Q6J("for",i),u.xp6(3),u.Q6J("ngIf",t.myError("date","required")),u.xp6(5),u.Q6J("value",9),u.xp6(2),u.Q6J("value",10),u.xp6(2),u.Q6J("value",11),u.xp6(2),u.Q6J("value",12),u.xp6(2),u.Q6J("value",1),u.xp6(2),u.Q6J("value",2),u.xp6(2),u.Q6J("value",3),u.xp6(2),u.Q6J("value",4),u.xp6(2),u.Q6J("value",5),u.xp6(2),u.Q6J("value",6),u.xp6(2),u.Q6J("value",7),u.xp6(2),u.Q6J("value",8),u.xp6(2),u.Q6J("ngIf",t.myError("hour","required")),u.xp6(5),u.Q6J("value",0),u.xp6(2),u.Q6J("value",5),u.xp6(2),u.Q6J("value",10),u.xp6(2),u.Q6J("value",15),u.xp6(2),u.Q6J("value",20),u.xp6(2),u.Q6J("value",25),u.xp6(2),u.Q6J("value",30),u.xp6(2),u.Q6J("value",35),u.xp6(2),u.Q6J("value",40),u.xp6(2),u.Q6J("value",45),u.xp6(2),u.Q6J("value",50),u.xp6(2),u.Q6J("value",55),u.xp6(2),u.Q6J("ngIf",t.myError("minute","required")),u.xp6(5),u.Q6J("value","AM"),u.xp6(2),u.Q6J("value","PM"),u.xp6(2),u.Q6J("ngIf",t.myError("amOrPm","required")),u.xp6(8),u.Q6J("disabled",!0),u.xp6(10),u.Q6J("ngClass",t.showToggle),u.xp6(5),u.Q6J("ngModel",t.personalSchedule),u.xp6(4),u.Q6J("view",t.view)("viewDate",t.viewDate),u.xp6(2),u.Q6J("viewDate",t.viewDate),u.xp6(2),u.Q6J("view",t.view)("viewDate",t.viewDate),u.xp6(4),u.Oqu(u.Dn7(158,70,t.viewDate,t.view+"ViewTitle","en")),u.xp6(4),u.ekj("active",t.view===t.CalendarView.Month),u.xp6(2),u.ekj("active",t.view===t.CalendarView.Week),u.xp6(2),u.ekj("active",t.view===t.CalendarView.Day),u.xp6(3),u.Q6J("ngSwitch",t.view),u.xp6(1),u.Q6J("ngSwitchCase",t.CalendarView.Month),u.xp6(1),u.Q6J("ngSwitchCase",t.CalendarView.Week),u.xp6(1),u.Q6J("ngSwitchCase",t.CalendarView.Day)}},directives:[k.TM,k.JX,o._Y,o.JL,o.sg,F.Rr,o.JJ,o.u,p.O5,c.KE,c.hX,m.Nt,o.Fj,c.bx,E.gD,p.sg,Q.hl,Q.nW,c.R9,Q.Mq,f.ey,o.wV,M.Hw,g.lW,k.Rh,p.mk,o.On,U.Z2,U.bb,U.mD,p.RF,p.n9,c.TO,U.GH,U.TK,U.Se],pipes:[U.Yi],styles:[".multiline-mat-option.mat-option[_ngcontent-%COMP%]{white-space:normal;line-height:normal}"]}),e}(),se=n(4854),ue=n(9831),le=[{path:"",component:ae,canActivate:[se.a]}],de=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[],imports:[[ue.Bz.forChild(le)],ue.Bz]}),e}(),ce=n(2797),me=n(431),he=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[{provide:U._A,useFactory:me.x}],imports:[[p.ez,o.u5,i.m,de,k.SJ,c.lN,m.c,E.LD,Q.FA,f.XK,g.ot,F.rP,ce.QW,M.Ps,U._8,d.Is,h.Bb,o.UX]]}),e}()}}]);