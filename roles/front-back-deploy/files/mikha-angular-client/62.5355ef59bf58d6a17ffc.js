(self.webpackChunkmikha_angular_client=self.webpackChunkmikha_angular_client||[]).push([[62],{5062:function(t,e,i){"use strict";i.r(e),i.d(e,{AgentModule:function(){return Nn}});var n=i(6489),a=i(6278),o=i(3841),r=i(1041),s=i(5425),c=i(1785),l=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-agent-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"agent-dashboard works!"),c.qZA())},styles:[""]}),t}(),h=i(4854),d=i(9831),u=i(4762),p=i(2935),g=i(4369),m=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(c.Y36(p.so),c.Y36(p.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-dialog-facial-verification"]],decls:25,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"row","form-group"],[1,"col-md-6"],[2,"width","200px",3,"src"],[1,"row"],[1,"col-md-12"],[1,"table","table-bordered","table-striped"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(c.TgZ(0,"h2",0),c._uU(1,"Facial Recognition"),c.qZA(),c.TgZ(2,"mat-dialog-content",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c._UZ(5,"img",4),c.qZA(),c.TgZ(6,"div",3),c._UZ(7,"img",4),c.qZA(),c.qZA(),c.TgZ(8,"div",5),c.TgZ(9,"div",6),c.TgZ(10,"table",7),c.TgZ(11,"tbody"),c.TgZ(12,"tr"),c.TgZ(13,"td"),c._uU(14," Verification Passed "),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA(),c.qZA(),c.TgZ(17,"tr"),c.TgZ(18,"td"),c._uU(19," Match Percentage "),c.qZA(),c.TgZ(20,"td"),c._uU(21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"mat-dialog-actions",8),c.TgZ(23,"button",9),c._uU(24,"Close"),c.qZA(),c.qZA()),2&t&&(c.xp6(5),c.Q6J("src",e.data.originalImage,c.LSH),c.xp6(2),c.Q6J("src",e.data.landmarkedImage,c.LSH),c.xp6(9),c.hij(" ",e.data.isSimilar?"Yes":"No"," "),c.xp6(5),c.hij(" ",e.data.similarityScore," "))},directives:[p.uh,p.xY,p.H8,g.lW,p.ZT],styles:[""]}),t}(),f=i(2762),v=i(7307),_=i(1112),b=i(1998),y=i(1116),x=i(9624);function C(){C=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag";function s(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(A){s=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var a=Object.create((e&&e.prototype instanceof d?e:d).prototype),o=new k(n||[]);return a._invoke=function(t,e,i){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(i.method=a,i.arg=o;;){var r=i.delegate;if(r){var s=y(r,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var c=l(t,e,i);if("normal"===c.type){if(n=i.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n="completed",i.method="throw",i.arg=c.arg)}}}(t,i,o),a}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var h={};function d(){}function u(){}function p(){}var g={};s(g,a,function(){return this});var m=Object.getPrototypeOf,f=m&&m(m(S([])));f&&f!==e&&i.call(f,a)&&(g=f);var v=p.prototype=d.prototype=Object.create(g);function _(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){function n(a,o,r,s){var c=l(t[a],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(d).then(function(t){h.value=t,r(h)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;this._invoke=function(t,i){function o(){return new e(function(e,a){n(t,i,e,a)})}return a=a?a.then(o,o):o()}}function y(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return u.prototype=p,s(v,"constructor",p),s(p,"constructor",u),u.displayName=s(p,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,r,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},_(b.prototype),s(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,i,n,a,o){void 0===o&&(o=Promise);var r=new b(c(e,i,n,a),o);return t.isGeneratorFunction(i)?r:r.next().then(function(t){return t.done?t.value:r.next()})},_(v),s(v,r,"Generator"),s(v,a,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return r.type="throw",r.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),w(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;w(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:S(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},t}var w=["wrapper"],k=["sourceImage"];function S(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"img",4,5),c.NdJ("load",function(){return c.CHM(i),c.oxw().imageLoadedInView()}),c.qZA()}if(2&t){var n=c.oxw();c.Udp("visibility",n.imageVisible?"visible":"hidden")("transform",n.safeTransformStyle),c.Q6J("src",n.safeImgDataUrl,c.LSH)}}function Z(t,e){if(1&t){var i=c.EpF();c.ynx(0),c.TgZ(1,"span",9),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"topleft")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"topleft")}),c._UZ(2,"span",10),c.qZA(),c.TgZ(3,"span",11),c._UZ(4,"span",10),c.qZA(),c.TgZ(5,"span",12),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"topright")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"topright")}),c._UZ(6,"span",10),c.qZA(),c.TgZ(7,"span",13),c._UZ(8,"span",10),c.qZA(),c.TgZ(9,"span",14),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")}),c._UZ(10,"span",10),c.qZA(),c.TgZ(11,"span",15),c._UZ(12,"span",10),c.qZA(),c.TgZ(13,"span",16),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")}),c._UZ(14,"span",10),c.qZA(),c.TgZ(15,"span",17),c._UZ(16,"span",10),c.qZA(),c.TgZ(17,"span",18),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"top")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"top")}),c.qZA(),c.TgZ(18,"span",19),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"right")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"right")}),c.qZA(),c.TgZ(19,"span",20),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottom")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"bottom")}),c.qZA(),c.TgZ(20,"span",21),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"left")})("touchstart",function(t){c.CHM(i);var e=c.oxw(2);return e.startMove(t,e.moveTypes.Resize,"left")}),c.qZA(),c.BQk()}}function A(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",6),c.NdJ("keydown",function(t){return c.CHM(i),c.oxw().keyboardAccess(t)}),c.TgZ(1,"div",7),c.NdJ("mousedown",function(t){c.CHM(i);var e=c.oxw();return e.startMove(t,e.moveTypes.Move)})("touchstart",function(t){c.CHM(i);var e=c.oxw();return e.startMove(t,e.moveTypes.Move)}),c.qZA(),c.YNc(2,Z,21,0,"ng-container",8),c.qZA()}if(2&t){var n=c.oxw();c.Udp("top",n.cropper.y1,"px")("left",n.cropper.x1,"px")("width",n.cropper.x2-n.cropper.x1,"px")("height",n.cropper.y2-n.cropper.y1,"px")("margin-left","center"===n.alignImage?n.marginLeft:null)("visibility",n.imageVisible?"visible":"hidden"),c.ekj("ngx-ic-round",n.roundCropper),c.xp6(2),c.Q6J("ngIf",!n.hideResizeSquares)}}var T=function(){function t(){(0,_.Z)(this,t),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return(0,b.Z)(t,[{key:"setOptions",value:function(t){var e=this;Object.keys(t).filter(function(t){return t in e}).forEach(function(i){return e[i]=t[i]}),this.validateOptions()}},{key:"setOptionsFromChanges",value:function(t){var e=this;Object.keys(t).filter(function(t){return t in e}).forEach(function(i){return e[i]=t[i].currentValue}),this.validateOptions()}},{key:"validateOptions",value:function(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}]),t}(),P={Move:"move",Resize:"resize",Pinch:"pinch"},M=function(){var t=function(){function t(){(0,_.Z)(this,t)}return(0,b.Z)(t,[{key:"crop",value:function(t,e,i,n){var a=this.getImagePosition(t,e,i,n),o=a.x2-a.x1,r=a.y2-a.y1,s=document.createElement("canvas");s.width=o,s.height=r;var c=s.getContext("2d");if(c){null!=n.backgroundColor&&(c.fillStyle=n.backgroundColor,c.fillRect(0,0,o,r));var l=(n.transform.scale||1)*(n.transform.flipH?-1:1),h=(n.transform.scale||1)*(n.transform.flipV?-1:1),d=e.transformed;c.setTransform(l,0,0,h,d.size.width/2,d.size.height/2),c.translate(-a.x1/l,-a.y1/h),c.rotate((n.transform.rotate||0)*Math.PI/180),c.drawImage(d.image,-d.size.width/2,-d.size.height/2);var u={width:o,height:r,imagePosition:a,cropperPosition:Object.assign({},i)};n.containWithinAspectRatio&&(u.offsetImagePosition=this.getOffsetImagePosition(t,e,i,n));var p=this.getResizeRatio(o,r,n);return 1!==p&&(u.width=Math.round(o*p),u.height=n.maintainAspectRatio?Math.round(u.width/n.aspectRatio):Math.round(r*p),function(t,e,i){var n=t.width,a=t.height,o=n/(e=Math.round(e)),r=a/(i=Math.round(i)),s=Math.ceil(o/2),c=Math.ceil(r/2),l=t.getContext("2d");if(l){for(var h=l.getImageData(0,0,n,a),d=l.createImageData(e,i),u=h.data,p=d.data,g=0;g<i;g++)for(var m=0;m<e;m++){var f=4*(m+g*e),v=g*r,_=0,b=0,y=0,x=0,C=0,w=0,k=0,S=Math.floor(m*o),Z=Math.floor(g*r),A=Math.ceil((m+1)*o),T=Math.ceil((g+1)*r);A=Math.min(A,n),T=Math.min(T,a);for(var P=Z;P<T;P++)for(var M=Math.abs(v-P)/c,I=m*o,D=M*M,R=S;R<A;R++){var E=Math.abs(I-R)/s,O=Math.sqrt(D+E*E);if(!(O>=1)){var q=4*(R+P*n);k+=(_=2*O*O*O-3*O*O+1)*u[q+3],y+=_,u[q+3]<255&&(_=_*u[q+3]/250),x+=_*u[q],C+=_*u[q+1],w+=_*u[q+2],b+=_}}p[f]=x/b,p[f+1]=C/b,p[f+2]=w/b,p[f+3]=k/y}t.width=e,t.height=i,l.putImageData(d,0,0)}}(s,u.width,u.height)),u.base64=s.toDataURL("image/"+n.format,this.getQuality(n)),u}}},{key:"getImagePosition",value:function(t,e,i,n){var a=e.transformed.size.width/t.nativeElement.offsetWidth,o={x1:Math.round(i.x1*a),y1:Math.round(i.y1*a),x2:Math.round(i.x2*a),y2:Math.round(i.y2*a)};return n.containWithinAspectRatio||(o.x1=Math.max(o.x1,0),o.y1=Math.max(o.y1,0),o.x2=Math.min(o.x2,e.transformed.size.width),o.y2=Math.min(o.y2,e.transformed.size.height)),o}},{key:"getOffsetImagePosition",value:function(t,e,i,n){var a,o,r=e.transformed.size.width/t.nativeElement.offsetWidth;(n.canvasRotation+e.exifTransform.rotate)%2?(a=(e.transformed.size.width-e.original.size.height)/2,o=(e.transformed.size.height-e.original.size.width)/2):(a=(e.transformed.size.width-e.original.size.width)/2,o=(e.transformed.size.height-e.original.size.height)/2);var s={x1:Math.round(i.x1*r)-a,y1:Math.round(i.y1*r)-o,x2:Math.round(i.x2*r)-a,y2:Math.round(i.y2*r)-o};return n.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,e.transformed.size.width),s.y2=Math.min(s.y2,e.transformed.size.height)),s}},{key:"getResizeRatio",value:function(t,e,i){var n=i.resizeToWidth/t,a=i.resizeToHeight/e,o=new Array;i.resizeToWidth>0&&o.push(n),i.resizeToHeight>0&&o.push(a);var r=0===o.length?1:Math.min.apply(Math,o);return r>1&&!i.onlyScaleDown?r:Math.min(r,1)}},{key:"getQuality",value:function(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,c.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),I=function(){var t=function(){function t(){(0,_.Z)(this,t)}return(0,b.Z)(t,[{key:"resetCropperPosition",value:function(t,e,i){if(null==t?void 0:t.nativeElement){var n=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=n.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:n.offsetWidth,e.y1=0,e.y2=n.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:n.offsetHeight;else{var a=Math.min(i.cropperScaledMaxWidth,n.offsetWidth),o=Math.min(i.cropperScaledMaxHeight,n.offsetHeight);if(i.maintainAspectRatio)if(n.offsetWidth/i.aspectRatio<n.offsetHeight){e.x1=0,e.x2=a;var r=a/i.aspectRatio;e.y1=(n.offsetHeight-r)/2,e.y2=e.y1+r}else{e.y1=0,e.y2=o;var s=o*i.aspectRatio;e.x1=(n.offsetWidth-s)/2,e.x2=e.x1+s}else e.x1=0,e.x2=a,e.y1=0,e.y2=o}}}},{key:"move",value:function(t,e,i){var n=this.getClientX(t)-e.clientX,a=this.getClientY(t)-e.clientY;i.x1=e.x1+n,i.y1=e.y1+a,i.x2=e.x2+n,i.y2=e.y2+a}},{key:"resize",value:function(t,e,i,n,a){var o=this.getClientX(t)-e.clientX,r=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+o,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+r,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+r,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+o,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+r,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+o,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+o,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+r,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+r,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+r,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"center":var s=t.scale,c=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*s),a.cropperScaledMaxWidth),l=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*s),a.cropperScaledMaxHeight);i.x1=e.clientX-c/2,i.x2=e.clientX+c/2,i.y1=e.clientY-l/2,i.y2=e.clientY+l/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>n.width&&(i.x1-=i.x2-n.width,i.x2=n.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>n.height&&(i.y1-=i.y2-n.height,i.y2=n.height)}a.maintainAspectRatio&&this.checkAspectRatio(e.position,i,n,a)}},{key:"checkAspectRatio",value:function(t,e,i,n){var a=0,o=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,a=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(a>0||o>0)&&(e.x2-=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y1+=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,a=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(a>0||o>0)&&(e.x2-=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y2-=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/n.aspectRatio,a=Math.max(0-e.x1,0),o=Math.max(0-e.y1,0),(a>0||o>0)&&(e.x1+=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y1+=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/n.aspectRatio,a=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(a>0||o>0)&&(e.x2-=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y1+=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio,a=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(a>0||o>0)&&(e.x2-=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y2-=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio,a=Math.max(0-e.x1,0),o=Math.max(e.y2-i.height,0),(a>0||o>0)&&(e.x1+=o*n.aspectRatio>a?o*n.aspectRatio:a,e.y2-=o*n.aspectRatio>a?o:a/n.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio;var r=Math.max(0-e.x1,0),s=Math.max(e.x2-i.width,0),c=Math.max(e.y2-i.height,0),l=Math.max(0-e.y1,0);(r>0||s>0||c>0||l>0)&&(e.x1+=c*n.aspectRatio>r?c*n.aspectRatio:r,e.x2-=l*n.aspectRatio>s?l*n.aspectRatio:s,e.y1+=l*n.aspectRatio>s?l:s/n.aspectRatio,e.y2-=c*n.aspectRatio>r?c:r/n.aspectRatio)}}},{key:"getClientX",value:function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientX)||t.clientX||0}},{key:"getClientY",value:function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientY)||t.clientY||0}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,c.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}();function D(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n.buffer}(t));if(65496!==e.getUint16(0,!1))return-2;for(var i=e.byteLength,n=2;n<i;){if(e.getUint16(n+2,!1)<=8)return-1;var a=e.getUint16(n,!1);if(n+=2,65505==a){if(1165519206!==e.getUint32(n+=2,!1))return-1;var o=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,o);var r=e.getUint16(n,o);n+=2;for(var s=0;s<r;s++)if(274==e.getUint16(n+12*s,o))return e.getUint16(n+12*s+8,o)}else{if(65280!=(65280&a))break;n+=e.getUint16(n,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}var R=function(){var t=function(){function t(){(0,_.Z)(this,t),this.autoRotateSupported=new Promise(function(t){var e=new Image;e.onload=function(){t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}return(0,b.Z)(t,[{key:"loadImageFile",value:function(t,e){var i=this;return new Promise(function(n,a){var o=new FileReader;o.onload=function(o){i.loadImage(o.target.result,t.type,e).then(n).catch(a)},o.readAsDataURL(t)})}},{key:"loadImage",value:function(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}},{key:"loadImageFromURL",value:function(t,e){var i=this;return new Promise(function(n,a){var o=new Image;o.onerror=function(){return a},o.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d");t.width=o.width,t.height=o.height,a.drawImage(o,0,0),i.loadBase64Image(t.toDataURL(),e).then(n)},o.crossOrigin="anonymous",o.src=t})}},{key:"loadBase64Image",value:function(t,e){var i=this;return new Promise(function(e,i){var n=new Image;n.onload=function(){return e({originalImage:n,originalBase64:t})},n.onerror=i,n.src=t}).then(function(t){return i.transformImageBase64(t,e)})}},{key:"transformImageBase64",value:function(t,e){return(0,u.mG)(this,void 0,void 0,C().mark(function i(){var n,a;return C().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.autoRotateSupported;case 2:return n=i.sent,i.next=5,D(n?-1:t.originalBase64);case 5:if(a=i.sent,t.originalImage&&t.originalImage.complete){i.next=8;break}return i.abrupt("return",Promise.reject(new Error("No image loaded")));case 8:return i.abrupt("return",this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},e));case 10:case"end":return i.stop()}},i,this)}))}},{key:"transformLoadedImage",value:function(t,e){return(0,u.mG)(this,void 0,void 0,C().mark(function i(){var n,a,o,r,s,c,l;return C().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight},0!==(n=e.canvasRotation+t.exifTransform.rotate)||t.exifTransform.flip||e.containWithinAspectRatio){i.next=4;break}return i.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},exifTransform:t.exifTransform});case 4:return o=this.getTransformedSize(a,t.exifTransform,e),(r=document.createElement("canvas")).width=o.width,r.height=o.height,(s=r.getContext("2d")).setTransform(t.exifTransform.flip?-1:1,0,0,1,r.width/2,r.height/2),s.rotate(Math.PI*(n/2)),s.drawImage(t.original.image,-a.width/2,-a.height/2),c=r.toDataURL(),i.next=15,this.loadImageFromBase64(c);case 15:return l=i.sent,i.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:c,image:l,size:{width:l.width,height:l.height}},exifTransform:t.exifTransform});case 17:case"end":return i.stop()}},i,this)}))}},{key:"loadImageFromBase64",value:function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src=t})}},{key:"getTransformedSize",value:function(t,e,i){var n=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(n%2){var a=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,a)}}var o=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,o)}}return n%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,c.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),E=function(){var t=function(){function t(e,i,n,a,o){(0,_.Z)(this,t),this.cropService=e,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=a,this.cd=o,this.Hammer=(null===window||void 0===window?void 0:window.Hammer)||null,this.settings=new T,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=P,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new c.vpe,this.startCropImage=new c.vpe,this.imageLoaded=new c.vpe,this.cropperReady=new c.vpe,this.loadImageFailed=new c.vpe,this.reset()}return(0,b.Z)(t,[{key:"ngOnChanges",value:function(t){var e,i=this;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),(null===(e=this.loadedImage)||void 0===e?void 0:e.original.image.complete)&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(function(t){return i.setLoadedImage(t)}).catch(function(t){return i.loadImageError(t)}),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}},{key:"onChangesInputImage",value:function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){var t,e,i;return(null===(i=null===(e=null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target)||void 0===e?void 0:e.files)||void 0===i?void 0:i.length)>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(t){var e=this;this.loadImageService.loadImageFile(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"loadBase64Image",value:function(t){var e=this;this.loadImageService.loadBase64Image(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"loadImageFromURL",value:function(t){var e=this;this.loadImageService.loadImageFromURL(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"setLoadedImage",value:function(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(t){console.error(t),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(function(){return t.checkImageMaxSizeRecursively()}))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){return t.checkImageMaxSizeRecursively()},50))}},{key:"sourceImageLoaded",value:function(){var t,e;return(null===(e=null===(t=this.sourceImage)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetWidth)>0}},{key:"onResize",value:function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,c.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){var e=+t.key;e>=1&&e<=9&&(this.settings.stepSize=e)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?P.Resize:P.Move,i=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),n=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(n),this.moveStop()}}},{key:"startMove",value:function(t,e){var i,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(null===(i=this.moveStart)||void 0===i?void 0:i.active)&&(null===(n=this.moveStart)||void 0===n?void 0:n.type)===P.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:a,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}},{key:"startPinch",value:function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:P.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===P.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===P.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===P.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){var t,e;(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){var t,e;if(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image){var i=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/i:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/i:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){var t,e;if(null!=(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)){this.startCropImage.emit();var i=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=i&&this.imageCropped.emit(i),i}return null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(M),c.Y36(I),c.Y36(R),c.Y36(x.H7),c.Y36(c.sBO))},t.\u0275cmp=c.Xpm({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var i;1&t&&(c.Gf(w,7),c.Gf(k,5)),2&t&&(c.iGM(i=c.CRH())&&(e.wrapper=i.first),c.iGM(i=c.CRH())&&(e.sourceImage=i.first))},hostVars:4,hostBindings:function(t,e){1&t&&c.NdJ("resize",function(){return e.onResize()},!1,c.Jf7)("mousemove",function(t){return e.moveImg(t)},!1,c.evT)("touchmove",function(t){return e.moveImg(t)},!1,c.evT)("mouseup",function(){return e.moveStop()},!1,c.evT)("touchend",function(){return e.moveStop()},!1,c.evT),2&t&&(c.Udp("text-align",e.alignImage),c.ekj("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[c.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(c.TgZ(0,"div",null,0),c.YNc(2,S,2,5,"img",1),c._UZ(3,"div",2),c.YNc(4,A,3,15,"div",3),c.qZA()),2&t&&(c.Udp("background",e.imageVisible&&e.backgroundColor),c.xp6(2),c.Q6J("ngIf",e.safeImgDataUrl),c.xp6(1),c.Udp("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),c.xp6(1),c.Q6J("ngIf",e.imageVisible))},directives:[y.O5],styles:['[_nghost-%COMP%]{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{border:1px dashed;bottom:0;color:inherit;content:"";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{cursor:nwse-resize;left:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% - 12px);top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{cursor:nesw-resize;right:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;cursor:nwse-resize;right:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;cursor:nesw-resize;left:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t}(),O=function(){var t=(0,b.Z)(function t(){(0,_.Z)(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[y.ez]]}),t}(),q=function(){function t(t,e){this.dialogRef=t,this.data=e,this.maintainAspectRatio=!1,this.ratio="free",this.aspectRatio=1,this.isCrop=!1,this.imageChangedEvent="",this.croppedImage=""}return t.prototype.ngOnInit=function(){this.imgData=this.data,console.log("inside image crop component:"+(new Date).getTime())},t.prototype.imageCropped=function(t){this.croppedImage=t.base64},t.prototype.imageLoaded=function(t){},t.prototype.cropperReady=function(){},t.prototype.loadImageFailed=function(){},t.prototype.changeAspectRaio=function(t){if("free"!=t)switch(this.maintainAspectRatio=!0,t){case"portrait":this.aspectRatio=3/4;break;case"landscape":this.aspectRatio=4/3;break;case"square":this.aspectRatio=1}else this.maintainAspectRatio=!1},t.prototype.onOk=function(){this.dialogRef.close(""!=this.croppedImage?this.croppedImage:this.data)},t.prototype.enableCrop=function(){this.isCrop=!this.isCrop},t.\u0275fac=function(e){return new(e||t)(c.Y36(p.so),c.Y36(p.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-dialog-crop-image"]],decls:28,vars:8,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"text-align","right"],["mat-raised-button","",2,"margin","10px",3,"hidden","click"],[3,"hidden"],[3,"change"],["group","matButtonToggleGroup"],["value","portrait","aria-label","Portrait"],[2,"transform","rotate(90deg)"],["value","landscape","aria-label","Landscape"],["value","square","aria-label","Square"],["value","free","aria-label","Free"],[3,"src","hidden"],["format","png",3,"hidden","imageBase64","maintainAspectRatio","aspectRatio","imageCropped","cropperReady","loadImageFailed"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"h2",0),c._uU(1,"Capture Image"),c.qZA(),c.TgZ(2,"mat-dialog-content",1),c.TgZ(3,"div",2),c.TgZ(4,"button",3),c.NdJ("click",function(){return e.enableCrop()}),c._uU(5," Crop "),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"mat-button-toggle-group",5,6),c.NdJ("change",function(){c.CHM(i);var t=c.MAs(8);return e.changeAspectRaio(t.value)}),c.TgZ(9,"mat-button-toggle",7),c.TgZ(10,"mat-icon",8),c._uU(11,"crop_16_9"),c.qZA(),c.qZA(),c.TgZ(12,"mat-button-toggle",9),c.TgZ(13,"mat-icon"),c._uU(14,"crop_16_9"),c.qZA(),c.qZA(),c.TgZ(15,"mat-button-toggle",10),c.TgZ(16,"mat-icon"),c._uU(17,"crop_square"),c.qZA(),c.qZA(),c.TgZ(18,"mat-button-toggle",11),c.TgZ(19,"mat-icon"),c._uU(20,"crop_free"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(21,"img",12),c.TgZ(22,"image-cropper",13),c.NdJ("imageCropped",function(t){return e.imageCropped(t)})("cropperReady",function(){return e.cropperReady()})("loadImageFailed",function(){return e.loadImageFailed()}),c.qZA(),c.qZA(),c.TgZ(23,"mat-dialog-actions",14),c.TgZ(24,"button",15),c._uU(25,"Cancel"),c.qZA(),c.TgZ(26,"button",16),c.NdJ("click",function(){return e.onOk()}),c._uU(27,"Save"),c.qZA(),c.qZA()}2&t&&(c.xp6(4),c.Q6J("hidden",e.isCrop),c.xp6(2),c.Q6J("hidden",!e.isCrop),c.xp6(15),c.s9C("src",e.data,c.LSH),c.Q6J("hidden",e.isCrop),c.xp6(1),c.Q6J("hidden",!e.isCrop)("imageBase64",e.data)("maintainAspectRatio",e.maintainAspectRatio)("aspectRatio",e.aspectRatio))},directives:[p.uh,p.xY,g.lW,f.A9,f.Yi,v.Hw,E,p.H8,p.ZT],styles:[""]}),t}(),L=i(2693),U=i(6129),H=i(8320),z=i(5162),F=function(){function t(t,e,i){this.httpClient=t,this.basePath=H.Lt,this.defaultHeaders=new L.WM,this.configuration=new z.V,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new U.H}return t.prototype.addToHttpParams=function(t,e,i){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,i)},t.prototype.addToHttpParamsRecursive=function(t,e,i){var n=this;if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return t=n.addToHttpParamsRecursive(t,e,i)});else if(e instanceof Date){if(null==i)throw Error("key may not be null if value is Date");t=t.append(i,e.toISOString().substr(0,10))}else Object.keys(e).forEach(function(a){return t=n.addToHttpParamsRecursive(t,e[a],null!=i?i+"."+a:a)});else{if(null==i)throw Error("key may not be null if value is not object or array");t=t.append(i,e)}return t},t.prototype.saveChecklistDataUsingPOST=function(t,e,i,n){if(void 0===e&&(e="body"),void 0===i&&(i=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling saveChecklistDataUsingPOST.");var a,o=this.defaultHeaders;(a=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",a));var r=n&&n.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(o=o.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.post(this.configuration.basePath+"/checklist-data",t,{responseType:c,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:i})},t.prototype.updateChecklistDataUsingPUT=function(t,e,i,n){if(void 0===e&&(e="body"),void 0===i&&(i=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling updateChecklistDataUsingPUT.");var a,o=this.defaultHeaders;(a=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",a));var r=n&&n.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(o=o.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.put(this.configuration.basePath+"/checklist-data",t,{responseType:c,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:i})},t.\u0275fac=function(e){return new(e||t)(c.LFG(L.eN),c.LFG(H.GW,8),c.LFG(z.V,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),B=i(4568),N=i(5121),Q=i(3725),J=i(3169),Y=i(9861),W=i(7388),V=i(5959),j=i(7570),G=i(8289),X=i(1741),K=i(8318),$=i(1906),tt=i(5416),et=i(6238),it=i(9996),nt=i(611),at=i(4019),ot=i(4689),rt=i(4720);function st(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];a?t.setProperty(n,a,(null==i?void 0:i.has(n))?"important":""):t.removeProperty(n)}return t}function ct(t,e){var i=e?"":"none";st(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function lt(t,e,i){st(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},i)}function ht(t,e){return e&&"none"!=e?t+" "+e:t}function dt(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ut(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}function pt(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function gt(t,e,i){return i>=t.top&&i<=t.bottom&&e>=t.left&&e<=t.right}function mt(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function ft(t,e,i,n){var a=t.width*e,o=t.height*e;return n>t.top-o&&n<t.bottom+o&&i>t.left-a&&i<t.right+a}var vt=function(){function t(e,i){(0,_.Z)(this,t),this._document=e,this._viewportRuler=i,this.positions=new Map}return(0,b.Z)(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:pt(t)})})}},{key:"handleScroll",value:function(t){var e=(0,J.sA)(t),i=this.positions.get(e);if(!i)return null;var n,a,o=e===this._document?e.documentElement:e,r=i.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();n=s.top,a=s.left}else n=e.scrollTop,a=e.scrollLeft;var c=r.top-n,l=r.left-a;return this.positions.forEach(function(t,i){t.clientRect&&e!==i&&o.contains(i)&&mt(t.clientRect,c,l)}),r.top=n,r.left=a,{top:c,left:l}}}]),t}();function _t(t){var e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(var a=0;a<i.length;a++)i[a].removeAttribute("id");return"canvas"===n?Ct(t,e):"input"!==n&&"select"!==n&&"textarea"!==n||xt(t,e),bt("canvas",t,e,Ct),bt("input, textarea, select",t,e,xt),e}function bt(t,e,i,n){var a=e.querySelectorAll(t);if(a.length)for(var o=i.querySelectorAll(t),r=0;r<a.length;r++)n(a[r],o[r])}var yt=0;function xt(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(yt++))}function Ct(t,e){var i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(n){}}var wt=(0,J.i$)({passive:!0}),kt=(0,J.i$)({passive:!1}),St=new Set(["position"]),Zt=function(){function t(e,i,n,a,o,r){var s=this;(0,_.Z)(this,t),this._config=i,this._document=n,this._ngZone=a,this._viewportRuler=o,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new V.xQ,this._pointerMoveSubscription=j.w.EMPTY,this._pointerUpSubscription=j.w.EMPTY,this._scrollSubscription=j.w.EMPTY,this._resizeSubscription=j.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new V.xQ,this.started=new V.xQ,this.released=new V.xQ,this.ended=new V.xQ,this.entered=new V.xQ,this.exited=new V.xQ,this.dropped=new V.xQ,this.moved=this._moveEvents,this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find(function(e){var i=(0,J.sA)(t);return!!i&&(i===e||e.contains(i))});!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),t.preventDefault();var i=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._lastKnownPointerPosition=e,s._updatePointerDirectionDelta(i),s._dropContainer)s._updateActiveDropContainer(i,e);else{var n=s._activeTransform;if(n.x=i.x-s._pickupPositionOnPage.x+s._passiveTransform.x,n.y=i.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(n.x,n.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement){var a="translate(".concat(n.x," ").concat(n.y,")");s._rootElement.setAttribute("transform",a)}}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:i,event:t,distance:s._getDragDistance(i),delta:s._pointerDirectionDelta})})}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var o=Date.now()>=s._dragStartTime+s._getDragStartDelay(t),r=s._dropContainer;if(!o)return void s._endDragSequence(t);r&&(r.isDragging()||r.isReceiving())||(t.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(t)}))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e).withParent(i.parentDragRef||null),this._parentPositions=new vt(n,o),r.registerDragItem(this)}return(0,b.Z)(t,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=(0,Y.Ig)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(t){return ct(t,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(t){return(0,Y.fI)(t)}),this._handles.forEach(function(t){return ct(t,e.disabled)}),this._toggleNativeDragInteractions();var i=new Set;return this._disabledHandles.forEach(function(t){e._handles.indexOf(t)>-1&&i.add(t)}),this._disabledHandles=i,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,i=(0,Y.fI)(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){i.addEventListener("mousedown",e._pointerDown,kt),i.addEventListener("touchstart",e._pointerDown,wt)}),this._initialTransform=void 0,this._rootElement=i),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?(0,Y.fI)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(t){return this._parentDragRef=t,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Pt(this._rootElement),Pt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ct(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ct(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"withPreviewContainer",value:function(t){return this._previewContainer=t,this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&Pt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&Pt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)});else{this._passiveTransform.x=this._activeTransform.x;var i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(i),dropPoint:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(t){Mt(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var i=this._rootElement,n=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();n.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),lt(i,!1,St),this._document.body.appendChild(n.replaceChild(a,i)),this._getPreviewInsertionPoint(n,r).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var i=this;this._parentDragRef&&e.stopPropagation();var n=this.isDragging(),a=Mt(e),o=!a&&0!==e.button,r=this._rootElement,s=(0,J.sA)(e),c=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=a?(0,W.yG)(e):(0,W.X6)(e);if(s&&s.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||o||c||l)){this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(t){return i._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=pt(this._boundaryElement));var h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;lt(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var i=e._dropContainer,n=i.getItemIndex(e),a=e._getPointerPositionOnPage(t),o=e._getDragDistance(a),r=i._isOverContainer(a.x,a.y);e.ended.next({source:e,distance:o,dropPoint:a}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialIndex,container:i,previousContainer:e._initialContainer,isPointerOverContainer:r,distance:o,dropPoint:a}),i.drop(e,n,e._initialIndex,e._initialContainer,r,o,a),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var i=this,n=t.x,a=t.y,o=e.x,r=e.y,s=this._initialContainer._getSiblingContainerFromPosition(this,n,a);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,a)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){i.exited.next({item:i,container:i._dropContainer}),i._dropContainer.exit(i),i._dropContainer=s,i._dropContainer.enter(i,n,a,s===i._initialContainer&&s.sortingDisabled?i._initialIndex:void 0),i.entered.next({item:i,container:s,currentIndex:s.getItemIndex(i)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,r),this._dropContainer._sortItem(this,n,a,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,a-this._pickupPositionInElement.y))}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,i=this.previewClass,n=e?e.template:null;if(n&&e){var a=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),t=It(o,this._document),this._previewRef=o,e.matchSize?Dt(t,a):t.style.transform=At(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var r=this._rootElement;Dt(t=_t(r),r.getBoundingClientRect()),this._initialTransform&&(t.style.transform=this._initialTransform)}return st(t.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":"".concat(this._config.zIndex||1e3)},St),ct(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(function(e){return t.classList.add(e)}):t.classList.add(i)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);var i=function(t){var e=getComputedStyle(t),i=ut(e,"transition-property"),n=i.find(function(t){return"transform"===t||"all"===t});if(!n)return 0;var a=i.indexOf(n),o=ut(e,"transition-duration"),r=ut(e,"transition-delay");return dt(o[a])+dt(r[a])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var n=function i(n){var o;(!n||(0,J.sA)(n)===t._preview&&"transform"===n.propertyName)&&(null===(o=t._preview)||void 0===o||o.removeEventListener("transitionend",i),e(),clearTimeout(a))},a=setTimeout(n,1.5*i);t._preview.addEventListener("transitionend",n)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),this._placeholderRef.detectChanges(),t=It(this._placeholderRef,this._document)):t=_t(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,a=n?n.getBoundingClientRect():i,o=Mt(e)?e.targetTouches[0]:e,r=this._getViewportScrollPosition();return{x:a.left-i.left+(o.pageX-a.left-r.left),y:a.top-i.top+(o.pageY-a.top-r.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),i=Mt(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var r=this._ownerSVGElement.createSVGPoint();return r.x=n,r.y=a,r.matrixTransform(o.inverse())}}return{x:n,y:a}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,i=this.constrainPosition?this.constrainPosition(t,this):t,n=i.x,a=i.y;if("x"===this.lockAxis||"x"===e?a=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,r=o.x,s=o.y,c=this._boundaryRect,l=this._previewRect,h=c.top+s,d=c.bottom-(l.height-s);n=Tt(n,c.left+r,c.right-(l.width-r)),a=Tt(a,h,d)}return{x:n,y:a}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-a.x),r=Math.abs(i-a.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>a.x?1:-1,a.x=e),r>this._config.pointerDirectionChangeThreshold&&(n.y=i>a.y?1:-1,a.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ct(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,kt),t.removeEventListener("touchstart",this._pointerDown,wt)}},{key:"_applyRootElementTransform",value:function(t,e){var i=At(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=ht(i,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(t,e){var i,n=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,a=At(t,e);this._preview.style.transform=ht(a,n)}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===a.width&&0===a.height)){var o=n.left-a.left,r=a.right-n.right,s=n.top-a.top,c=a.bottom-n.bottom;n.width>a.width?(o>0&&(e+=o),r>0&&(e-=r)):e=0,n.height>a.height?(s>0&&(i+=s),c>0&&(i-=c)):i=0,e===this._passiveTransform.x&&i===this._passiveTransform.y||this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:Mt(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var i=(0,J.sA)(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&mt(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,J.kV)(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(t,e){var i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){var n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return(0,Y.fI)(i)}}]),t}();function At(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function Tt(t,e,i){return Math.max(e,Math.min(i,t))}function Pt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Mt(t){return"t"===t.type[0]}function It(t,e){var i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];var n=e.createElement("div");return i.forEach(function(t){return n.appendChild(t)}),n}function Dt(t,e){t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.transform=At(e.left,e.top)}function Rt(t,e){return Math.max(0,Math.min(e,t))}var Et=function(){function t(e,i,n,a,o){var r=this;(0,_.Z)(this,t),this._dragDropRegistry=i,this._ngZone=a,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new V.xQ,this.entered=new V.xQ,this.exited=new V.xQ,this.dropped=new V.xQ,this.sorted=new V.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=j.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new V.xQ,this._cachedShadowRoot=null,this._startScrollInterval=function(){r._stopScrolling(),(0,G.F)(0,X.Z).pipe((0,tt.R)(r._stopScrollTimers)).subscribe(function(){var t=r._scrollNode,e=r.autoScrollStep;1===r._verticalScrollDirection?qt(t,-e):2===r._verticalScrollDirection&&qt(t,e),1===r._horizontalScrollDirection?Lt(t,-e):2===r._horizontalScrollDirection&&Lt(t,e)})},this.element=(0,Y.fI)(e),this._document=n,this.withScrollableParents([this.element]),i.registerDropContainer(this),this._parentPositions=new vt(n,o)}return(0,b.Z)(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(t,e,i,n){var a;this._draggingStarted(),null==n?-1===(a=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(a=this._getItemIndexFromPointerPosition(t,e,i)):a=n;var o=this._activeDraggables,r=o.indexOf(t),s=t.getPlaceholderElement(),c=o[a];if(c===t&&(c=o[a+1]),r>-1&&o.splice(r,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(s,l),o.splice(a,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){var h=o[0].getRootElement();h.parentNode.insertBefore(s,h),o.unshift(t)}else(0,Y.fI)(this.element).appendChild(s),o.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,a,o,r){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:a,distance:o,dropPoint:r})}},{key:"withItems",value:function(t){var e=this,i=this._draggables;return this._draggables=t,t.forEach(function(t){return t._withDropContainer(e)}),this.isDragging()&&(i.filter(function(t){return t.isDragging()}).every(function(e){return-1===t.indexOf(e)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=(0,Y.fI)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat((0,N.Z)(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Ot("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&this._clientRect&&ft(this._clientRect,.05,e,i)){var a=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(!(-1===o&&a.length>0)){var r="horizontal"===this._orientation,s=Ot(a,function(e){return e.drag===t}),c=a[o],l=c.clientRect,h=s>o?1:-1,d=this._getItemOffsetPx(a[s].clientRect,l,h),u=this._getSiblingOffsetPx(s,a,h),p=a.slice();!function(t,e,i){var n=Rt(e,t.length-1),a=Rt(i,t.length-1);if(n!==a){for(var o=t[n],r=a<n?-1:1,s=n;s!==a;s+=r)t[s]=t[s+r];t[a]=o}}(a,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),a.forEach(function(e,i){if(p[i]!==e){var n=e.drag===t,a=n?d:u,o=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=a,r?(o.style.transform=ht("translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),e.initialTransform),mt(e.clientRect,0,a)):(o.style.transform=ht("translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),e.initialTransform),mt(e.clientRect,a,0))}}),this._previousSwap.overlaps=gt(l,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=r?n.x:n.y}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var i=this;if(!this.autoScrollDisabled){var n,a=0,o=0;if(this._parentPositions.positions.forEach(function(r,s){if(s!==i._document&&r.clientRect&&!n&&ft(r.clientRect,.05,t,e)){var c=function(t,e,i,n){var a=Ut(e,n),o=Ht(e,i),r=0,s=0;if(a){var c=t.scrollTop;1===a?c>0&&(r=1):t.scrollHeight-c>t.clientHeight&&(r=2)}if(o){var l=t.scrollLeft;1===o?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[r,s]}(s,r.clientRect,t,e),l=(0,B.Z)(c,2);o=l[1],((a=l[0])||o)&&(n=s)}}),!a&&!o){var r=this._viewportRuler.getViewportSize(),s=r.width,c=r.height,l={width:s,height:c,top:0,right:s,bottom:c,left:0};a=Ut(l,e),o=Ht(l,t),n=window}!n||a===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=a,this._horizontalScrollDirection=o,this._scrollNode=n,(a||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var t=(0,Y.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var t=(0,Y.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:pt(e)}}).sort(function(e,i){return t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top})}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=(0,Y.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var i,n=e.getRootElement();if(n){var a=null===(i=t._itemPositions.find(function(t){return t.drag===e}))||void 0===i?void 0:i.initialTransform;n.style.transform=a||""}}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,a=e[t].clientRect,o=e[t+-1*i],r=a[n?"width":"height"]*i;if(o){var s=n?"left":"top",c=n?"right":"bottom";-1===i?r-=o.clientRect[s]-a[c]:r+=a[s]-o.clientRect[c]}return r}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,a=n?e.left-t.left:e.top-t.top;return-1===i&&(a+=n?e.width-t.width:e.height-t.height),a}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){var a=i[i.length-1].clientRect;return n?t>=a.right:e>=a.bottom}var o=i[0].clientRect;return n?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var a=this,o="horizontal"===this._orientation,r=Ot(this._itemPositions,function(r,s,c){var l=r.drag,h=r.clientRect;return l===t?c.length<2:(!n||l!==a._previousSwap.drag||!a._previousSwap.overlaps||(o?n.x:n.y)!==a._previousSwap.delta)&&(o?e>=Math.floor(h.left)&&e<Math.floor(h.right):i>=Math.floor(h.top)&&i<Math.floor(h.bottom))});return-1!==r&&this.sortPredicate(r,t,this)?r:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return null!=this._clientRect&&gt(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find(function(n){return n._canReceive(t,e,i)})}},{key:"_canReceive",value:function(t,e,i){if(!this._clientRect||!gt(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var a=(0,Y.fI)(this.element);return n===a||a.contains(n)}},{key:"_startReceiving",value:function(t,e){var i=this,n=this._activeSiblings;!n.has(t)&&e.every(function(t){return i.enterPredicate(t,i)||i._draggables.indexOf(t)>-1})&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(e){if(t.isDragging()){var i=t._parentPositions.handleScroll(e);i&&(t._itemPositions.forEach(function(t){mt(t.clientRect,i.top,i.left)}),t._itemPositions.forEach(function(e){var i=e.drag;t._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=(0,J.kV)((0,Y.fI)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var t=this,e=this._activeDraggables.filter(function(t){return t.isDragging()});this._siblings.forEach(function(i){return i._startReceiving(t,e)})}}]),t}();function Ot(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function qt(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Lt(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Ut(t,e){var i=t.top,n=t.bottom,a=.05*t.height;return e>=i-a&&e<=i+a?1:e>=n-a&&e<=n+a?2:0}function Ht(t,e){var i=t.left,n=t.right,a=.05*t.width;return e>=i-a&&e<=i+a?1:e>=n-a&&e<=n+a?2:0}var zt=(0,J.i$)({passive:!1,capture:!0}),Ft=function(){var t=function(){function t(e,i){var n=this;(0,_.Z)(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(t){return t.isDragging()},this.pointerMove=new V.xQ,this.pointerUp=new V.xQ,this.scroll=new V.xQ,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=function(t){n._activeDragInstances.length>0&&(n._activeDragInstances.some(n._draggingPredicate)&&t.preventDefault(),n.pointerMove.next(t))},this._document=i}return(0,b.Z)(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,zt)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zt)}},{key:"startDragging",value:function(t,e){var i=this;if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){var n=e.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:function(t){return i.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return i.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zt}),n||this._globalListeners.set("mousemove",{handler:function(t){return i.pointerMove.next(t)},options:zt}),this._ngZone.runOutsideAngular(function(){i._globalListeners.forEach(function(t,e){i._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){var e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(t){return this._activeDragInstances.indexOf(t)>-1}},{key:"scrolled",value:function(t){var e=this,i=[this.scroll];return t&&t!==this._document&&i.push(new K.y(function(i){return e._ngZone.runOutsideAngular(function(){var n=function(t){e._activeDragInstances.length&&i.next(t)};return t.addEventListener("scroll",n,!0),function(){t.removeEventListener("scroll",n,!0)}})})),$.T.apply(void 0,i)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,i){t._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.R0b),c.LFG(y.K0))},t.\u0275prov=c.Yz7({factory:function(){return new t(c.LFG(c.R0b),c.LFG(y.K0))},token:t,providedIn:"root"}),t}(),Bt={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Nt=function(){var t=function(){function t(e,i,n,a){(0,_.Z)(this,t),this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=a}return(0,b.Z)(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;return new Zt(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new Et(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(y.K0),c.LFG(c.R0b),c.LFG(Q.rL),c.LFG(Ft))},t.\u0275prov=c.Yz7({factory:function(){return new t(c.LFG(y.K0),c.LFG(c.R0b),c.LFG(Q.rL),c.LFG(Ft))},token:t,providedIn:"root"}),t}(),Qt=new c.OlP("CDK_DRAG_PARENT"),Jt=new c.OlP("CDK_DRAG_CONFIG"),Yt=new c.OlP("CdkDropList"),Wt=new c.OlP("CdkDragHandle"),Vt=function(){var t=function(){function t(e,i){(0,_.Z)(this,t),this.element=e,this._stateChanges=new V.xQ,this._disabled=!1,this._parentDrag=i}return(0,b.Z)(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=(0,Y.Ig)(t),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(Qt,12))},t.\u0275dir=c.lG2({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[c._Bn([{provide:Wt,useExisting:t}])]}),t}(),jt=new c.OlP("CdkDragPlaceholder"),Gt=new c.OlP("CdkDragPreview"),Xt=function(){var t=function(){function t(e,i,n,a,o,r,s,l,h,d,u){var p=this;(0,_.Z)(this,t),this.element=e,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=o,this._dir=s,this._changeDetectorRef=h,this._selfHandle=d,this._parentDrag=u,this._destroyed=new V.xQ,this.started=new c.vpe,this.released=new c.vpe,this.ended=new c.vpe,this.entered=new c.vpe,this.exited=new c.vpe,this.dropped=new c.vpe,this.moved=new K.y(function(t){var e=p._dragRef.moved.pipe((0,it.U)(function(t){return{source:p,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}})).subscribe(t);return function(){e.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:null==r?void 0:r.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),r&&this._assignDefaults(r),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return(0,b.Z)(t,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=(0,Y.Ig)(t),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe((0,nt.q)(1),(0,tt.R)(t._destroyed)).subscribe(function(){t._updateRootElement(),t._setupHandlesListener(),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)})})}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){var e=this;this.dropContainer&&this.dropContainer.removeItem(this);var i=t._dragInstances.indexOf(this);i>-1&&t._dragInstances.splice(i,1),this._ngZone.runOutsideAngular(function(){e._destroyed.next(),e._destroyed.complete(),e._dragRef.dispose()})}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Kt(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?Kt(this.element.nativeElement,t):(0,Y.fI)(t):null}},{key:"_syncInputs",value:function(e){var i=this;e.beforeStarted.subscribe(function(){if(!e.isDragging()){var t=i._dir,n=i.dragStartDelay,a=i._placeholderTemplate?{template:i._placeholderTemplate.templateRef,context:i._placeholderTemplate.data,viewContainer:i._viewContainerRef}:null,o=i._previewTemplate?{template:i._previewTemplate.templateRef,context:i._previewTemplate.data,matchSize:i._previewTemplate.matchSize,viewContainer:i._viewContainerRef}:null;e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:(0,Y.su)(n),e.constrainPosition=i.constrainPosition,e.previewClass=i.previewClass,e.withBoundaryElement(i._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(o).withPreviewContainer(i.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe((0,nt.q)(1)).subscribe(function(){var n,a;if(i._parentDrag)e.withParent(i._parentDrag._dragRef);else for(var o=i.element.nativeElement.parentElement;o;){if(null===(n=o.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(a=t._dragInstances.find(function(t){return t.element.nativeElement===o}))||void 0===a?void 0:a._dragRef)||null);break}o=o.parentElement}})}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe(function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()}),t.released.subscribe(function(){e.released.emit({source:e})}),t.ended.subscribe(function(t){e.ended.emit({source:e,distance:t.distance,dropPoint:t.dropPoint}),e._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})}),t.exited.subscribe(function(t){e.exited.emit({container:t.container.data,item:e})}),t.dropped.subscribe(function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance,dropPoint:t.dropPoint})})}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,i=t.dragStartDelay,n=t.constrainPosition,a=t.previewClass,o=t.boundaryElement,r=t.draggingDisabled,s=t.rootElementSelector,c=t.previewContainer;this.disabled=null!=r&&r,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),a&&(this.previewClass=a),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s),c&&(this.previewContainer=c)}},{key:"_setupHandlesListener",value:function(){var t=this;this._handles.changes.pipe((0,et.O)(this._handles),(0,at.b)(function(e){var i=e.filter(function(e){return e._parentDrag===t}).map(function(t){return t.element});t._selfHandle&&t.rootElementSelector&&i.push(t.element),t._dragRef.withHandles(i)}),(0,ot.w)(function(t){return $.T.apply(void 0,(0,N.Z)(t.map(function(t){return t._stateChanges.pipe((0,et.O)(t))})))}),(0,tt.R)(this._destroyed)).subscribe(function(e){var i=t._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(Yt,12),c.Y36(y.K0),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(Jt,8),c.Y36(rt.Is,8),c.Y36(Nt),c.Y36(c.sBO),c.Y36(Wt,10),c.Y36(Qt,12))},t.\u0275dir=c.lG2({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(c.Suo(i,Gt,5),c.Suo(i,jt,5),c.Suo(i,Wt,5)),2&t&&(c.iGM(n=c.CRH())&&(e._previewTemplate=n.first),c.iGM(n=c.CRH())&&(e._placeholderTemplate=n.first),c.iGM(n=c.CRH())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&c.ekj("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[c._Bn([{provide:Qt,useExisting:t}]),c.TTD]}),t._dragInstances=[],t}();function Kt(t,e){for(var i=t.parentElement;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}var $t=function(){var t=(0,b.Z)(function t(){(0,_.Z)(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[Nt],imports:[Q.ZD]}),t}(),te=i(3070),ee=i(9550),ie=["commentsInput"];function ne(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"div",3),c.TgZ(2,"p"),c._uU(3),c._UZ(4,"br"),c.TgZ(5,"small"),c._uU(6),c.qZA(),c._UZ(7,"br"),c.TgZ(8,"small"),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"mat-form-field",4),c.TgZ(11,"mat-label"),c._uU(12,"Comments"),c.qZA(),c.TgZ(13,"textarea",5,6),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().currentChecklist.comments=t})("keydown.enter",function(){return c.CHM(i),c.oxw().onClick()}),c.qZA(),c.qZA(),c.TgZ(15,"button",7),c.NdJ("click",function(){return c.CHM(i),c.oxw().onClick()}),c.TgZ(16,"mat-icon",8),c._uU(17,"check"),c.qZA(),c._uU(18,"Completed "),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(3),c.hij(" ",n.currentChecklist.name,""),c.xp6(3),c.hij("",n.currentChecklist.duration," Minutes"),c.xp6(3),c.Oqu(n.currentChecklist.description),c.xp6(4),c.Q6J("ngModel",n.currentChecklist.comments),c.xp6(2),c.Q6J("disabled",n.loading)}}var ae=function(){function t(t,e,i){this.dialogRef=t,this.checklistDataService=e,this.data=i,this.loading=!1,this.index=0}return t.prototype.ngOnInit=function(){this.currentChecklist=this.data.checklist[this.index]},t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.onClick=function(){this.commentsInput&&this.commentsInput.focus(),this.currentChecklist.completed=!0,this.currentChecklist.completedOn=new Date,this.updateChecklistData()},t.prototype.nextChecklist=function(){this.index=this.index+1,this.index<this.data.checklist.length?this.currentChecklist=this.data.checklist[this.index]:this.dialogRef.close()},t.prototype.updateChecklistData=function(){var t=this;if(this.loading=!0,this.data.id){var e={checklistDataId:this.data.id,data:JSON.stringify(this.data.checklist)};this.checklistDataService.updateChecklistDataUsingPUT(e).subscribe(function(e){t.loading=!1,t.nextChecklist()},function(t){alert("Error: "+JSON.stringify(t))})}else e={checklistTemplateId:"000000001",scheduleId:this.data.scheduleId,data:JSON.stringify(this.data.checklist)},this.checklistDataService.saveChecklistDataUsingPOST(e).subscribe(function(e){t.loading=!1,t.nextChecklist()},function(e){t.loading=!1,alert("Error: "+JSON.stringify(e))})},t.\u0275fac=function(e){return new(e||t)(c.Y36(p.so),c.Y36(F),c.Y36(p.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-dialog-checklist-overlay"]],viewQuery:function(t,e){var i;1&t&&c.Gf(ie,5),2&t&&c.iGM(i=c.CRH())&&(e.commentsInput=i.first)},decls:4,vars:1,consts:[["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"draggable-header"],["mat-dialog-content","","style","overflow: hidden;",4,"ngIf"],["mat-dialog-content","",2,"overflow","hidden"],[2,"padding-top","15px","padding-bottom","2px"],["appearance","outline",1,"full-width"],["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange","keydown.enter"],["commentsInput","matInput"],["mat-raised-button","",2,"width","100%",3,"disabled","click"],[2,"margin-right","5px"]],template:function(t,e){1&t&&(c.TgZ(0,"div"),c.TgZ(1,"h5",0),c._uU(2," Current Checklist "),c.qZA(),c.qZA(),c.YNc(3,ne,19,5,"div",1)),2&t&&(c.xp6(3),c.Q6J("ngIf",e.currentChecklist))},directives:[p.uh,Xt,Vt,y.O5,p.xY,te.KE,te.hX,ee.Nt,r.Fj,r.JJ,r.On,g.lW,v.Hw],styles:[".draggable-header[_ngcontent-%COMP%]{margin:-24px -24px 0!important;padding:5px 50px;cursor:move;font-size:15px}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-frame[_ngcontent-%COMP%], .mat-checkbox-checked[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{transform:scale(2)!important}"]}),t}(),oe=i(8784),re=i(4999),se=i(5333),ce=i(2151),le=i(7064),he=i(4546),de=i(9713),ue=i(878),pe=i(9235),ge=i(3835);function me(t,e){}var fe=new c.OlP("MatBottomSheetData"),ve=(0,b.Z)(function t(){(0,_.Z)(this,t),this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}),_e={bottomSheetState:(0,de.X$)("state",[(0,de.SB)("void, hidden",(0,de.oB)({transform:"translateY(100%)"})),(0,de.SB)("visible",(0,de.oB)({transform:"translateY(0%)"})),(0,de.eR)("visible => void, visible => hidden",(0,de.jt)("".concat(le.mZ.COMPLEX," ").concat(le.yN.ACCELERATION_CURVE))),(0,de.eR)("void => visible",(0,de.jt)("".concat(le.mZ.EXITING," ").concat(le.yN.DECELERATION_CURVE)))])},be=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o,r,s){var l;return(0,_.Z)(this,i),(l=e.call(this))._elementRef=t,l._changeDetectorRef=n,l._focusTrapFactory=a,l.bottomSheetConfig=s,l._animationState="void",l._animationStateChanged=new c.vpe,l._elementFocusedBeforeOpened=null,l.attachDomPortal=function(t){return l._validatePortalAttached(),l._setPanelClass(),l._savePreviouslyFocusedElement(),l._portalOutlet.attachDomPortal(t)},l._document=r,l._breakpointSubscription=o.observe([he.u3.Medium,he.u3.Large,he.u3.XLarge]).subscribe(function(){l._toggleClass("mat-bottom-sheet-container-medium",o.isMatched(he.u3.Medium)),l._toggleClass("mat-bottom-sheet-container-large",o.isMatched(he.u3.Large)),l._toggleClass("mat-bottom-sheet-container-xlarge",o.isMatched(he.u3.XLarge))}),l}return(0,b.Z)(i,[{key:"attachComponentPortal",value:function(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}},{key:"_onAnimationDone",value:function(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_toggleClass",value:function(t,e){var i=this._elementRef.nativeElement.classList;e?i.add(t):i.remove(t)}},{key:"_validatePortalAttached",value:function(){this._portalOutlet.hasAttached()}},{key:"_setPanelClass",value:function(){var t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(function(e){return t.classList.add(e)}):e&&t.classList.add(e)}},{key:"_trapFocus",value:function(){var t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{var e=(0,J.ht)();e===t||t.contains(e)||t.focus()}}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){var e=(0,J.ht)(),i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_savePreviouslyFocusedElement",value:function(){var t=this;this._elementFocusedBeforeOpened=(0,J.ht)(),this._elementRef.nativeElement.focus&&Promise.resolve().then(function(){return t._elementRef.nativeElement.focus()})}}]),i}(ce.en);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(W.qV),c.Y36(he.Yg),c.Y36(y.K0,8),c.Y36(ve))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var i;1&t&&c.Gf(ce.Pl,7),2&t&&c.iGM(i=c.CRH())&&(e._portalOutlet=i.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&c.WFA("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(c.uIk("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),c.d8E("@state",e._animationState))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&c.YNc(0,me,0,0,"ng-template",0)},directives:[ce.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[_e.bottomSheetState]}}),t}(),ye=function(){var t=(0,b.Z)(function t(){(0,_.Z)(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[se.U8,le.BQ,ce.eL],le.BQ]}),t}(),xe=function(){function t(e,i){var n=this;(0,_.Z)(this,t),this._overlayRef=i,this._afterDismissed=new V.xQ,this._afterOpened=new V.xQ,this.containerInstance=e,this.disableClose=e.bottomSheetConfig.disableClose,e._animationStateChanged.pipe((0,ge.h)(function(t){return"done"===t.phaseName&&"visible"===t.toState}),(0,nt.q)(1)).subscribe(function(){n._afterOpened.next(),n._afterOpened.complete()}),e._animationStateChanged.pipe((0,ge.h)(function(t){return"done"===t.phaseName&&"hidden"===t.toState}),(0,nt.q)(1)).subscribe(function(){clearTimeout(n._closeFallbackTimeout),i.dispose()}),i.detachments().pipe((0,nt.q)(1)).subscribe(function(){n._afterDismissed.next(n._result),n._afterDismissed.complete()}),(0,$.T)(i.backdropClick(),i.keydownEvents().pipe((0,ge.h)(function(t){return t.keyCode===pe.hY}))).subscribe(function(t){n.disableClose||"keydown"===t.type&&(0,pe.Vb)(t)||(t.preventDefault(),n.dismiss())})}return(0,b.Z)(t,[{key:"dismiss",value:function(t){var e=this;this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,ge.h)(function(t){return"start"===t.phaseName}),(0,nt.q)(1)).subscribe(function(t){e._closeFallbackTimeout=setTimeout(function(){e._overlayRef.dispose()},t.totalTime+100),e._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}},{key:"afterDismissed",value:function(){return this._afterDismissed}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}}]),t}(),Ce=new c.OlP("mat-bottom-sheet-default-options"),we=function(){var t=function(){function t(e,i,n,a){(0,_.Z)(this,t),this._overlay=e,this._injector=i,this._parentBottomSheet=n,this._defaultOptions=a,this._bottomSheetRefAtThisLevel=null}return(0,b.Z)(t,[{key:"_openedBottomSheetRef",get:function(){var t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel},set:function(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}},{key:"open",value:function(t,e){var i=this,n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new ve,e),a=this._createOverlay(n),o=this._attachContainer(a,n),r=new xe(o,a);if(t instanceof c.Rgc)o.attachTemplatePortal(new ce.UE(t,null,{$implicit:n.data,bottomSheetRef:r}));else{var s=new ce.C5(t,void 0,this._createInjector(n,r)),l=o.attachComponentPortal(s);r.instance=l.instance}return r.afterDismissed().subscribe(function(){i._openedBottomSheetRef==r&&(i._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(function(){return r.containerInstance.enter()}),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}},{key:"dismiss",value:function(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}},{key:"ngOnDestroy",value:function(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}},{key:"_attachContainer",value:function(t,e){var i=c.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ve,useValue:e}]}),n=new ce.C5(be,e.viewContainerRef,i);return t.attach(n).instance}},{key:"_createOverlay",value:function(t){var e=new se.X_({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,n=[{provide:xe,useValue:e},{provide:fe,useValue:t.data}];return!t.direction||i&&i.get(rt.Is,null,c.XFs.Optional)||n.push({provide:rt.Is,useValue:{value:t.direction,change:(0,ue.of)()}}),c.zs3.create({parent:i||this._injector,providers:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(se.aV),c.LFG(c.zs3),c.LFG(t,12),c.LFG(Ce,8))},t.\u0275prov=c.Yz7({factory:function(){return new t(c.LFG(se.aV),c.LFG(c.gxx),c.LFG(t,12),c.LFG(Ce,8))},token:t,providedIn:ye}),t}(),ke=i(9845);function Se(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"span",3),c._uU(4,"Name"),c.qZA(),c.TgZ(5,"span"),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"span",3),c._uU(9,"Email"),c.qZA(),c.TgZ(10,"span"),c._uU(11),c.qZA(),c.qZA(),c.TgZ(12,"div",2),c.TgZ(13,"span",3),c._uU(14,"Address"),c.qZA(),c.TgZ(15,"span"),c._uU(16),c.qZA(),c.qZA(),c.TgZ(17,"div",2),c.TgZ(18,"span",3),c._uU(19,"Phone"),c.qZA(),c.TgZ(20,"span"),c._uU(21),c.qZA(),c.qZA(),c.TgZ(22,"div",2),c.TgZ(23,"mat-form-field",4),c.TgZ(24,"mat-label"),c._uU(25,"Account Number"),c.qZA(),c.TgZ(26,"input",5),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().accountNumber=t}),c.qZA(),c.TgZ(27,"span",6),c.NdJ("click",function(){return c.CHM(i),c.oxw().saveAccountNumber()}),c.TgZ(28,"mat-icon"),c._uU(29,"save"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(6),c.Oqu(n.customerData&&n.customerData.name?n.customerData.name:"-"),c.xp6(5),c.Oqu(n.customerData&&n.customerData.email?n.customerData.email:"-"),c.xp6(5),c.Oqu(n.customerData&&n.customerData.address?n.customerData.address:"-"),c.xp6(5),c.Oqu(n.customerData&&n.customerData.phone?n.customerData.phone:"-"),c.xp6(5),c.Q6J("ngModel",n.accountNumber)}}function Ze(t,e){if(1&t&&(c.TgZ(0,"table",10),c.TgZ(1,"tbody"),c.TgZ(2,"tr"),c.TgZ(3,"td",11),c._UZ(4,"iframe",12),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(4),c.Q6J("src",i.safeUrl,c.uOi)}}function Ae(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"h5"),c._uU(2,"Location"),c.qZA(),c.TgZ(3,"div"),c.TgZ(4,"table",7),c.TgZ(5,"tbody"),c.TgZ(6,"tr"),c.TgZ(7,"td"),c._uU(8,"IP Address"),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"tr"),c.TgZ(12,"td"),c._uU(13,"Longitude"),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.qZA(),c.qZA(),c.TgZ(16,"tr"),c.TgZ(17,"td"),c._uU(18,"Latitude"),c.qZA(),c.TgZ(19,"td"),c._uU(20),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div"),c.TgZ(22,"h5"),c._uU(23,"ISP"),c.qZA(),c.TgZ(24,"table",8),c.TgZ(25,"tbody"),c.TgZ(26,"tr"),c.TgZ(27,"td"),c._uU(28,"City"),c.qZA(),c.TgZ(29,"td"),c._uU(30),c.qZA(),c.qZA(),c.TgZ(31,"tr"),c.TgZ(32,"td"),c._uU(33,"Region"),c.qZA(),c.TgZ(34,"td"),c._uU(35),c.qZA(),c.qZA(),c.TgZ(36,"tr"),c.TgZ(37,"td"),c._uU(38,"Country"),c.qZA(),c.TgZ(39,"td"),c._uU(40),c.qZA(),c.qZA(),c.TgZ(41,"tr"),c.TgZ(42,"td"),c._uU(43,"Origin"),c.qZA(),c.TgZ(44,"td"),c._uU(45),c.qZA(),c.qZA(),c.TgZ(46,"tr"),c.TgZ(47,"td"),c._uU(48,"Time Zone"),c.qZA(),c.TgZ(49,"td"),c._uU(50),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(51,Ze,5,1,"table",9),c.qZA(),c.qZA()),2&t){var i=c.oxw();c.xp6(10),c.hij(" ",i.data.item&&i.data.item.ipAddress?i.data.item.ipAddress:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.longitude?i.data.item.longitude:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.latitude?i.data.item.latitude:"-"," "),c.xp6(10),c.hij(" ",i.data.item&&i.data.item.isp.city?i.data.item.isp.city:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.isp.region?i.data.item.isp.region:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.isp.country?i.data.item.isp.country:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.isp.org?i.data.item.isp.org:"-"," "),c.xp6(5),c.hij(" ",i.data.item&&i.data.item.isp.timezone?i.data.item.isp.timezone:"-"," "),c.xp6(1),c.Q6J("ngIf",i.safeUrl)}}var Te=function(){function t(t,e,i,n){this.data=t,this._bottomSheetRef=e,this._sanitizationService=i,this.customerService=n}return t.prototype.ngOnInit=function(){"customer"===this.data.form&&this.getCustomer(),"geolocation"===this.data.form&&this.data.item&&this.data.item.latitude&&this.data.item.longitude&&(this.safeUrl=this._sanitizationService.bypassSecurityTrustResourceUrl("https://maps.google.com/maps/embed/v1/place?key=AIzaSyAFHE8_4FrJJ7BTbGT5DUpm1IttHijJYoM&q="+this.data.item.latitude+","+this.data.item.longitude))},t.prototype.openLink=function(t){this._bottomSheetRef.dismiss(),t.preventDefault()},t.prototype.getGeoMapUrl=function(){return this._sanitizationService.bypassSecurityTrustResourceUrl("https://maps.google.com/maps?q="+this.data.item.loc+"&hl=en&z=14&amp;output=embed")},t.prototype.saveAccountNumber=function(){var t=this;this.accountNumber?this.customerService.updateCustomerUsingPUT({accountNumber:this.accountNumber,id:this.data.item.id}).subscribe(function(e){alert("Account Number saved"),t.getCustomer()},function(t){alert("Failed to save account number")}):alert("account number can't be empty")},t.prototype.getCustomer=function(){var t=this;this.customerService.findCustomerByIdUsingGET(this.data.item.id).subscribe(function(e){t.customerData=e,t.accountNumber=t.customerData.accountNumber})},t.\u0275fac=function(e){return new(e||t)(c.Y36(fe),c.Y36(xe),c.Y36(x.H7),c.Y36(ke.v))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-agent-customer-info"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"customer-info"],[1,"customer-data"],[2,"font-weight","600"],["appearance","outline",1,"full-width"],["matInput","","type","text","matInput","","readonly","false",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Search",2,"cursor","pointer",3,"click"],[1,"table","table-bordered","table-striped",2,"margin-top","10px"],[1,"table","table-bordered","table-striped"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],[2,"padding","0px"],["width","500","height","170","frameborder","0","scrolling","no","marginheight","0","marginwidth","0",2,"margin-bottom","-6px",3,"src"]],template:function(t,e){1&t&&(c.YNc(0,Se,30,5,"div",0),c.YNc(1,Ae,52,9,"div",0)),2&t&&(c.Q6J("ngIf","customer"===e.data.form),c.xp6(1),c.Q6J("ngIf","geolocation"===e.data.form))},directives:[y.O5,te.KE,te.hX,ee.Nt,r.Fj,r.JJ,r.On,te.R9,v.Hw],styles:[".customer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}.customer-data[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:20px;margin:14px}"]}),t}(),Pe=i(8138),Me=i(529),Ie=i(3982),De=i(4303),Re=i(3589),Ee=i(6591),Oe=i(164),qe=i(1719),Le=i(3765),Ue=i(4517),He=function(){function t(t,e,i){this.httpClient=t,this.basePath=H.Lt,this.defaultHeaders=new L.WM,this.configuration=new z.V,i&&(this.configuration=i),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new U.H}return t.prototype.addToHttpParams=function(t,e,i){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,i)},t.prototype.addToHttpParamsRecursive=function(t,e,i){var n=this;if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return t=n.addToHttpParamsRecursive(t,e,i)});else if(e instanceof Date){if(null==i)throw Error("key may not be null if value is Date");t=t.append(i,e.toISOString().substr(0,10))}else Object.keys(e).forEach(function(a){return t=n.addToHttpParamsRecursive(t,e[a],null!=i?i+"."+a:a)});else{if(null==i)throw Error("key may not be null if value is not object or array");t=t.append(i,e)}return t},t.prototype.saveCapturedDataUsingPOST=function(t,e,i,n){if(void 0===e&&(e="body"),void 0===i&&(i=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling saveCapturedDataUsingPOST.");var a,o=this.defaultHeaders;(a=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",a));var r=n&&n.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(o=o.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.post(this.configuration.basePath+"/captured-data",t,{responseType:c,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:i})},t.prototype.updateCapturedDataUsingPUT=function(t,e,i,n){if(void 0===e&&(e="body"),void 0===i&&(i=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling updateCapturedDataUsingPUT.");var a,o=this.defaultHeaders;(a=this.configuration.lookupCredential("JWT"))&&(o=o.set("Authorization",a));var r=n&&n.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(o=o.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(o=o.set("Content-Type",s));var c="json";return r&&r.startsWith("text")&&(c="text"),this.httpClient.put(this.configuration.basePath+"/captured-data",t,{responseType:c,withCredentials:this.configuration.withCredentials,headers:o,observe:e,reportProgress:i})},t.\u0275fac=function(e){return new(e||t)(c.LFG(L.eN),c.LFG(H.GW,8),c.LFG(z.V,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ze=i(5901),Fe=i(1269),Be=i(486),Ne=i(1955),Qe=i(2205),Je=i(168),Ye=(i(1357),i(1532)),We=i(3620),Ve=i(7853),je=i(6136),Ge=i(7254),Xe=i(1110),Ke=i(8720);function $e(t,e){1&t&&c.Hsn(0)}var ti=["*"];function ei(t,e){}var ii=function(t){return{animationDuration:t}},ni=function(t,e){return{value:t,params:e}},ai=["tabBodyWrapper"],oi=["tabHeader"];function ri(t,e){}function si(t,e){if(1&t&&c.YNc(0,ri,0,0,"ng-template",9),2&t){var i=c.oxw().$implicit;c.Q6J("cdkPortalOutlet",i.templateLabel)}}function ci(t,e){if(1&t&&c._uU(0),2&t){var i=c.oxw().$implicit;c.Oqu(i.textLabel)}}function li(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",6),c.NdJ("click",function(){var t=c.CHM(i),e=t.$implicit,n=t.index,a=c.oxw(),o=c.MAs(1);return a._handleClick(e,o,n)})("cdkFocusChange",function(t){var e=c.CHM(i).index;return c.oxw()._tabFocusChanged(t,e)}),c.TgZ(1,"div",7),c.YNc(2,si,1,1,"ng-template",8),c.YNc(3,ci,1,1,"ng-template",8),c.qZA(),c.qZA()}if(2&t){var n=e.$implicit,a=e.index,o=c.oxw();c.ekj("mat-tab-label-active",o.selectedIndex==a),c.Q6J("id",o._getTabLabelId(a))("disabled",n.disabled)("matRippleDisabled",n.disabled||o.disableRipple),c.uIk("tabIndex",o._getTabIndex(n,a))("aria-posinset",a+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(a))("aria-selected",o.selectedIndex==a)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),c.xp6(2),c.Q6J("ngIf",n.templateLabel),c.xp6(1),c.Q6J("ngIf",!n.templateLabel)}}function hi(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"mat-tab-body",10),c.NdJ("_onCentered",function(){return c.CHM(i),c.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(t){return c.CHM(i),c.oxw()._setTabBodyWrapperHeight(t)}),c.qZA()}if(2&t){var n=e.$implicit,a=e.index,o=c.oxw();c.ekj("mat-tab-body-active",o.selectedIndex===a),c.Q6J("id",o._getTabContentId(a))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",o.animationDuration),c.uIk("tabindex",null!=o.contentTabIndex&&o.selectedIndex===a?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(a))}}var di=["tabListContainer"],ui=["tabList"],pi=["nextPaginator"],gi=["previousPaginator"],mi=new c.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),fi=function(){var t=function(){function t(e,i,n,a){(0,_.Z)(this,t),this._elementRef=e,this._ngZone=i,this._inkBarPositioner=n,this._animationMode=a}return(0,b.Z)(t,[{key:"alignToElement",value:function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return e._setStyles(t)})}):this._setStyles(t)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(t){var e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(mi),c.Y36(je.Qb,8))},t.\u0275dir=c.lG2({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t}(),vi=new c.OlP("MatTabContent"),_i=new c.OlP("MatTabLabel"),bi=new c.OlP("MAT_TAB"),yi=(0,le.Id)(function(){return(0,b.Z)(function t(){(0,_.Z)(this,t)})}()),xi=new c.OlP("MAT_TAB_GROUP"),Ci=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n){var a;return(0,_.Z)(this,i),(a=e.call(this))._viewContainerRef=t,a._closestTabGroup=n,a.textLabel="",a._contentPortal=null,a._stateChanges=new V.xQ,a.position=null,a.origin=null,a.isActive=!1,a}return(0,b.Z)(i,[{key:"templateLabel",get:function(){return this._templateLabel},set:function(t){this._setTemplateLabelInput(t)}},{key:"content",get:function(){return this._contentPortal}},{key:"ngOnChanges",value:function(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new ce.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"_setTemplateLabelInput",value:function(t){t&&t._closestTab===this&&(this._templateLabel=t)}}]),i}(yi);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.s_b),c.Y36(xi,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){var n;1&t&&(c.Suo(i,_i,5),c.Suo(i,vi,7,c.Rgc)),2&t&&(c.iGM(n=c.CRH())&&(e.templateLabel=n.first),c.iGM(n=c.CRH())&&(e._explicitContent=n.first))},viewQuery:function(t,e){var i;1&t&&c.Gf(c.Rgc,7),2&t&&c.iGM(i=c.CRH())&&(e._implicitContent=i.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[c._Bn([{provide:bi,useExisting:t}]),c.qOj,c.TTD],ngContentSelectors:ti,decls:1,vars:0,template:function(t,e){1&t&&(c.F$t(),c.YNc(0,$e,1,0,"ng-template"))},encapsulation:2}),t}(),wi={translateTab:(0,de.X$)("translateTab",[(0,de.SB)("center, void, left-origin-center, right-origin-center",(0,de.oB)({transform:"none"})),(0,de.SB)("left",(0,de.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,de.SB)("right",(0,de.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,de.eR)("* => left, * => right, left => center, right => center",(0,de.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,de.eR)("void => left-origin-center",[(0,de.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,de.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,de.eR)("void => right-origin-center",[(0,de.oB)({transform:"translate3d(100%, 0, 0)"}),(0,de.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},ki=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o){var r;return(0,_.Z)(this,i),(r=e.call(this,t,n,o))._host=a,r._centeringSub=j.w.EMPTY,r._leavingSub=j.w.EMPTY,r}return(0,b.Z)(i,[{key:"ngOnInit",value:function(){var t=this;(0,Ye.Z)((0,We.Z)(i.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe((0,et.O)(this._host._isCenterPosition(this._host._position))).subscribe(function(e){e&&!t.hasAttached()&&t.attach(t._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(function(){t.detach()})}},{key:"ngOnDestroy",value:function(){(0,Ye.Z)((0,We.Z)(i.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),i}(ce.Pl);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36((0,c.Gpc)(function(){return Zi})),c.Y36(y.K0))},t.\u0275dir=c.lG2({type:t,selectors:[["","matTabBodyHost",""]],features:[c.qOj]}),t}(),Si=function(){var t=function(){function t(e,i,n){var a=this;(0,_.Z)(this,t),this._elementRef=e,this._dir=i,this._dirChangeSubscription=j.w.EMPTY,this._translateTabComplete=new V.xQ,this._onCentering=new c.vpe,this._beforeCentering=new c.vpe,this._afterLeavingCenter=new c.vpe,this._onCentered=new c.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(function(t){a._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe((0,Ke.x)(function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})).subscribe(function(t){a._isCenterPosition(t.toState)&&a._isCenterPosition(a._position)&&a._onCentered.emit(),a._isCenterPosition(t.fromState)&&!a._isCenterPosition(a._position)&&a._afterLeavingCenter.emit()})}return(0,b.Z)(t,[{key:"position",set:function(t){this._positionIndex=t,this._computePositionAnimationState()}},{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}},{key:"_computePositionAnimationState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(t){var e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(rt.Is,8),c.Y36(c.sBO))},t.\u0275dir=c.lG2({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t}(),Zi=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a){return(0,_.Z)(this,i),e.call(this,t,n,a)}return(0,b.Z)(i)}(Si);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(rt.Is,8),c.Y36(c.sBO))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var i;1&t&&c.Gf(ce.Pl,5),2&t&&c.iGM(i=c.CRH())&&(e._portalHost=i.first)},hostAttrs:[1,"mat-tab-body"],features:[c.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(c.TgZ(0,"div",0,1),c.NdJ("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),c.YNc(2,ei,0,0,"ng-template",2),c.qZA()),2&t&&c.Q6J("@translateTab",c.WLB(3,ni,e._position,c.VKq(1,ii,e.animationDuration)))},directives:[ki],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[wi.translateTab]}}),t}(),Ai=new c.OlP("MAT_TABS_CONFIG"),Ti=0,Pi=(0,b.Z)(function t(){(0,_.Z)(this,t)}),Mi=(0,le.pj)((0,le.Kr)(function(){return(0,b.Z)(function t(e){(0,_.Z)(this,t),this._elementRef=e})}()),"primary"),Ii=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o){var r,s;return(0,_.Z)(this,i),(r=e.call(this,t))._changeDetectorRef=n,r._animationMode=o,r._tabs=new c.n_E,r._indexToSelect=0,r._tabBodyWrapperHeight=0,r._tabsSubscription=j.w.EMPTY,r._tabLabelSubscription=j.w.EMPTY,r._selectedIndex=null,r.headerPosition="above",r.selectedIndexChange=new c.vpe,r.focusChange=new c.vpe,r.animationDone=new c.vpe,r.selectedTabChange=new c.vpe(!0),r._groupId=Ti++,r.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",r.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,r.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,r.contentTabIndex=null!==(s=null==a?void 0:a.contentTabIndex)&&void 0!==s?s:null,r}return(0,b.Z)(i,[{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=(0,Y.Ig)(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=(0,Y.su)(t,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}},{key:"contentTabIndex",get:function(){return this._contentTabIndex},set:function(t){this._contentTabIndex=(0,Y.su)(t,null)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-".concat(this.backgroundColor)),t&&e.classList.add("mat-background-".concat(t)),this._backgroundColor=t}},{key:"ngAfterContentChecked",value:function(){var t=this,e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){var i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));var n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(function(){t._tabs.forEach(function(t,i){return t.isActive=i===e}),i||(t.selectedIndexChange.emit(e),t._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach(function(i,n){i.position=n-e,null==t._selectedIndex||0!=i.position||i.origin||(i.origin=e-t._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(function(){if(t._clampTabIndex(t._indexToSelect)===t._selectedIndex)for(var e=t._tabs.toArray(),i=0;i<e.length;i++)if(e[i].isActive){t._indexToSelect=t._selectedIndex=i;break}t._changeDetectorRef.markForCheck()})}},{key:"_subscribeToAllTabChanges",value:function(){var t=this;this._allTabs.changes.pipe((0,et.O)(this._allTabs)).subscribe(function(e){t._tabs.reset(e.filter(function(e){return e._closestTabGroup===t||!e._closestTabGroup})),t._tabs.notifyOnChanges()})}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"focusTab",value:function(t){var e=this._tabHeader;e&&(e.focusIndex=t)}},{key:"_focusChanged",value:function(t){this.focusChange.emit(this._createChangeEvent(t))}},{key:"_createChangeEvent",value:function(t){var e=new Pi;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}},{key:"_subscribeToTabLabels",value:function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$.T.apply(void 0,(0,N.Z)(this._tabs.map(function(t){return t._stateChanges}))).subscribe(function(){return t._changeDetectorRef.markForCheck()})}},{key:"_clampTabIndex",value:function(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}},{key:"_getTabLabelId",value:function(t){return"mat-tab-label-".concat(this._groupId,"-").concat(t)}},{key:"_getTabContentId",value:function(t){return"mat-tab-content-".concat(this._groupId,"-").concat(t)}},{key:"_setTabBodyWrapperHeight",value:function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}},{key:"_getTabIndex",value:function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}},{key:"_tabFocusChanged",value:function(t,e){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=e)}}]),i}(Mi);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Ai,8),c.Y36(je.Qb,8))},t.\u0275dir=c.lG2({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[c.qOj]}),t}(),Di=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o){return(0,_.Z)(this,i),e.call(this,t,n,a,o)}return(0,b.Z)(i)}(Ii);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Ai,8),c.Y36(je.Qb,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){var n;1&t&&c.Suo(i,Ci,5),2&t&&c.iGM(n=c.CRH())&&(e._allTabs=n)},viewQuery:function(t,e){var i;1&t&&(c.Gf(ai,5),c.Gf(oi,5)),2&t&&(c.iGM(i=c.CRH())&&(e._tabBodyWrapper=i.first),c.iGM(i=c.CRH())&&(e._tabHeader=i.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&c.ekj("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[c._Bn([{provide:xi,useExisting:t}]),c.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(c.TgZ(0,"mat-tab-header",0,1),c.NdJ("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),c.YNc(2,li,4,14,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.YNc(5,hi,1,9,"mat-tab-body",5),c.qZA()),2&t&&(c.Q6J("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),c.xp6(2),c.Q6J("ngForOf",e._tabs),c.xp6(1),c.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),c.xp6(2),c.Q6J("ngForOf",e._tabs))},directives:function(){return[Ui,y.sg,Ei,le.wG,W.kH,y.O5,ce.Pl,Zi]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t}(),Ri=(0,le.Id)(function(){return(0,b.Z)(function t(){(0,_.Z)(this,t)})}()),Ei=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t){var n;return(0,_.Z)(this,i),(n=e.call(this)).elementRef=t,n}return(0,b.Z)(i,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),i}(Ri);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq))},t.\u0275dir=c.lG2({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(c.uIk("aria-disabled",!!e.disabled),c.ekj("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[c.qOj]}),t}(),Oi=(0,J.i$)({passive:!0}),qi=function(){var t=function(){function t(e,i,n,a,o,r,s){var l=this;(0,_.Z)(this,t),this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=n,this._dir=a,this._ngZone=o,this._platform=r,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new V.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new V.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new c.vpe,this.indexFocused=new c.vpe,o.runOutsideAngular(function(){(0,Ge.R)(e.nativeElement,"mouseleave").pipe((0,tt.R)(l._destroyed)).subscribe(function(){l._stopInterval()})})}return(0,b.Z)(t,[{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){t=(0,Y.su)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}},{key:"ngAfterViewInit",value:function(){var t=this;(0,Ge.R)(this._previousPaginator.nativeElement,"touchstart",Oi).pipe((0,tt.R)(this._destroyed)).subscribe(function(){t._handlePaginatorPress("before")}),(0,Ge.R)(this._nextPaginator.nativeElement,"touchstart",Oi).pipe((0,tt.R)(this._destroyed)).subscribe(function(){t._handlePaginatorPress("after")})}},{key:"ngAfterContentInit",value:function(){var t=this,e=this._dir?this._dir.change:(0,ue.of)("ltr"),i=this._viewportRuler.change(150),n=function(){t.updatePagination(),t._alignInkBarToSelectedTab()};this._keyManager=new W.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),(0,$.T)(e,i,this._items.changes).pipe((0,tt.R)(this._destroyed)).subscribe(function(){t._ngZone.run(function(){return Promise.resolve().then(n)}),t._keyManager.withHorizontalOrientation(t._getLayoutDirection())}),this._keyManager.change.pipe((0,tt.R)(this._destroyed)).subscribe(function(e){t.indexFocused.emit(e),t._setTabFocus(e)})}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(t){if(!(0,pe.Vb)(t))switch(t.keyCode){case pe.K5:case pe.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}},{key:"_onContentChanges",value:function(){var t=this,e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(function(){t.updatePagination(),t._alignInkBarToSelectedTab(),t._changeDetectorRef.markForCheck()}))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}},{key:"_isValidIndex",value:function(t){if(!this._items)return!0;var e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}},{key:"_setTabFocus",value:function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();var e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(e),"px)"),(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(t){this._scrollTo(t)}},{key:"_scrollHeader",value:function(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(t){this._stopInterval(),this._scrollHeader(t)}},{key:"_scrollToLabel",value:function(t){if(!this.disablePagination){var e=this._items?this._items.toArray()[t]:null;if(e){var i,n,a=this._tabListContainer.nativeElement.offsetWidth,o=e.elementRef.nativeElement,r=o.offsetLeft,s=o.offsetWidth;"ltr"==this._getLayoutDirection()?n=(i=r)+s:i=(n=this._tabList.nativeElement.offsetWidth-r)-s;var c=this.scrollDistance,l=this.scrollDistance+a;i<c?this.scrollDistance-=c-i+60:n>l&&(this.scrollDistance+=n-l+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(t,e){var i=this;e&&null!=e.button&&0!==e.button||(this._stopInterval(),(0,Xe.H)(650,100).pipe((0,tt.R)((0,$.T)(this._stopScrolling,this._destroyed))).subscribe(function(){var e=i._scrollHeader(t),n=e.distance;(0===n||n>=e.maxScrollDistance)&&i._stopInterval()}))}},{key:"_scrollTo",value:function(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Q.rL),c.Y36(rt.Is,8),c.Y36(c.R0b),c.Y36(J.t4),c.Y36(je.Qb,8))},t.\u0275dir=c.lG2({type:t,inputs:{disablePagination:"disablePagination"}}),t}(),Li=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o,r,s,c){var l;return(0,_.Z)(this,i),(l=e.call(this,t,n,a,o,r,s,c))._disableRipple=!1,l}return(0,b.Z)(i,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=(0,Y.Ig)(t)}},{key:"_itemSelected",value:function(t){t.preventDefault()}}]),i}(qi);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Q.rL),c.Y36(rt.Is,8),c.Y36(c.R0b),c.Y36(J.t4),c.Y36(je.Qb,8))},t.\u0275dir=c.lG2({type:t,inputs:{disableRipple:"disableRipple"},features:[c.qOj]}),t}(),Ui=function(){var t=function(t){(0,oe.Z)(i,t);var e=(0,re.Z)(i);function i(t,n,a,o,r,s,c){return(0,_.Z)(this,i),e.call(this,t,n,a,o,r,s,c)}return(0,b.Z)(i)}(Li);return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Q.rL),c.Y36(rt.Is,8),c.Y36(c.R0b),c.Y36(J.t4),c.Y36(je.Qb,8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){var n;1&t&&c.Suo(i,Ei,4),2&t&&c.iGM(n=c.CRH())&&(e._items=n)},viewQuery:function(t,e){var i;1&t&&(c.Gf(fi,7),c.Gf(di,7),c.Gf(ui,7),c.Gf(pi,5),c.Gf(gi,5)),2&t&&(c.iGM(i=c.CRH())&&(e._inkBar=i.first),c.iGM(i=c.CRH())&&(e._tabListContainer=i.first),c.iGM(i=c.CRH())&&(e._tabList=i.first),c.iGM(i=c.CRH())&&(e._nextPaginator=i.first),c.iGM(i=c.CRH())&&(e._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&c.ekj("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[c.qOj],ngContentSelectors:ti,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),c._UZ(2,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.NdJ("keydown",function(t){return e._handleKeydown(t)}),c.TgZ(5,"div",5,6),c.NdJ("cdkObserveContent",function(){return e._onContentChanges()}),c.TgZ(7,"div",7),c.Hsn(8),c.qZA(),c._UZ(9,"mat-ink-bar"),c.qZA(),c.qZA(),c.TgZ(10,"div",8,9),c.NdJ("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),c._UZ(12,"div",2),c.qZA()),2&t&&(c.ekj("mat-tab-header-pagination-disabled",e._disableScrollBefore),c.Q6J("matRippleDisabled",e._disableScrollBefore||e.disableRipple),c.xp6(5),c.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),c.xp6(5),c.ekj("mat-tab-header-pagination-disabled",e._disableScrollAfter),c.Q6J("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[le.wG,Ve.wD,fi],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t}(),Hi=function(){var t=(0,b.Z)(function t(){(0,_.Z)(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[y.ez,le.BQ,ce.eL,le.si,Ve.Q8,W.rt],le.BQ]}),t}(),zi=i(7070),Fi=i(7217),Bi=i(2797),Ni=i(9572),Qi=["sidenav"],Ji=["sidenav2"],Yi=["videoSection"];function Wi(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",45),c.TgZ(1,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).toggleSideNavForm()}),c.TgZ(2,"mat-icon"),c._uU(3,"description"),c.qZA(),c.TgZ(4,"span",47),c._uU(5),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(2);c.xp6(5),c.hij(" ",n.meetingData.schedule.purpose.name," ")}}function Vi(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",45),c.TgZ(1,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).openExternalForm()}),c.TgZ(2,"mat-icon"),c._uU(3,"folder"),c.qZA(),c.TgZ(4,"span",47),c._uU(5),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(2);c.xp6(5),c.hij(" ",n.externalForm.displayName," ")}}function ji(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",45),c.TgZ(1,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).openChecklist()}),c.TgZ(2,"mat-icon"),c._uU(3,"check_circle"),c.qZA(),c.TgZ(4,"span",47),c._uU(5," Checklist "),c.qZA(),c.qZA(),c.qZA()}}function Gi(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"header",44),c.TgZ(1,"div",45),c.TgZ(2,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw().openMeetingSummary()}),c.TgZ(3,"mat-icon"),c._uU(4,"info"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(5,"div",45),c.TgZ(6,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw().openBottomSheet("customer")}),c.TgZ(7,"mat-icon"),c._uU(8,"account_circle"),c.qZA(),c.TgZ(9,"span",47),c._uU(10),c.qZA(),c.qZA(),c.qZA(),c.YNc(11,Wi,6,1,"div",48),c.YNc(12,Vi,6,1,"div",48),c.YNc(13,ji,6,0,"div",48),c.TgZ(14,"div",45),c.TgZ(15,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw().openImageCapture()}),c.TgZ(16,"mat-icon"),c._uU(17,"insert_photo"),c.qZA(),c.TgZ(18,"span",47),c._uU(19," Image Capture "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"div",45),c.TgZ(21,"button",46),c.NdJ("click",function(){return c.CHM(i),c.oxw().openBottomSheet("geolocation")}),c.TgZ(22,"mat-icon",49),c._uU(23,"location_on"),c.qZA(),c.TgZ(24,"span",47),c._uU(25," Geo Location "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",45),c.TgZ(27,"button",50),c.NdJ("click",function(){return c.CHM(i),c.oxw().openChat()}),c.TgZ(28,"mat-icon",49),c._uU(29,"chat"),c.qZA(),c.TgZ(30,"span",47),c._uU(31," Chat "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"div",45),c.TgZ(33,"button",51),c.TgZ(34,"mat-icon"),c._uU(35,"settings"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(),a=c.MAs(44);c.xp6(10),c.Oqu(n.meetingData.schedule.customer.name),c.xp6(1),c.Q6J("ngIf",n.meetingData&&n.form),c.xp6(1),c.Q6J("ngIf",n.hasExternalForm),c.xp6(1),c.Q6J("ngIf",n.meetingData&&n.checklist),c.xp6(14),c.Q6J("matBadge",0==n.chatBadgeCount?"":n.chatBadgeCount),c.xp6(6),c.Q6J("matMenuTriggerFor",a)}}function Xi(t,e){1&t&&c._UZ(0,"mat-divider")}function Ki(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"mat-card"),c.TgZ(1,"p"),c._uU(2),c._UZ(3,"br"),c.TgZ(4,"small"),c._uU(5),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"small"),c._uU(8),c.qZA(),c.qZA(),c.TgZ(9,"mat-form-field",55),c.TgZ(10,"mat-label"),c._uU(11,"Comments"),c.qZA(),c.TgZ(12,"textarea",56,57),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(2).currentChecklist.comments=t})("keydown.enter",function(){return c.CHM(i),c.oxw(2).updateChecklistData()}),c.qZA(),c.qZA(),c.TgZ(14,"button",58),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).updateChecklistData()}),c.TgZ(15,"mat-icon",49),c._uU(16,"check"),c.qZA(),c._uU(17,"Completed "),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(2);c.xp6(2),c.hij(" ",n.currentChecklist.name,""),c.xp6(3),c.hij("",n.currentChecklist.duration," Minutes"),c.xp6(3),c.Oqu(n.currentChecklist.description),c.xp6(4),c.Q6J("ngModel",n.currentChecklist.comments),c.xp6(2),c.Q6J("disabled",n.loadingChecklist)}}function $i(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"mat-card",52),c.TgZ(2,"div"),c.TgZ(3,"small"),c._uU(4,"Meeting ID"),c.qZA(),c.TgZ(5,"div",53),c._uU(6),c.qZA(),c._UZ(7,"mat-divider"),c.qZA(),c.TgZ(8,"div",54),c.TgZ(9,"small"),c._uU(10,"Agent"),c.qZA(),c.TgZ(11,"div",53),c._uU(12),c.qZA(),c._UZ(13,"mat-divider"),c.qZA(),c.TgZ(14,"div",54),c.TgZ(15,"small"),c._uU(16,"Purpose"),c.qZA(),c.TgZ(17,"div",53),c._uU(18),c.qZA(),c.YNc(19,Xi,1,0,"mat-divider",11),c.qZA(),c.qZA(),c.YNc(20,Ki,18,5,"mat-card",11),c.BQk()),2&t){var i=c.oxw();c.xp6(6),c.hij(" ",i.meetingData.schedule.roomId.toUpperCase()," "),c.xp6(6),c.Oqu(i.agent),c.xp6(6),c.hij(" ",i.meetingData.schedule.purpose.name," "),c.xp6(1),c.Q6J("ngIf",i.hasExternalForm),c.xp6(1),c.Q6J("ngIf",i.currentChecklist&&!i.checklistCompleted)}}function tn(t,e){if(1&t&&(c.TgZ(0,"div",54),c.TgZ(1,"div"),c._uU(2),c.qZA(),c.TgZ(3,"div",53),c.TgZ(4,"small"),c._uU(5),c.qZA(),c.qZA(),c._UZ(6,"mat-divider"),c.qZA()),2&t){var i=e.$implicit;c.xp6(2),c.AsE("",i.name," (",i.duration," Minutes)"),c.xp6(3),c.hij(" ",i.description?i.description:"-"," ")}}function en(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"h2"),c._uU(2),c.qZA(),c.TgZ(3,"mat-card",59),c.TgZ(4,"mat-card-content"),c.YNc(5,tn,7,3,"div",60),c.qZA(),c.qZA(),c.BQk()),2&t){var i=c.oxw();c.xp6(2),c.hij("Checklist (",i.checklist.duration," Minutes)"),c.xp6(3),c.Q6J("ngForOf",i.checklist.data)}}function nn(t,e){if(1&t&&(c.TgZ(0,"div",62),c.TgZ(1,"mat-card",63),c.TgZ(2,"mat-card-content",64),c._uU(3),c.qZA(),c.TgZ(4,"mat-card-footer",65),c.TgZ(5,"button",66),c.TgZ(6,"mat-icon"),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"button",66),c.TgZ(9,"mat-icon"),c._uU(10),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var i=e.$implicit;c.xp6(3),c.hij(" ",i.name," "),c.xp6(4),c.Oqu(i.micOff?"mic_off":"mic"),c.xp6(3),c.Oqu(i.cameraOff?"videocam_off":"videocam")}}function an(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"h2"),c._uU(2,"Participants"),c.qZA(),c.YNc(3,nn,11,3,"div",61),c.BQk()),2&t){var i=c.oxw();c.xp6(3),c.Q6J("ngForOf",i.participantsList)}}function on(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c._uU(1),c.qZA()),2&t){var i=e.$implicit;c.Q6J("value",i),c.xp6(1),c.Oqu(i.type)}}function rn(t,e){1&t&&(c.TgZ(0,"div",81),c.TgZ(1,"div",82),c._UZ(2,"div",83),c._UZ(3,"div",84),c.qZA(),c.qZA())}var sn=function(t){return{cursor:"pointer",color:t}};function cn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"mat-icon",85),c.NdJ("click",function(){return c.CHM(i),c.oxw(2).openFacialRecognition()}),c._uU(1," verified"),c.qZA()}if(2&t){var n=c.oxw(2);c.Q6J("ngStyle",c.VKq(1,sn,n.selectedImage.verification.isSimilar?"green":"red"))}}function ln(t,e){if(1&t&&c._UZ(0,"img",86),2&t){var i=c.oxw(2);c.Q6J("src",i.selectedImage.image,c.LSH)}}function hn(t,e){1&t&&c._UZ(0,"img",87)}function dn(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Photo "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",(null==i.attachments?null:i.attachments.photo)+":::photo"),c.xp6(1),c.Q6J("href",i.attachments.photo,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.photo,c.LSH)}}function un(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Citizenship Front "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",(null==i.attachments||null==i.attachments.citizenship?null:i.attachments.citizenship.front)+":::citizenship front"),c.xp6(1),c.Q6J("href",null==i.attachments||null==i.attachments.citizenship?null:i.attachments.citizenship.front,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.citizenship.front,c.LSH)}}function pn(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Citizenship Back "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",i.attachments.citizenship.back+":::citizenship back"),c.xp6(1),c.Q6J("href",i.attachments.citizenship.back,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.citizenship.back,c.LSH)}}function gn(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Passport "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",(null==i.attachments?null:i.attachments.passport)+":::passport"),c.xp6(1),c.Q6J("href",i.attachments.passport,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.passport,c.LSH)}}function mn(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Other Front "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",i.attachments.other.front+":::other front"),c.xp6(1),c.Q6J("href",i.attachments.other.front,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.other.front,c.LSH)}}function fn(t,e){if(1&t&&(c.TgZ(0,"mat-option",80),c.TgZ(1,"a",92),c._UZ(2,"img",93),c.qZA(),c._uU(3,"\xa0 Other Back "),c.qZA()),2&t){var i=c.oxw(5);c.Q6J("value",i.attachments.other.back+":::other back"),c.xp6(1),c.Q6J("href",i.attachments.other.back,c.LSH),c.xp6(1),c.Q6J("src",i.attachments.other.back,c.LSH)}}function vn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"mat-form-field",55),c.TgZ(1,"mat-label"),c._uU(2,"Verify Against"),c.qZA(),c.TgZ(3,"mat-select",90),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(4).verificationImage=t})("ngModelChange",function(){return c.CHM(i),c.oxw(4).validateImage()}),c.YNc(4,dn,4,3,"mat-option",91),c.YNc(5,un,4,3,"mat-option",91),c.YNc(6,pn,4,3,"mat-option",91),c.YNc(7,gn,4,3,"mat-option",91),c.YNc(8,mn,4,3,"mat-option",91),c.YNc(9,fn,4,3,"mat-option",91),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(4);c.xp6(3),c.Q6J("ngModel",n.verificationImage),c.xp6(1),c.Q6J("ngIf",null==n.attachments?null:n.attachments.photo),c.xp6(1),c.Q6J("ngIf",null==n.attachments?null:n.attachments.citizenship),c.xp6(1),c.Q6J("ngIf",n.attachments.citizenship),c.xp6(1),c.Q6J("ngIf",null==n.attachments?null:n.attachments.passport),c.xp6(1),c.Q6J("ngIf",null==n.attachments||null==n.attachments.other?null:n.attachments.other.front),c.xp6(1),c.Q6J("ngIf",null==n.attachments||null==n.attachments.other?null:n.attachments.other.back)}}function _n(t,e){if(1&t&&(c.TgZ(0,"div",67),c.TgZ(1,"div",68),c.YNc(2,vn,10,7,"mat-form-field",89),c.qZA(),c.qZA()),2&t){var i=c.oxw(3);c.xp6(2),c.Q6J("ngIf",i.attachments)}}function bn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"div",68),c.TgZ(2,"mat-form-field",55),c.TgZ(3,"mat-label"),c._uU(4,"CIF"),c.qZA(),c.TgZ(5,"input",94),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(3).cif=t}),c.qZA(),c.qZA(),c.TgZ(6,"div",95),c.TgZ(7,"mat-slide-toggle",96),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw(3).facialLandmarks=t}),c._uU(8," Show Marked Image "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",97),c.TgZ(10,"button",71),c.NdJ("click",function(){return c.CHM(i),c.oxw(3).verifyImage()}),c._uU(11," Verify "),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw(3);c.xp6(5),c.Q6J("ngModel",n.cif)("disabled",n.faceVerficationSpinner),c.xp6(2),c.Q6J("ngModel",n.facialLandmarks)("disabled",n.faceVerficationSpinner),c.xp6(3),c.Q6J("disabled",!n.selectedImage||!n.cif||n.faceVerficationSpinner)}}function yn(t,e){if(1&t&&(c.TgZ(0,"div",67),c.TgZ(1,"div",68),c.TgZ(2,"mat-accordion"),c.TgZ(3,"mat-expansion-panel",88),c.TgZ(4,"mat-expansion-panel-header"),c.TgZ(5,"mat-panel-title"),c._uU(6," Verification "),c.qZA(),c.qZA(),c.YNc(7,_n,3,1,"div",79),c.YNc(8,bn,12,5,"div",79),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(7),c.Q6J("ngIf","URL"==i.imageVerificationType),c.xp6(1),c.Q6J("ngIf","CIF"==i.imageVerificationType)}}function xn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"div",99),c.TgZ(1,"img",100),c.NdJ("click",function(){var t=c.CHM(i).$implicit;return c.oxw(3).selectImage(t)}),c.qZA(),c.qZA()}if(2&t){var n=e.$implicit;c.xp6(1),c.Q6J("src",n.image,c.LSH)}}function Cn(t,e){if(1&t&&(c.TgZ(0,"div",67),c.TgZ(1,"div",97),c.TgZ(2,"h3"),c._uU(3,"Saved Images"),c.qZA(),c.TgZ(4,"div",67),c.YNc(5,xn,2,1,"div",98),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw(2);c.xp6(5),c.Q6J("ngForOf",i.savedImages)}}function wn(t,e){if(1&t){var i=c.EpF();c.ynx(0),c.TgZ(1,"div",67),c.TgZ(2,"div",68),c.TgZ(3,"h2"),c._uU(4,"Image Capture"),c.qZA(),c.TgZ(5,"mat-form-field",55),c.TgZ(6,"mat-label"),c._uU(7,"Image Type"),c.qZA(),c.TgZ(8,"mat-select",69),c.NdJ("ngModelChange",function(t){return c.CHM(i),c.oxw().capturedDocumentType=t}),c.YNc(9,on,2,2,"mat-option",70),c.qZA(),c.qZA(),c.TgZ(10,"button",71),c.NdJ("click",function(){return c.CHM(i),c.oxw().screenCapture()}),c._uU(11," Capture "),c.qZA(),c.qZA(),c.TgZ(12,"div",68),c.TgZ(13,"button",71),c.NdJ("click",function(){return c.CHM(i),c.oxw().sendGuidelineRequest()}),c._uU(14," Send Capture Guideline "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",52),c._UZ(16,"mat-divider"),c.qZA(),c.TgZ(17,"div",67),c.TgZ(18,"div",68),c.TgZ(19,"div",72),c.YNc(20,rn,4,0,"div",73),c.TgZ(21,"div",74),c.YNc(22,cn,2,3,"mat-icon",75),c.YNc(23,ln,1,1,"img",76),c.YNc(24,hn,1,0,"img",77),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div",68),c.TgZ(26,"button",78),c.NdJ("click",function(){return c.CHM(i),c.oxw().deleteImage()}),c._uU(27," Delete "),c.qZA(),c.qZA(),c.qZA(),c.YNc(28,yn,9,2,"div",79),c.YNc(29,Cn,6,1,"div",79),c.BQk()}if(2&t){var n=c.oxw();c.xp6(8),c.Q6J("ngModel",n.capturedDocumentType),c.xp6(1),c.Q6J("ngForOf",n.imageTypes),c.xp6(1),c.Q6J("disabled",n.faceVerficationSpinner),c.xp6(3),c.Q6J("disabled",n.faceVerficationSpinner),c.xp6(7),c.Q6J("ngIf",n.faceVerficationSpinner),c.xp6(2),c.Q6J("ngIf",n.selectedImage&&n.selectedImage.verification),c.xp6(1),c.Q6J("ngIf",n.selectedImage),c.xp6(1),c.Q6J("ngIf",!n.selectedImage),c.xp6(2),c.Q6J("disabled",n.faceVerficationSpinner||!n.selectedImage),c.xp6(2),c.Q6J("ngIf",n.selectedImage&&1===n.selectedImage.type),c.xp6(1),c.Q6J("ngIf",n.savedImages.length>0)}}function kn(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"mat-card",104),c.TgZ(2,"span",105),c._uU(3,"You"),c.qZA(),c.TgZ(4,"mat-card-content",106),c._uU(5),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw().$implicit;c.xp6(5),c.hij(" ",i.message," ")}}function Sn(t,e){if(1&t&&(c.TgZ(0,"div"),c.TgZ(1,"mat-card",107),c.TgZ(2,"span",108),c._uU(3),c.qZA(),c.TgZ(4,"mat-card-content",106),c._uU(5),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.oxw().$implicit;c.xp6(3),c.Oqu(i.name),c.xp6(2),c.hij(" ",i.message," ")}}function Zn(t,e){if(1&t&&(c.TgZ(0,"div"),c.YNc(1,kn,6,1,"div",11),c.YNc(2,Sn,6,2,"div",11),c.qZA()),2&t){var i=e.$implicit;c.xp6(1),c.Q6J("ngIf","You"===i.name),c.xp6(1),c.Q6J("ngIf","You"!==i.name)}}function An(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"h2"),c._uU(2,"Chat"),c.qZA(),c.TgZ(3,"div",101,102),c.YNc(5,Zn,3,2,"div",103),c.qZA(),c.BQk()),2&t){var i=c.MAs(4),n=c.oxw();c.xp6(3),c.Q6J("scrollTop",i.scrollHeight),c.xp6(2),c.Q6J("ngForOf",n.generalChatMessage)}}function Tn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"mat-card-content",109),c.TgZ(1,"mat-card"),c.TgZ(2,"div",110),c.TgZ(3,"mat-form-field"),c.TgZ(4,"input",111),c.NdJ("keydown",function(t){return c.CHM(i),c.oxw().onChatKeyDown(t)})("ngModelChange",function(t){return c.CHM(i),c.oxw().chatMessage=t}),c.qZA(),c.qZA(),c.TgZ(5,"button",112),c.NdJ("click",function(){c.CHM(i);var t=c.oxw();return t.sendMessage(t.chatMessage),t.clearMessage()}),c.TgZ(6,"mat-icon"),c._uU(7,"send"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(4),c.Q6J("ngModel",n.chatMessage)}}function Pn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",113),c.NdJ("click",function(){return c.CHM(i),c.oxw().openExternalForm()}),c.TgZ(1,"mat-icon"),c._uU(2,"open_in_new"),c.qZA(),c.qZA()}}function Mn(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"mat-form-field",55),c.TgZ(2,"mat-label"),c._uU(3),c.qZA(),c.TgZ(4,"input",117),c.NdJ("ngModelChange",function(t){return e.$implicit.value=t}),c.qZA(),c.qZA(),c.BQk()),2&t){var i=e.$implicit,n=e.index;c.xp6(3),c.Oqu(i.field),c.xp6(1),c.MGl("name","field",n,""),c.Q6J("ngModel",i.value)("placeholder",i.field)}}function In(t,e){if(1&t){var i=c.EpF();c.ynx(0),c.TgZ(1,"div",114),c.TgZ(2,"div",115),c.TgZ(3,"h2"),c._uU(4),c.qZA(),c.TgZ(5,"button",116),c.NdJ("click",function(){return c.CHM(i),c.oxw().saveAsDraft()}),c._uU(6," Save as Draft "),c.qZA(),c.qZA(),c.YNc(7,Mn,5,4,"ng-container",103),c.qZA(),c.BQk()}if(2&t){var n=c.oxw();c.xp6(4),c.hij(" ",n.form.title," "),c.xp6(3),c.Q6J("ngForOf",n.form.data)}}function Dn(t,e){if(1&t&&c._UZ(0,"iframe",118),2&t){var i=c.oxw();c.Q6J("src",i.safeExternalSrc,c.uOi)}}function Rn(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",119),c.NdJ("click",function(t){return c.CHM(i),c.oxw().onCameraChange(t)}),c._uU(1),c.qZA()}if(2&t){var n=e.$implicit;c.Q6J("value",n.value),c.xp6(1),c.hij(" ",n.label," ")}}function En(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",119),c.NdJ("click",function(t){return c.CHM(i),c.oxw().onMicChange(t)}),c._uU(1),c.qZA()}if(2&t){var n=e.$implicit;c.Q6J("value",n.value),c.xp6(1),c.hij(" ",n.label," ")}}function On(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",119),c.NdJ("click",function(t){return c.CHM(i),c.oxw().onSpeakerChange(t)}),c._uU(1),c.qZA()}if(2&t){var n=e.$implicit;c.Q6J("value",n.value),c.xp6(1),c.hij(" ",n.label," ")}}function qn(t,e){if(1&t&&(c.TgZ(0,"div",120),c.TgZ(1,"span"),c._uU(2,"Status: "),c.qZA(),c._uU(3),c._UZ(4,"br"),c.TgZ(5,"span"),c._uU(6,"IP Address: "),c.qZA(),c._uU(7),c._UZ(8,"br"),c.TgZ(9,"span"),c._uU(10,"Duration: "),c.qZA(),c._uU(11),c._UZ(12,"br"),c.TgZ(13,"span"),c._uU(14,"Time Left: "),c.qZA(),c._uU(15),c._UZ(16,"br"),c.qZA()),2&t){var i=c.oxw();c.xp6(3),c.Oqu(i.connectionStatus),c.xp6(4),c.Oqu(i.geoLocationDto?i.geoLocationDto.ipAddress:"NA"),c.xp6(4),c.hij("",i.checklist?i.checklist.duration:"NA"," Minutes"),c.xp6(4),c.hij("",i.timeleft," Minutes")}}function Ln(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",121),c.NdJ("click",function(){return c.CHM(i),c.oxw().toggleCamera()}),c.TgZ(1,"mat-icon"),c._uU(2),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(2),c.Oqu(n.cameraPrivacy?"videocam_off":"videocam")}}function Un(t,e){if(1&t){var i=c.EpF();c.TgZ(0,"button",121),c.NdJ("click",function(){return c.CHM(i),c.oxw().toggleMic()}),c.TgZ(1,"mat-icon"),c._uU(2),c.qZA(),c.qZA()}if(2&t){var n=c.oxw();c.xp6(2),c.Oqu(n.microphonePrivacy?"mic_off":"mic")}}var Hn=[{path:"dashboard",component:l,canActivate:[h.a]},{path:"call/:id",component:function(t){function e(e,i,n,a,o,r,s,c,l,h,d,u,p,g,m,f,v,_,b,y,x,C,w,k){var S=t.call(this)||this;return S.cdr=e,S.route=i,S.authService=n,S.location=a,S.dialog=o,S.apiClient=r,S.snackBar=s,S._bottomSheet=c,S.platform=l,S.nav=h,S.purposeService=d,S.utilService=u,S.meetingDataService=p,S.checklistDataService=g,S.scheduleService=m,S.capturedDataService=f,S.cpaturedImageService=v,S.spinner=_,S.usersService=b,S.sanitizer=y,S.imageVerificationService=x,S.chatDataService=C,S.http=w,S.DISPLAY_NAME="",S.sidenavMode="side",S.sidenavFormMode="side",S.ipReceived=!1,S.hideStatus=!1,S.checklistOverlay=!1,S.checklistIndex=0,S.checklistCompleted=!1,S.loadingChecklist=!1,S.timeleft=0,S.isSharingWindow=!1,S.sidenavContent="meetingSummary",S.imageTypes=[],S.participants=[],S.savedImages=[],S.faceVerficationSpinner=!1,S.faceVerified=!1,S.guidelineUrl="https://drive.google.com/uc?id=1iRHZokTPJC4t276SCmEkxr5a5s19Nbfa",S.facialLandmarks=!0,S.facialVerification={facialRecognitionPercent:null,resultColor:null,isSimilar:null,landmarkedImage:null,originalImage:null},S.hasExternalForm=!1,S.externalFormShow=!1,S.externalForm={url:"https://www.laxmibank.com/",displayName:"CTRL-O Form",metadata:null},S.safeExternalSrc="",S.updateCount=0,S.loadingStatus="Waiting for Customer",S.isBackgroundImageSet=!1,S.videoRecordingStarted=!1,S.clientName=Me.N.clientName,S.recorderStopAlert=!1,S.VCLib=VidyoClientLib,S.meetingEnded=!1,S}return(0,u.ZT)(e,t),e.prototype.ngDoCheck=function(){var t=this;if(this.customerOnline){if(!this.ipReceived&&this.meetingData.id&&(this.meetingDataService.getLocationDataUsingGET(this.meetingData.id).subscribe(function(e){t.geoLocationDto=e}),this.startTimer(),this.ipReceived=!0),null!=this.defaultVideoImage&&null!=this.defaultVideoImage&&!this.isBackgroundImageSet){var e=document.getElementsByClassName("video-placeholder")[1];e&&(e.setAttribute("style","background: url("+this.defaultVideoImage+") no-repeat center center fixed"),this.isBackgroundImageSet=!0)}this.videoRecordingStarted?this.spinner.hide():this.startRecording(this.meetingData.schedule.roomId)}},e.prototype.startRecording=function(t){var e=this;this.meetingDataService.startVideoRecordingUsingPOST(t).subscribe(function(t){e.spinner.hide(),e.loadingStatus="",e.videoRecordingStarted=!0,console.log("Video recording started successfully")},function(t){console.log(t)}),this.videoRecordingStarted=!0},e.prototype.stopRecording=function(t){this.meetingDataService.stopVideoRecordingUsingPOST(t).subscribe(function(t){console.log(t),console.log("Video recording stopped successfully")},function(t){console.log(t),console.log("Failed to stop video recording")})},e.prototype.ngOnInit=function(){var t=this;this.spinner.show(),this.nav.hide(),this.route.params.subscribe(function(e){t.id=e.id,t.DISPLAY_NAME=t.authService.name}),this.getMeetingData()},e.prototype.getMeetingData=function(){var t=this;console.log("meeting data"),this.meetingDataService.findMeetingDataByIdUsingGET(this.id).subscribe(function(e){if(t.meetingData=e,console.log(t.meetingData),t.meetingData.schedule.capturedImages&&t.meetingData.schedule.capturedImages.forEach(function(e){if(console.log(e),e.status){var i={id:e.id,image:"data:image/jpeg;base64,"+e.path,type:e.type};console.log(i),t.savedImages.push(i)}t.cdr.detectChanges()}),t.meetingData.schedule.capturedDatas.length>0){var i=t.meetingData.schedule.capturedDatas[0];t.form={},t.form.id=i.id,t.form.formTemplateId=i.formTemplate.id,t.form.title=i.formTemplate.title,t.form.data=JSON.parse(i.data)}if("Laxmi Bank"===Me.N.clientName&&"000000001"===t.meetingData.schedule.purpose.id&&null!=t.meetingData.schedule.metaData&&null!=t.meetingData.schedule.metaData){var n=t.meetingData.schedule.metaData.replaceAll("'",'"'),a=JSON.parse(n);console.log(a),t.getVerificationImages(a),a.uriPrefix&&a.customer_identifier&&a.token&&(t.hasExternalForm=!0,t.externalForm.displayName="CTRL-O Form",t.externalForm.url=a.uriPrefix+a.customer_identifier,t.externalForm.metadata=a)}else t.meetingData.schedule.metaData&&(n=t.meetingData.schedule.metaData.replaceAll("'",'"'),a=JSON.parse(n),console.log(a),t.getVerificationImages(a));t.getUserName(),t.getPurpose(),t.getImageTypes(),t.roomDetails.set("roomKey",t.meetingData.schedule.roomKey),t.roomDetails.set("roomPin",t.meetingData.schedule.roomPin),t.roomDetails.set("host",t.host),t.roomDetails.set("displayName",t.DISPLAY_NAME),t.initVC(),t.openMeetingSummary()},function(t){alert("Error: "+t)})},e.prototype.tabChange=function(t){1===t?(this.externalFormShow=!0,this.loadExternalFormIframe()):this.externalFormShow=!1},e.prototype.loadExternalFormIframe=function(){if("Laxmi Bank"===this.clientName&&"000000001"===this.meetingData.schedule.purpose.id&&null!=this.meetingData.schedule.metaData&&null!=this.meetingData.schedule.metaData)try{var t=this.meetingData.schedule.metaData.replaceAll("'",'"');if((r=JSON.parse(t)).uriPrefix&&r.customer_identifier&&r.token){this.hasExternalForm=!0,this.externalForm.displayName="CTRL-O Form",this.externalForm.url=r.uriPrefix+r.customer_identifier;var e=document.createElement("form");e.method="POST",e.action="https://www.laxmibank.com/mikha/",e.target="externalIframe";var i=document.createElement("input"),n=document.createElement("input"),a=document.createElement("input"),o=document.createElement("input");i.type="hidden",n.type="hidden",a.type="hidden",o.type="hidden",i.name="id",i.value=r.customer_identifier,n.name="token",n.value=r.token,a.name="user",a.value=this.agentEmail,o.name="action",o.value="authorize",e.appendChild(i),e.appendChild(n),e.appendChild(a),e.appendChild(o),document.body.append(e),e.submit(),document.body.removeChild(e),window.open(r.uriPrefix+r.customer_identifier,"_blank")}}catch(s){this.hasExternalForm=!1,console.log(s)}else if("Laxmi Bank"!=Me.N.clientName&&this.meetingData.schedule.metaData)try{var r;t=this.meetingData.schedule.metaData.replaceAll("'",'"'),(r=JSON.parse(t)).uriPrefix&&(this.hasExternalForm=!0,this.externalForm.displayName="Web Channel",this.externalForm.url=r.uriPrefix,this.safeExternalSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.externalForm.url))}catch(s){this.hasExternalForm=!1,console.log(s)}},e.prototype.openExternalForm=function(){if("Laxmi Bank"===Me.N.clientName&&null!=this.externalForm.metadata&&null!=this.externalForm.metadata){var t=this.externalForm.metadata,e=document.createElement("form");e.method="POST",e.action="https://www.laxmibank.com/mikha/",e.target="_blank";var i=document.createElement("input"),n=document.createElement("input"),a=document.createElement("input"),o=document.createElement("input");i.type="hidden",n.type="hidden",a.type="hidden",o.type="hidden",i.name="id",i.value=t.customer_identifier,n.name="token",n.value=t.token,a.name="user",a.value=this.agentEmail,o.name="action",o.value="authorize",e.appendChild(i),e.appendChild(n),e.appendChild(a),e.appendChild(o),document.body.append(e),e.submit(),document.body.removeChild(e),window.open(t.uriPrefix+t.customer_identifier,"_blank")}else{var r=this.meetingData.schedule.metaData.replaceAll("'",'"');t=JSON.parse(r),window.open(t.uriPrefix,"_blank")}},e.prototype.getUserName=function(){var t=this,e=this.authService.getUserInformation();e.id===this.meetingData.schedule.agentId?(this.agent=e.name,this.agentEmail=e.email):this.usersService.usersGetUser(this.meetingData.schedule.agentId).subscribe(function(e){t.agent=e.name,t.agentEmail=e.email})},e.prototype.getPurpose=function(){var t=this;this.purposeService.findPurposeByIdUsingGET(this.meetingData.schedule.purpose.id).subscribe(function(e){var i,n=JSON.parse(JSON.stringify(e));if(t.defaultVideoImage=n.defaultVideoImageUrl,t.imageVerificationType=e.imageVerificationType,n.checkListTemplate){var a=JSON.parse(n.checkListTemplate.data);t.checklist={},t.checklist.id=n.checkListTemplate.id,t.checklist.title=n.checkListTemplate.name,t.checklist.duration=null===(i=n.checkListTemplate)||void 0===i?void 0:i.duration,t.checklist.description=n.checkListTemplate.description,t.checklist.data=a,t.currentChecklist=t.checklist.data[0],t.timeleft=t.checklist.duration}!t.form&&n.formTemplate&&(a=JSON.parse(n.formTemplate.data),t.form={},t.form.id=null,t.form.formTemplateId=n.formTemplate.id,t.form.title=n.formTemplate.title,t.form.data=a)},function(t){alert("Error: "+t)})},e.prototype.getImageTypes=function(){var t=this;this.utilService.getAllCapturedImageTypesUsingGET().subscribe(function(e){t.imageTypes=e,t.imageTypes.length>0&&(t.capturedDocumentType=t.imageTypes[0])})},e.prototype.endMeeting=function(){if(confirm("Are you sure you want to end this meeting? This meeting will no longer be available once you end it.")){this.spinner.show(),"Laxmi Bank"===this.clientName&&"000000001"===this.meetingData.schedule.purpose.id&&this.completeCtrlO(),this.stopRecording(this.meetingData.schedule.roomId),this.meetingEnded=!0;var t=this.authService.getUserInformation();this.updateMeetingData(t,3),this.updateSchedule(t),this.updateCapturedData(t),this.toggleMic(!0),this.toggleCamera(!0),this.spinner.hide(),this.saveChatData(),this.destruct(),this.location.back()}},e.prototype.cancelMeeting=function(){confirm("Are you sure? All the changes you have made will be lost.")&&this.location.back()},e.prototype.saveChatData=function(){var t={meetingDataId:this.meetingData.id,data:JSON.stringify(this.generalChatMessage)};this.chatDataService.saveUsingPOST(t).subscribe(function(t){console.log(t)},function(t){console.log(t)})},e.prototype.updateMeetingData=function(t,e){var i=this,n=new Date,a=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),s=String(n.getHours()).padStart(2,"0"),c=String(n.getMinutes()).padStart(2,"0"),l={browser:"",meetingDataId:this.meetingData.id,meetingEndDate:a+"/"+o+"/"+r,meetingEndTime:s+":"+c,meetingStartDate:a+"/"+o+"/"+r,meetingStartTime:this.startTime,modifiedById:t.id,modifiedByName:t.name,participants:JSON.stringify(this.participantsList),status:e,recordingUrl:""};this.meetingDataService.updateMeetingDataUsingPUT(l).subscribe(function(t){i.verifyUpdate()},function(t){i.verifyUpdate()})},e.prototype.updateChecklistData=function(t){var e=this;if(this.checklistComments&&this.checklistComments.focus(),this.currentChecklist.completed=!0,this.currentChecklist.completedOn=new Date,this.loadingChecklist=!0,this.meetingData.schedule.checklistData&&this.meetingData.schedule.checklistData.id){var i={checklistDataId:this.meetingData.schedule.checklistData.id,data:JSON.stringify(this.checklist)};this.checklistDataService.updateChecklistDataUsingPUT(i).subscribe(function(t){e.loadingChecklist=!1,e.nextChecklist()},function(t){alert("Error: "+JSON.stringify(t))})}else i={checklistTemplateId:this.checklist.id,scheduleId:this.meetingData.schedule.id,data:JSON.stringify(this.checklist)},this.checklistDataService.saveChecklistDataUsingPOST(i).subscribe(function(t){e.loadingChecklist=!1,e.nextChecklist()},function(t){e.loadingChecklist=!1,alert("Error: "+JSON.stringify(t))})},e.prototype.nextChecklist=function(){this.checklistIndex=this.checklistIndex+1,this.checklistIndex<this.checklist.data.length?this.currentChecklist=this.checklist.data[this.checklistIndex]:this.checklistCompleted=!0},e.prototype.updateCapturedData=function(t){var e=this;if(this.form)if(this.form.id){var i={capturedDataId:this.form.id,data:JSON.stringify(this.form.data)};this.capturedDataService.updateCapturedDataUsingPUT(i).subscribe(function(t){console.log(t)},function(t){})}else i={formTemplateId:this.form.formTemplateId,scheduleId:this.meetingData.schedule.id,data:JSON.stringify(this.form.data)},this.capturedDataService.saveCapturedDataUsingPOST(i).subscribe(function(i){e.updateSchedule(t);var n=JSON.parse(i.data);e.form.id=n.capturedDataId},function(t){alert("Error: "+JSON.stringify(t))});else this.updateSchedule(t)},e.prototype.updateSchedule=function(t){var e=this;this.scheduleService.updateScheduleUsingPUT({id:this.meetingData.schedule.id,status:this.meetingEnded?3:9,modifiedById:t.id,modifiedByName:t.name,agentId:this.meetingData.schedule.agentId,duration:this.meetingData.schedule.duration,meetingDate:"",meetingTime:"",participants:"",title:this.meetingData.schedule.title}).subscribe(function(t){e.verifyUpdate()},function(t){e.verifyUpdate()})},e.prototype.verifyUpdate=function(){this.updateCount=this.updateCount+1,3==this.updateCount&&(this.spinner.hide(),this.location.back())},e.prototype.toggleSideNav=function(){this.sidenav.toggle(),this.isChatOpen=!1},e.prototype.toggleSidenavMode=function(){this.sidenavMode="side"===this.sidenavMode?"over":"side"},e.prototype.toggleSidenavFormMode=function(){this.sidenavFormMode="side"===this.sidenavFormMode?"over":"side"},e.prototype.toggleSideNavForm=function(){this.sidenavForm.opened?(this.sidenavForm.close(),this.hideStatus=!1):(this.sidenavForm.open(),this.hideStatus=!0)},e.prototype.openForm=function(){"form"===this.sidenavContent?this.sidenav.toggle():(this.sidenavContent="form",this.sidenav.open())},e.prototype.openMeetingSummary=function(){"meetingSummary"===this.sidenavContent?this.sidenav.toggle():(this.sidenavContent="meetingSummary",this.sidenav.open())},e.prototype.openChecklist=function(){"checklist"===this.sidenavContent?this.sidenav.toggle():(this.sidenavContent="checklist",this.sidenav.open())},e.prototype.openImageCapture=function(){"image"===this.sidenavContent?this.sidenav.toggle():(this.sidenavContent="image",this.sidenav.open())},e.prototype.openParticipants=function(){"participants"===this.sidenavContent?this.sidenav.toggle():(this.sidenavContent="participants",this.sidenav.open())},e.prototype.openBottomSheet=function(t){var e={form:t,item:"customer"===t?this.meetingData.schedule.customer:JSON.parse(this.geoLocationDto.geoLocation)};this._bottomSheet.open(Te,{data:e,hasBackdrop:!0,panelClass:"custom-bottomsheet-width"})},e.prototype.openChat=function(){"chat"===this.sidenavContent?(this.sidenav.toggle(),this.isChatOpen=!this.isChatOpen):(this.sidenavContent="chat",this.sidenav.open(),this.isChatOpen=!this.isChatOpen),this.chatBadgeCount=0},e.prototype.openChecklistOverlay=function(t){this.checklistOverlay=!this.checklistOverlay,t&&this.checklist.data||this.checklistOverlay?this.openChecklistDialog():this.dialog.closeAll()},e.prototype.openChecklistDialog=function(){var t=this;this.dialog.open(ae,{hasBackdrop:!1,data:{id:this.meetingData.schedule.checklistData?this.meetingData.schedule.checklistData.id:null,scheduleId:this.meetingData.schedule.id,checklist:this.checklist.data},width:"250px",position:{bottom:"200px",right:"20px"}}).afterClosed().subscribe(function(e){t.checklistOverlay=!1})},e.prototype.startTimer=function(){var t=this,e=new Date,i=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");this.startTime=i+":"+n,this.interval=setInterval(function(){t.timeleft>0&&t.timeleft--},6e4),this.cdr.detectChanges()},e.prototype.screenCapture=function(){var t=this,e=document.getElementsByTagName("video"),i=null;if(this.platform.FIREFOX||this.platform.SAFARI){for(var n=0;n<e.length;n++)if(null!==(a=e[n]).getAttribute("data-stream-id")&&""!==a.getAttribute("data-stream-id")&&void 0!==a.getAttribute("data-stream-id")&&a.getAttribute("data-stream-id")!==this.localParticipantId){i=a;break}}else for(n=0;n<e.length;n++){var a;null!==(a=e[n]).id&&""!==a.id&&void 0!==a.id&&a.id!==this.localParticipantId&&(i=a)}if(null!==i){var o=i.videoWidth,r=i.videoHeight,s=document.createElement("canvas");s.height=r,s.width=o,s.getContext("2d").drawImage(i,0,0);var c=s.toDataURL("image/jpeg");"data:,"===c?console.error("Error while capturing image."):(s.remove(),this.dialog.open(q,{data:c}).afterClosed().subscribe(function(e){e&&(t.saveImage(e),t.sidenavContent="image",t.sidenav.open())}))}},e.prototype.sendGuidelineRequest=function(){var t='{ "type": "Control","subType": "DisplayImageBanner","message": "'+this.guidelineUrl+'"  }';this.openBanner=!1,this.sendMessage(t)},e.prototype.updateIpAddress=function(t){var e=this;setTimeout(function(){e.meetingData.ipAddress=t.ip,e.meetingData.geolocation={ipAddress:t.ip,longitude:t.longitude,latitude:t.latitude,isp:t},e.cdr.detectChanges()},5e3)},e.prototype.openSnackBar=function(t){this.snackBar.open(t,"endDismiss",{duration:3e3,horizontalPosition:"start",verticalPosition:"top"})},e.prototype.openFacialRecognition=function(){this.selectedImage&&this.selectedImage.verification&&this.dialog.open(m,{data:this.selectedImage.verification})},e.prototype.verifyImage=function(){var t=this;this.faceVerficationSpinner=!0,this.faceVerified=!1;var e=this.base64toBlob(this.selectedImage.image,"image/png");this.apiClient.facialRecognitionAPI(this.cif,e,this.facialLandmarks).subscribe(function(e){e.data&&(t.selectedImage.verification={similarityScore:e.data.similarity_score,isSimilar:e.data.similar,landmarkedImage:null!==e.data.landmark_image?"data:image/png;base64,"+e.data.landmark_image:null,originalImage:null!==e.data.original_image?"data:image/png;base64,"+e.data.original_image:null},t.updateImage(null),t.openFacialRecognition(),t.faceVerficationSpinner=!1)},function(e){t.faceVerficationSpinner=!1,alert(e)})},e.prototype.updateImage=function(t){if("CIF"==this.imageVerificationType){var e={id:this.selectedImage.id,type:this.selectedImage.type,metadata:JSON.stringify(this.selectedImage.verification)};this.cpaturedImageService.updateCapturedImageTypeUsingPUT(e).subscribe(function(t){})}else this.imageVerificationService.saveVerifiedImagesUsingPOST(this.selectedImage.id,t,this.selectedImage.verification.isSimilar,this.base64toBlob(this.selectedImage.verification.landmarkedImage,"image/png"),this.base64toBlob(this.selectedImage.verification.originalImage,"image/png"),this.selectedImage.verification.similarityScore,this.imageVerificationType).subscribe(function(t){})},e.prototype.saveImage=function(t){var e=this;this.spinner.show();var i=Number.parseInt(this.capturedDocumentType.id);this.cpaturedImageService.saveCapturedImageUsingPOST(i,"",this.meetingData.schedule.id,this.base64toBlob(t,"image/png")).subscribe(function(i){console.log(i);var n={id:JSON.parse(i.data).capturedImageId,image:t,type:e.capturedDocumentType.id};e.savedImages.push(n),e.selectedImage=n,e.spinner.hide()},function(t){e.spinner.hide(),alert(JSON.stringify(t))})},e.prototype.selectImage=function(t){this.selectedImage=t},e.prototype.deleteImage=function(){var t=this;confirm("Are you sure you want to delete this image?")&&(this.savedImages=this.savedImages.filter(function(e){return e!==t.selectedImage}),this.cpaturedImageService.deleteCapturedImageByIdUsingDELETE(this.selectedImage.id).subscribe(function(t){alert("deleted successfully")},function(t){console.log(t)}),this.selectedImage=null)},e.prototype.base64toBlob=function(t,e){for(var i=atob(t.split(",")[1]),n=new ArrayBuffer(i.length),a=new Uint8Array(n),o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return new Blob([n],{type:e})},e.prototype.ngOnDestroy=function(){if(this.dialog.closeAll(),this.spinner.hide(),this.agentOnline=!1,this.stopRecording(this.meetingData.schedule.roomId),this.destruct(),!this.meetingEnded&&this.customerOnline){var t=this.authService.getUserInformation();this.updateMeetingData(t,9),this.updateSchedule(t),this.updateCapturedData(t),this.saveChatData()}this.toggleMic(!0),this.toggleCamera(!0)},e.prototype.initVC=function(){var t=this,e=this;switch(this.state){case"READY":var i=new this.VCLib.VidyoClient("",function(){t.setVC(i),e.initVidyoConnector()})}},e.prototype.initVidyoConnector=function(){this.connectionStatus="Connecting","READY"==this.state?this.vcStatus="Ready to Connect":(this.vcStatus="Connection problem detected",this.connectionStatus="Error in Connecting");var t=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<500?3:8,e=this;this.getVC().CreateVidyoConnector({viewId:"video-call-start",viewStyle:"VIDYO_CONNECTORVIEWSTYLE_Default",remoteParticipants:t,logFileFilter:"debug@VidyoClient debug@VidyoSDP debug@VidyoResourceManager all@VidyoSignaling",logFileName:"",userData:0,constraints:{disableGoogleAnalytics:!0}}).then(function(t){t.GetVersion().then(function(t){return e.vcVersion=t},function(){return e.vcVersion="GetVersion failed"}),console.log("CONNECTED...."),e.vidyoConnector=t,e.parseUrlParameters(e.roomKey,e.roomPin),e.registerDeviceListeners(),e.handleParticipantChange(),e.handleReconnect(),e.handleSharing(),e.handleChat(),e.configParams&&"true"===e.configParams.disableAudioLevelMonitor&&e.vidyoConnector.SetAdvancedConfiguration({disableAudioEnergyMonitor:!0}),e.configParams&&e.configParams.dynamicAudioSources&&e.vidyoConnector.SetAdvancedConfiguration({dynamicAudioSources:e.configParams.dynamicAudioSources}),e.configParams&&"1"===e.configParams.enableDebug&&e.vidyoConnector.EnableDebug({port:7776,logFilter:"debug sent@VidyoClient enter@VidyoClient all@VidyoSignaling"}).then(function(){console.log("EnableDebug success")}).catch(function(){console.error("EnableDebug failed")}),e.configParams&&e.joinLeave(),e.configParams&&e.configParams.enableAutoReconnect&&e.vidyoConnector.SetAdvancedConfiguration({enableAutoReconnect:e.configParams.enableAutoReconnect}),e.configParams&&e.configParams.maxReconnectAttempts&&e.vidyoConnector.SetAdvancedConfiguration({maxReconnectAttempts:e.configParams.maxReconnectAttempts}),e.configParams&&e.configParams.reconnectBackoff&&e.vidyoConnector.SetAdvancedConfiguration({reconnectBackoff:e.configParams.reconnectBackoff}),e.configParams&&"false"===e.configParams.enableAudioOnlyMode&&e.vidyoConnector.SetAdvancedConfiguration({enableAudioOnlyMode:!1})}).catch(function(t){console.error("CreateVidyoConnector Failed "+t)})},e.prototype.onChatKeyDown=function(t){var e=this;13==t.keyCode&&setTimeout(function(){e.chatMessage&&""!==e.chatMessage&&null!=e.chatMessage&&null!=e.chatMessage&&(e.sendMessage(e.chatMessage),e.chatMessage="")},0)},e.prototype.clearMessage=function(){this.chatMessage=""},e.prototype.getVerificationImages=function(t){this.attachments=t.attachments,console.log(this.attachments)},e.prototype.completeCtrlO=function(){var t=this.externalForm.metadata,e=document.createElement("form");e.method="POST",e.action="https://www.laxmibank.com/mikha/",e.target="_blank";var i=document.createElement("input"),n=document.createElement("input"),a=document.createElement("input"),o=document.createElement("input"),r=document.createElement("input");i.type="hidden",n.type="hidden",a.type="hidden",o.type="hidden",r.type="hidden",i.name="id",i.value=t.customer_identifier,n.name="token",n.value=t.token,a.name="user",a.value=this.agentEmail,o.name="vkyc_link",o.value="https://mikha.laxmibank.com/call-history/view-single/"+this.meetingData.schedule.id,r.name="action",r.value="complete",e.appendChild(i),e.appendChild(n),e.appendChild(a),e.appendChild(o),e.appendChild(r),document.body.append(e),e.submit(),document.body.removeChild(e)},e.prototype.validateImage=function(){var t=this;this.faceVerficationSpinner=!0,console.log(this.selectedImage.image);var e=this.base64toBlob(this.selectedImage.image,"image/png"),i=this.verificationImage.split(":::");this.apiClient.facialRecognitionURLAPI(e,i[0],!0).subscribe(function(e){e.body.data&&(t.selectedImage.verification={similarityScore:e.body.data.similarity_score,isSimilar:e.body.data.similar,landmarkedImage:null!==e.body.data.landmark_image?"data:image/png;base64,"+e.body.data.landmark_image:null,originalImage:null!==e.body.data.original_image?"data:image/png;base64,"+e.body.data.original_image:null},t.updateImage(i[1]),t.openFacialRecognition(),t.faceVerficationSpinner=!1,t.verificationImage=null)},function(e){t.faceVerficationSpinner=!1,t.verificationImage=null,console.log(e),alert(e.error.detail)})},e.prototype.saveAsDraft=function(){var t=this.authService.getUserInformation();this.updateCapturedData(t)},e.\u0275fac=function(t){return new(t||e)(c.Y36(c.sBO),c.Y36(d.gz),c.Y36(Ie.e),c.Y36(y.Ye),c.Y36(p.uw),c.Y36(De.Sl),c.Y36(Re.ux),c.Y36(we),c.Y36(J.t4),c.Y36(Ee.G),c.Y36(Oe.Q),c.Y36(qe.f),c.Y36(Le.d),c.Y36(F),c.Y36(Ue.u),c.Y36(He),c.Y36(ze.M),c.Y36(Fe.t2),c.Y36(Be.fz),c.Y36(x.H7),c.Y36(Ne.h),c.Y36(Qe.Q),c.Y36(L.eN),c.Y36(y.K0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-agent-join"]],viewQuery:function(t,e){if(1&t&&(c.Gf(Qi,5),c.Gf(Ji,5),c.Gf(Yi,5)),2&t){var i=void 0;c.iGM(i=c.CRH())&&(e.sidenav=i.first),c.iGM(i=c.CRH())&&(e.sidenavForm=i.first),c.iGM(i=c.CRH())&&(e.videoSection=i.first)}},inputs:{customerOnline:"customerOnline",participantsList:"participantsList",videoRecording:"videoRecording",participantsListWithRecorder:"participantsListWithRecorder"},features:[c.qOj],decls:78,vars:29,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","timer",3,"fullScreen"],[2,"color","white"],["class","video-header",4,"ngIf"],[3,"hasBackdrop"],[1,"sidenav",3,"mode"],["sidenav",""],[1,"inner-container",2,"height","100%"],[1,"close-button"],["mat-mini-fab","","color","warn",3,"click"],[2,"display","flex","flex-direction","column","height","100%"],[2,"flex","1"],[4,"ngIf"],["style","margin-top: 10px",4,"ngIf"],["mat-raised-button","","color","warn",2,"width","100%","height","80px",3,"click"],["position","end",1,"sidenavForm",3,"mode"],["sidenav2",""],["mat-mini-fab","","style","margin-right: 5px",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",2,"margin-right","0",3,"click"],["id","tab-group",3,"selectedIndexChange"],["label","Data Capture"],["label","External Form"],["id","externalIframe","name","externalIframe","style","width: 100%; height: 100%; border: none",3,"src",4,"ngIf"],[1,"container"],[1,"box-wrapper","chat-main-container"],[1,"chat"],[1,"video-chat-box",2,"display","none"],[1,"start-video-chat"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"matMenuTriggerFor"],["cameraSwitch","matMenu"],["mat-menu-item","",3,"value","click",4,"ngFor","ngForOf"],["micSwitch","matMenu"],["speakerSwitch","matMenu"],["mat-menu-item","",3,"click"],["routerLink","/","target","_blank"],["src","../../../assets/images/video-watermark.png",1,"video-watermark"],[1,"video-chat-box"],["class","video-connection-status",4,"ngIf"],["id","video-call-start",1,"video-section"],["videoSection",""],[1,"video-chat-controls"],["mat-fab","","class","video-control-button-white","style","background-color: white",3,"click",4,"ngIf"],["mat-fab","",1,"video-control-button",3,"color","click"],[1,"video-header"],[1,"video-toolbar-item"],["mat-raised-button","",3,"click"],[1,"small-hide",2,"margin-left","5px"],["class","video-toolbar-item",4,"ngIf"],[2,"margin-right","5px"],["mat-raised-button","","matBadgePosition","after","matBadgeColor","accent",3,"matBadge","click"],["mat-raised-button","",3,"matMenuTriggerFor"],[1,"form-group"],[2,"padding-bottom","10px"],[2,"padding-top","10px"],["appearance","outline",1,"full-width"],["rows","5","matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange","keydown.enter"],["commentsInput","matInput"],["mat-raised-button","",2,"width","100%",3,"disabled","click"],[1,"mat-elevation-z4"],["style","padding-top: 10px",4,"ngFor","ngForOf"],["class","participants",4,"ngFor","ngForOf"],[1,"participants"],[2,"padding","20px","margin","5px"],[2,"font-size","18px"],["align","right"],["mat-mini-fab","","disabled","",2,"background-color","white"],[1,"row"],[1,"col-md-12","form-group"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",2,"width","100%",3,"disabled","click"],[2,"text-align","center","position","relative"],["class","renlian",4,"ngIf"],[1,"image-capture-preview"],["class","image-verification-icon",3,"ngStyle","click",4,"ngIf"],["style","height: 147px; width: 257px",3,"src",4,"ngIf"],["src","../../../assets/images/user-placeholder.png","style","height: 180px",4,"ngIf"],["mat-stroked-button","","color","warn",2,"width","100%",3,"disabled","click"],["class","row",4,"ngIf"],[3,"value"],[1,"renlian"],[1,"box"],[1,"line"],[1,"bottom"],[1,"image-verification-icon",3,"ngStyle","click"],[2,"height","147px","width","257px",3,"src"],["src","../../../assets/images/user-placeholder.png",2,"height","180px"],["hideToggle",""],["appearance","outline","class","full-width",4,"ngIf"],["id","verificationURL",3,"ngModel","ngModelChange"],[3,"value",4,"ngIf"],["target","_blank",3,"href"],["width","20","height","15",3,"src"],["name","cif","matInput","","placeholder","CIF",3,"ngModel","disabled","ngModelChange"],[2,"text-align","left"],["color","primary",3,"ngModel","disabled","ngModelChange"],[1,"col-md-12"],["class","col-md-4 form-group",4,"ngFor","ngForOf"],[1,"col-md-4","form-group"],[1,"image-button",2,"width","100%",3,"src","click"],["id","messageBox",1,"messages",3,"scrollTop"],["scrollMe",""],[4,"ngFor","ngForOf"],[1,"card-header-to"],[1,"msg-user",2,"color","black"],[2,"font-size","15px","margin-top","4px","margin-bottom","5px"],[1,"card-header-from"],[1,"msg-user"],[2,"margin-top","10px"],[2,"display","flex"],["type","text","matInput","","placeholder","Message","id","message","name","message",3,"ngModel","keydown","ngModelChange"],["type","submit","mat-mini-fab","",2,"margin-left","15px",3,"click"],["mat-mini-fab","",2,"margin-right","5px",3,"click"],[1,"inner-container"],[2,"display","flex","align-items","baseline","justify-content","space-between"],["mat-button","","color","primary",3,"click"],["matInput","",3,"name","ngModel","placeholder","ngModelChange"],["id","externalIframe","name","externalIframe",2,"width","100%","height","100%","border","none",3,"src"],["mat-menu-item","",3,"value","click"],[1,"video-connection-status"],["mat-fab","",1,"video-control-button-white",2,"background-color","white",3,"click"]],template:function(t,e){if(1&t&&(c.TgZ(0,"ngx-spinner",0),c.TgZ(1,"p",1),c._uU(2),c.qZA(),c.qZA(),c.YNc(3,Gi,36,6,"header",2),c.TgZ(4,"mat-drawer-container",3),c.TgZ(5,"mat-drawer",4,5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"button",8),c.NdJ("click",function(){return e.toggleSideNav()}),c.TgZ(10,"mat-icon"),c._uU(11,"close"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",9),c.TgZ(13,"div",10),c.YNc(14,$i,21,5,"ng-container",11),c.YNc(15,en,6,2,"ng-container",11),c.YNc(16,an,4,1,"ng-container",11),c.YNc(17,wn,30,11,"ng-container",11),c.YNc(18,An,6,2,"ng-container",11),c.qZA(),c.TgZ(19,"div"),c.YNc(20,Tn,8,1,"mat-card-content",12),c.TgZ(21,"button",13),c.NdJ("click",function(){return e.endMeeting()}),c._uU(22," End Meeting "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"mat-drawer-content"),c.TgZ(24,"mat-drawer-container"),c.TgZ(25,"mat-drawer",14,15),c.TgZ(27,"div",7),c.YNc(28,Pn,3,0,"button",16),c.TgZ(29,"button",17),c.NdJ("click",function(){return e.toggleSideNavForm()}),c.TgZ(30,"mat-icon"),c._uU(31,"close"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"mat-tab-group",18),c.NdJ("selectedIndexChange",function(t){return e.tabChange(t)}),c.TgZ(33,"mat-tab",19),c.YNc(34,In,8,2,"ng-container",11),c.qZA(),c.TgZ(35,"mat-tab",20),c.YNc(36,Dn,1,1,"iframe",21),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"mat-drawer-content"),c.TgZ(38,"div",22),c.TgZ(39,"div",23),c.TgZ(40,"div",24),c.TgZ(41,"div",25),c._UZ(42,"div",26),c.qZA(),c.TgZ(43,"mat-menu",null,27),c.TgZ(45,"button",28),c.NdJ("click",function(){return e.onShare()}),c._uU(46," Share Screen "),c.qZA(),c.TgZ(47,"button",28),c.NdJ("click",function(){return e.openParticipants()}),c._uU(48," Show Participants "),c.qZA(),c.TgZ(49,"button",29),c._uU(50," Switch Camera "),c.qZA(),c.TgZ(51,"mat-menu",null,30),c.YNc(53,Rn,2,2,"button",31),c.qZA(),c.TgZ(54,"button",29),c._uU(55," Switch Microphone "),c.qZA(),c.TgZ(56,"mat-menu",null,32),c.YNc(58,En,2,2,"button",31),c.qZA(),c.TgZ(59,"button",29),c._uU(60," Switch Speaker "),c.qZA(),c.TgZ(61,"mat-menu",null,33),c.YNc(63,On,2,2,"button",31),c.qZA(),c.TgZ(64,"button",34),c.NdJ("click",function(){return e.hideStatus=!e.hideStatus}),c._uU(65),c.qZA(),c.qZA(),c.TgZ(66,"a",35),c._UZ(67,"img",36),c.qZA(),c.TgZ(68,"div",37),c.YNc(69,qn,17,4,"div",38),c._UZ(70,"div",39,40),c.TgZ(72,"div",41),c.YNc(73,Ln,3,1,"button",42),c.YNc(74,Un,3,1,"button",42),c.TgZ(75,"button",43),c.NdJ("click",function(){return e.joinLeave()}),c.TgZ(76,"mat-icon"),c._uU(77),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var i=c.MAs(52),n=c.MAs(57),a=c.MAs(62);c.Q6J("fullScreen",!0),c.xp6(2),c.Oqu(e.loadingStatus),c.xp6(1),c.Q6J("ngIf",e.meetingData),c.xp6(1),c.Q6J("hasBackdrop",!1),c.xp6(1),c.Q6J("mode",e.sidenavMode),c.xp6(9),c.Q6J("ngIf",e.meetingData&&"meetingSummary"===e.sidenavContent),c.xp6(1),c.Q6J("ngIf",e.checklist&&"checklist"===e.sidenavContent),c.xp6(1),c.Q6J("ngIf",e.participantsList&&"participants"===e.sidenavContent),c.xp6(1),c.Q6J("ngIf",e.facialVerification&&"image"===e.sidenavContent),c.xp6(1),c.Q6J("ngIf",e.participants&&"chat"===e.sidenavContent),c.xp6(2),c.Q6J("ngIf",e.participants&&"chat"===e.sidenavContent),c.xp6(5),c.Q6J("mode",e.sidenavFormMode),c.xp6(3),c.Q6J("ngIf",e.externalFormShow),c.xp6(6),c.Q6J("ngIf",e.form),c.xp6(2),c.Q6J("ngIf",e.safeExternalSrc),c.xp6(9),c.Q6J("disabled",!e.connected||e.isSharingWindow),c.xp6(2),c.Q6J("disabled",!e.connected),c.xp6(2),c.Q6J("matMenuTriggerFor",i),c.xp6(4),c.Q6J("ngForOf",e.videoDevices),c.xp6(1),c.Q6J("matMenuTriggerFor",n),c.xp6(4),c.Q6J("ngForOf",e.micDevices),c.xp6(1),c.Q6J("matMenuTriggerFor",a),c.xp6(4),c.Q6J("ngForOf",e.speakerDevices),c.xp6(2),c.hij(" ",e.hideStatus?"Show Status":"Hide Status"," "),c.xp6(4),c.Q6J("ngIf",!e.hideStatus),c.xp6(4),c.Q6J("ngIf",e.cameraReady),c.xp6(1),c.Q6J("ngIf",e.micReady),c.xp6(1),c.Q6J("color",e.connected?"warn":"primary"),c.xp6(2),c.Oqu(e.connected?"call_end":"call")}},directives:[Fe.Ro,y.O5,Je.kh,Je.jA,g.lW,v.Hw,Je.LW,Di,Ci,zi.VK,zi.OP,zi.p6,y.sg,d.yS,Fi.k,Bi.a8,a.d,te.KE,te.hX,ee.Nt,r.Fj,r.JJ,r.On,Bi.dn,Bi.rt,o.gD,le.ey,y.PC,n.pp,n.ib,n.yz,n.yK,Ni.Rr],styles:['.container[_ngcontent-%COMP%]{height:100%;width:100%;max-width:100%;position:relative;z-index:1;display:flex;padding:0;align-items:center;justify-content:center;margin:0 auto}.close-button[_ngcontent-%COMP%]{transform:scale(.7)}#tab-group[_ngcontent-%COMP%]{height:100%}#tab-group[_ngcontent-%COMP%]   mat-tab-body[_ngcontent-%COMP%]{flex-grow:1}.box-wrapper[_ngcontent-%COMP%]{background:#fff;margin-top:-5px}.chat-main-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:stretch}.chat-main-container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{flex-grow:1;background:#f4f4f4}.video-header[_ngcontent-%COMP%]{background:#000;height:70px;color:#fff;padding:22px;box-sizing:border-box;display:flex;justify-content:center;margin-top:-60px}.chat-main-container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.78em;font-weight:400;opacity:.8}.video-chat-box[_ngcontent-%COMP%]{height:calc(100vh - 70px);overflow:hidden;background:#eaeaea;justify-content:center;align-items:center;position:relative;background-color:#000}.video-chat-box[_ngcontent-%COMP%], .video-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-section[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.video-watermark[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;z-index:1;width:100px;filter:drop-shadow(1px 1px 0 black)}.video-toolbar-item[_ngcontent-%COMP%]{margin-right:10px;margin-top:-4px}.video-toolbar-item[_ngcontent-%COMP%]:last-child{margin-right:0}.selfview[_ngcontent-%COMP%]{top:0!important;width:100%!important;height:100%!important}.dropdown-user-info[_ngcontent-%COMP%]{margin-bottom:10px}@media (orientation:portrait){.video-watermark[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;z-index:1;width:70px}}@media (orientation:landscape) and (max-width:767px){.video-watermark[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;z-index:1;width:70px}}.btn-label[_ngcontent-%COMP%]{position:relative;left:-12px;display:inline-block;padding:6px 12px;background:#00000026;border-radius:3px 0 0 3px}.btn-labeled[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.btn[_ngcontent-%COMP%]{margin-bottom:10px}.vidyo-rendering-container[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .video-display-name-wrapper[_ngcontent-%COMP%]   .video-display-name[_ngcontent-%COMP%]{font-size:12px!important}.video-connection-status[_ngcontent-%COMP%]{position:absolute;z-index:1;top:15px;right:15px;color:#fff;text-shadow:2px 2px #000}.video-control-button[_ngcontent-%COMP%]{margin-right:10px}.video-control-button-white[_ngcontent-%COMP%]{margin-right:10px;background-color:#fff}.video-control-button-white[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#000}.sidenav-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.sidenav[_ngcontent-%COMP%]{width:300px}.sidenav[_ngcontent-%COMP%], .sidenavForm[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sidenavForm[_ngcontent-%COMP%]{width:40%}.video-settings[_ngcontent-%COMP%]{position:absolute;top:85px;right:15px;z-index:1000;color:#000;background-color:#fff}.image-verification-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}.image-capture-preview[_ngcontent-%COMP%]{background-color:#eee;border:1px solid #d4d4d4}  .mat-bottom-sheet-container-large{opacity:.85!important}.renlian[_ngcontent-%COMP%]{position:absolute;height:200px;width:280px;z-index:1000;margin-left:-10px;margin-top:-10px}.renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;height:200px;max-height:200px;max-width:100%;position:relative;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden;border:.1rem solid #03a9f433}.renlian[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:calc(100% - 2px);width:100%;background:linear-gradient(180deg,#0f30 43%,#03a9f4 211%);border-bottom:2px solid #03a9f4;transform:translateY(-100%);animation:radar-beam 2s infinite;animation-timing-function:cubic-bezier(.3,0,.43,.7);animation-delay:1.4s}.renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after, .renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before, .renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:3vw;height:3vw;border:.2rem solid #0000}.renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{top:0;border-top-color:#03a9f4}.renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after, .renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before{bottom:0;border-bottom-color:#03a9f4}.renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:before, .renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{left:0;border-left-color:#03a9f4}.renlian[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:after, .renlian[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after{right:0;border-right-color:#03a9f4}@keyframes radar-beam{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.card-header-from[_ngcontent-%COMP%]{background:#35a3f2;color:#fff;margin:10px 10px 10px 50px;border-radius:10px;display:flex;justify-content:space-between}.msg-user[_ngcontent-%COMP%]{font-size:12px;color:#dfdfdf;position:absolute;top:5px;right:5px;font-weight:100}.msg-time[_ngcontent-%COMP%]{position:absolute;bottom:0;left:2px;font-size:10px}.card-header-to[_ngcontent-%COMP%]{background:#c4c6c6;color:#000;margin:10px 50px 10px 10px;border-radius:10px;display:flex;justify-content:space-between}.messages[_ngcontent-%COMP%]{overflow:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;background:grey;box-shadow:inset 0 0 4px #707070}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff;border-radius:10px}.participants[_ngcontent-%COMP%]{display:flex;flex-direction:column}.participant[_ngcontent-%COMP%]{padding:30px;margin:5px;font-size:18px}']}),e}(Pe.X),canActivate:[h.a]}],zn=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[],imports:[[d.Bz.forChild(Hn)],d.Bz]}),t}(),Fn=i(994),Bn=i(8683),Nn=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[y.ez,r.u5,zn,s.m,v.Ps,g.ot,ye,ee.c,te.lN,Je.SJ,Fn.p9,p.Is,$t,O,f.vV,zi.Tx,Re.ZX,o.LD,Ni.rP,a.t,n.To,Hi,Bi.QW,Bn.VideoSectionModule,Fi.g]]}),t}()}}]);