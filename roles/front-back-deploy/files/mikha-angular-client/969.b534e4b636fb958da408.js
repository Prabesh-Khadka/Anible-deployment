(self.webpackChunkmikha_angular_client=self.webpackChunkmikha_angular_client||[]).push([[969],{9845:function(t,e,n){"use strict";n.d(e,{v:function(){return d}});var i=n(2693),o=n(6129),a=n(8320),r=n(5162),s=n(1785),d=function(){function t(t,e,n){this.httpClient=t,this.basePath=a.Lt,this.defaultHeaders=new i.WM,this.configuration=new r.V,n&&(this.configuration=n),"string"!=typeof this.configuration.basePath&&("string"!=typeof e&&(e=this.basePath),this.configuration.basePath=e),this.encoder=this.configuration.encoder||new o.H}return t.prototype.addToHttpParams=function(t,e,n){return"object"==typeof e&&e instanceof Date==0?this.addToHttpParamsRecursive(t,e):this.addToHttpParamsRecursive(t,e,n)},t.prototype.addToHttpParamsRecursive=function(t,e,n){var i=this;if(null==e)return t;if("object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return t=i.addToHttpParamsRecursive(t,e,n)});else if(e instanceof Date){if(null==n)throw Error("key may not be null if value is Date");t=t.append(n,e.toISOString().substr(0,10))}else Object.keys(e).forEach(function(o){return t=i.addToHttpParamsRecursive(t,e[o],null!=n?n+"."+o:o)});else{if(null==n)throw Error("key may not be null if value is not object or array");t=t.append(n,e)}return t},t.prototype.filterCustomersUsingPOST=function(t,e,n,i){if(void 0===e&&(e="body"),void 0===n&&(n=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling filterCustomersUsingPOST.");var o,a=this.defaultHeaders;(o=this.configuration.lookupCredential("JWT"))&&(a=a.set("Authorization",o));var r=i&&i.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(a=a.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(a=a.set("Content-Type",s));var d="json";return r&&r.startsWith("text")&&(d="text"),this.httpClient.post(this.configuration.basePath+"/customer/filter",t,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:e,reportProgress:n})},t.prototype.findAllCustomersUsingGET=function(t,e,n,o,a,r){var s=this;void 0===o&&(o="body"),void 0===a&&(a=!1);var d=new i.LE({encoder:this.encoder});null!=t&&(d=this.addToHttpParams(d,t,"page")),null!=e&&(d=this.addToHttpParams(d,e,"size")),n&&n.forEach(function(t){d=s.addToHttpParams(d,t,"sort")});var u,c=this.defaultHeaders;(u=this.configuration.lookupCredential("JWT"))&&(c=c.set("Authorization",u));var p=r&&r.httpHeaderAccept;void 0===p&&(p=this.configuration.selectHeaderAccept(["*/*"])),void 0!==p&&(c=c.set("Accept",p));var h="json";return p&&p.startsWith("text")&&(h="text"),this.httpClient.get(this.configuration.basePath+"/customer/get-all",{params:d,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:o,reportProgress:a})},t.prototype.findCustomerByIdUsingGET=function(t,e,n,i){if(void 0===e&&(e="body"),void 0===n&&(n=!1),null==t)throw new Error("Required parameter id was null or undefined when calling findCustomerByIdUsingGET.");var o,a=this.defaultHeaders;(o=this.configuration.lookupCredential("JWT"))&&(a=a.set("Authorization",o));var r=i&&i.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(a=a.set("Accept",r));var s="json";return r&&r.startsWith("text")&&(s="text"),this.httpClient.get(this.configuration.basePath+"/customer/get/"+encodeURIComponent(String(t)),{responseType:s,withCredentials:this.configuration.withCredentials,headers:a,observe:e,reportProgress:n})},t.prototype.findCustomerByRoomIdUsingGET=function(t,e,n){if(void 0===e&&(e="body"),void 0===n&&(n=!1),null==t)throw new Error("Required parameter roomId was null or undefined when calling findCustomerByRoomIdUsingGET.");var i=this.defaultHeaders;this.configuration.apiKeys&&this.configuration.apiKeys.Authorization&&(i=i.set("Authorization",this.configuration.apiKeys.Authorization));var o=this.configuration.selectHeaderAccept(["*/*"]);return null!=o&&(i=i.set("Accept",o)),this.httpClient.get(this.basePath+"/customer/get-by-room/"+encodeURIComponent(String(t)),{withCredentials:this.configuration.withCredentials,headers:i,observe:e,reportProgress:n})},t.prototype.saveCustomerUsingPOST=function(t,e,n,i){if(void 0===e&&(e="body"),void 0===n&&(n=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling saveCustomerUsingPOST.");var o,a=this.defaultHeaders;(o=this.configuration.lookupCredential("JWT"))&&(a=a.set("Authorization",o));var r=i&&i.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(a=a.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(a=a.set("Content-Type",s));var d="json";return r&&r.startsWith("text")&&(d="text"),this.httpClient.post(this.configuration.basePath+"/customer",t,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:e,reportProgress:n})},t.prototype.updateCustomerUsingPUT=function(t,e,n,i){if(void 0===e&&(e="body"),void 0===n&&(n=!1),null==t)throw new Error("Required parameter dto was null or undefined when calling updateCustomerUsingPUT.");var o,a=this.defaultHeaders;(o=this.configuration.lookupCredential("JWT"))&&(a=a.set("Authorization",o));var r=i&&i.httpHeaderAccept;void 0===r&&(r=this.configuration.selectHeaderAccept(["*/*"])),void 0!==r&&(a=a.set("Accept",r));var s=this.configuration.selectHeaderContentType(["application/json"]);void 0!==s&&(a=a.set("Content-Type",s));var d="json";return r&&r.startsWith("text")&&(d="text"),this.httpClient.put(this.configuration.basePath+"/customer",t,{responseType:d,withCredentials:this.configuration.withCredentials,headers:a,observe:e,reportProgress:n})},t.\u0275fac=function(e){return new(e||t)(s.LFG(i.eN),s.LFG(a.GW,8),s.LFG(r.V,8))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},8981:function(t,e,n){"use strict";n.r(e),n.d(e,{AddressBookModule:function(){return k}});var i=n(1116),o=n(1041),a=n(4369),r=n(994),s=n(2935),d=n(3070),u=n(7307),c=n(9550),p=n(8150),h=n(168),l=n(5425),g=n(3576),f=n(529),m=n(1785),Z=n(9845),v=n(1269),T=function(){function t(t,e,n,i){this.dialogRef=t,this.data=e,this.customerService=n,this.spinner=i}return t.prototype.ngOnInit=function(){this.data||(this.data={})},t.prototype.onOk=function(){var t=this;this.data.name&&this.data.email?(this.spinner.show(),this.data.id&&this.customerService.updateCustomerUsingPUT({id:this.data.id,title:"",address:this.data.address,name:this.data.name,email:this.data.email,phone:this.data.phone,accountNumber:this.data.accountNumber}).subscribe(function(e){t.spinner.hide(),t.dialogRef.close(t.data)},function(e){t.spinner.hide(),alert("Error: "+e)})):alert("Invalid Data")},t.\u0275fac=function(e){return new(e||t)(m.Y36(s.so),m.Y36(s.WI),m.Y36(Z.v),m.Y36(v.t2))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-address-book-upsert"]],decls:28,vars:5,consts:[["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline",1,"full-width"],["name","name","matInput","",3,"ngModel","ngModelChange"],["name","email","matInput","",3,"ngModel","ngModelChange"],["name","phone","matInput","",3,"ngModel","ngModelChange"],["name","address","matInput","",3,"ngModel","ngModelChange"],["name","accountNumber","matInput","",3,"ngModel","ngModelChange"],["align","end"],["mat-button","","cdkFocusInitial","","color","primary",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(m.TgZ(0,"h2",0),m._uU(1,"Customer"),m.qZA(),m.TgZ(2,"mat-dialog-content",1),m.TgZ(3,"mat-form-field",2),m.TgZ(4,"mat-label"),m._uU(5,"Name"),m.qZA(),m.TgZ(6,"input",3),m.NdJ("ngModelChange",function(t){return e.data.name=t}),m.qZA(),m.qZA(),m.TgZ(7,"mat-form-field",2),m.TgZ(8,"mat-label"),m._uU(9,"Email"),m.qZA(),m.TgZ(10,"input",4),m.NdJ("ngModelChange",function(t){return e.data.email=t}),m.qZA(),m.qZA(),m.TgZ(11,"mat-form-field",2),m.TgZ(12,"mat-label"),m._uU(13,"Phone"),m.qZA(),m.TgZ(14,"input",5),m.NdJ("ngModelChange",function(t){return e.data.phone=t}),m.qZA(),m.qZA(),m.TgZ(15,"mat-form-field",2),m.TgZ(16,"mat-label"),m._uU(17,"Address"),m.qZA(),m.TgZ(18,"input",6),m.NdJ("ngModelChange",function(t){return e.data.address=t}),m.qZA(),m.qZA(),m.TgZ(19,"mat-form-field",2),m.TgZ(20,"mat-label"),m._uU(21,"Account Number"),m.qZA(),m.TgZ(22,"input",7),m.NdJ("ngModelChange",function(t){return e.data.accountNumber=t}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"mat-dialog-actions",8),m.TgZ(24,"button",9),m.NdJ("click",function(){return e.onOk()}),m._uU(25," Save "),m.qZA(),m.TgZ(26,"button",10),m._uU(27,"Close"),m.qZA(),m.qZA()),2&t&&(m.xp6(6),m.Q6J("ngModel",e.data.name),m.xp6(4),m.Q6J("ngModel",e.data.email),m.xp6(4),m.Q6J("ngModel",e.data.phone),m.xp6(4),m.Q6J("ngModel",e.data.address),m.xp6(4),m.Q6J("ngModel",e.data.accountNumber))},directives:[s.uh,s.xY,d.KE,d.hX,c.Nt,o.Fj,o.JJ,o.On,s.H8,a.lW,s.ZT],styles:[""]}),t}(),A=n(8512),b=n(2616),w=["sidenav"];function q(t,e){if(1&t){var n=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td"),m._uU(6),m.qZA(),m.TgZ(7,"td"),m._uU(8),m.qZA(),m.TgZ(9,"td"),m._uU(10),m.qZA(),m.TgZ(11,"td"),m._uU(12),m.qZA(),m.TgZ(13,"td"),m.TgZ(14,"button",18),m.NdJ("click",function(){var t=m.CHM(n).$implicit;return m.oxw().upsert(t)}),m.TgZ(15,"mat-icon"),m._uU(16,"edit"),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&t){var i=e.$implicit;m.xp6(2),m.Oqu(i.id),m.xp6(2),m.Oqu(i.name),m.xp6(2),m.Oqu(i.email),m.xp6(2),m.Oqu(i.phone),m.xp6(2),m.Oqu(i.address),m.xp6(2),m.Oqu(i.accountNumber)}}function C(t,e){if(1&t){var n=m.EpF();m.TgZ(0,"mat-paginator",19),m.NdJ("page",function(t){m.CHM(n);var e=m.oxw();return e.pageEvent=e.getData(t)}),m.qZA()}if(2&t){var i=m.oxw();m.Q6J("length",i.length)("pageSize",i.pageSize)("pageSizeOptions",i.pageSizeOptions)}}var y=function(){function t(t,e,n){this.customerService=t,this.spinner=e,this.dialog=n,this.data=[],this.length=0,this.pageSize=f.N.pageSize,this.pageSizeOptions=f.N.pageSizeOptions,this.showPagination=!0,this.screenWidth$=new A.X(window.innerWidth)}return t.prototype.onResize=function(t){this.screenWidth$.next(t.target.innerWidth)},t.prototype.getScreenWidth=function(){return this.screenWidth$.asObservable()},t.prototype.ngOnInit=function(){var t=this;this.getScreenWidth().subscribe(function(e){e<1200?(t.showToggle="show",t.mode="over",t.openSidenav=!1):e>1200&&(t.showToggle="hide",t.mode="side",t.openSidenav=!0)}),this.getData({length:0,pageSize:this.pageSize,pageIndex:0})},t.prototype.getData=function(t){var e=this;return this.spinner.show(),this.data=[],this.showPagination=!0,this.customerService.findAllCustomersUsingGET(t.pageIndex+1,t.pageSize,["name,asc"]).subscribe(function(t){e.data=t.content,e.length=t.totalElements,e.pageSize=t.size,e.spinner.hide()},function(t){e.spinner.hide(),alert("Error: "+t)}),t},t.prototype.upsert=function(t){var e=this;t?(this.spinner.show(),this.customerService.findCustomerByIdUsingGET(t.id).subscribe(function(n){e.spinner.hide(),e.dialog.open(T,{data:n,width:"500px"}).afterClosed().subscribe(function(e){e&&(t.name=e.name,t.email=e.email,t.id=e.id,t.phone=e.phone,t.address=e.address,t.accountNumber=e.accountNumber)})},function(t){e.spinner.hide(),alert("Error: "+t)})):this.dialog.open(T,{width:"500px"}).afterClosed().subscribe(function(t){t&&e.data.push({id:t.id,name:t.name,email:t.email,phone:t.phone,address:t.address,title:"",accountNumber:t.accountNumber})})},t.prototype.searchData=function(){var t=this;this.search&&(this.spinner.show(),this.showPagination=!1,this.customerService.filterCustomersUsingPOST({name:this.search,email:""}).subscribe(function(e){t.data=e,t.spinner.hide()},function(e){t.spinner.hide(),alert("Error: "+e)}))},t.prototype.clearSearch=function(){this.search&&(this.search="",this.getData({length:0,pageSize:this.pageSize,pageIndex:0}))},t.\u0275fac=function(e){return new(e||t)(m.Y36(Z.v),m.Y36(v.t2),m.Y36(s.uw))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-address-book-view"]],viewQuery:function(t,e){var n;1&t&&m.Gf(w,5),2&t&&m.iGM(n=m.CRH())&&(e.matSidenav=n.first)},hostBindings:function(t,e){1&t&&m.NdJ("resize",function(t){return e.onResize(t)},!1,m.Jf7)},decls:48,vars:10,consts:[[1,"drawer-container"],[1,"drawer-sidenav",3,"mode","opened","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[1,"inner-container",2,"height","100%"],[1,"row"],[1,"col-md-12","form-group"],[1,"col-md-6","form-group"],["mat-stroked-button","","color","primary",2,"margin-right","10px",3,"ngClass","click"],["mat-stroked-button","","color","primary",3,"click"],[1,"col-md-6",2,"text-align","right"],["appearance","outline"],["name","search","matInput","",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Search",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"col-md-12"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-icon-button","",3,"click"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t){var n=m.EpF();m.TgZ(0,"mat-sidenav-container",0),m.TgZ(1,"mat-sidenav",1,2),m._UZ(3,"app-settings-side-nav"),m.qZA(),m.TgZ(4,"mat-sidenav-content"),m.TgZ(5,"div",3),m.TgZ(6,"h2"),m._uU(7,"Address Book"),m.qZA(),m.TgZ(8,"div",4),m.TgZ(9,"div",5),m.TgZ(10,"div",4),m.TgZ(11,"div",6),m.TgZ(12,"button",7),m.NdJ("click",function(){return m.CHM(n),m.MAs(2).toggle()}),m._uU(13," Settings "),m.qZA(),m.TgZ(14,"button",8),m.NdJ("click",function(){return e.upsert(null)}),m._uU(15," New "),m.qZA(),m.qZA(),m.TgZ(16,"div",9),m.TgZ(17,"mat-form-field",10),m.TgZ(18,"mat-label"),m._uU(19,"Search"),m.qZA(),m.TgZ(20,"input",11),m.NdJ("ngModelChange",function(t){return e.search=t}),m.qZA(),m.TgZ(21,"button",12),m.NdJ("click",function(){return e.searchData()}),m.TgZ(22,"mat-icon"),m._uU(23,"search"),m.qZA(),m.qZA(),m.TgZ(24,"button",13),m.NdJ("click",function(){return e.clearSearch()}),m.TgZ(25,"mat-icon"),m._uU(26,"close"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"div",14),m.TgZ(28,"table",15),m.TgZ(29,"thead"),m.TgZ(30,"tr"),m.TgZ(31,"td"),m._uU(32,"Id"),m.qZA(),m.TgZ(33,"td"),m._uU(34,"Name"),m.qZA(),m.TgZ(35,"td"),m._uU(36,"Email"),m.qZA(),m.TgZ(37,"td"),m._uU(38,"Phone"),m.qZA(),m.TgZ(39,"td"),m._uU(40,"Address"),m.qZA(),m.TgZ(41,"td"),m._uU(42,"Account No."),m.qZA(),m.TgZ(43,"td"),m._uU(44,"Action"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(45,"tbody"),m.YNc(46,q,17,6,"tr",16),m.qZA(),m.qZA(),m.YNc(47,C,1,3,"mat-paginator",17),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}2&t&&(m.xp6(1),m.Q6J("mode",e.mode)("opened",e.openSidenav)("fixedInViewport",!0)("fixedTopGap",0)("fixedBottomGap",0)("opened",!0),m.xp6(11),m.Q6J("ngClass",e.showToggle),m.xp6(8),m.Q6J("ngModel",e.search),m.xp6(26),m.Q6J("ngForOf",e.data),m.xp6(1),m.Q6J("ngIf",e.showPagination))},directives:[h.TM,h.JX,b.k,h.Rh,a.lW,i.mk,d.KE,d.hX,c.Nt,o.Fj,o.JJ,o.On,d.R9,u.Hw,i.sg,i.O5,p.NW],styles:[""]}),t}(),S=n(9831),U=[{path:"",component:y,canActivate:[n(6106).k],data:{role:"MikhaAdmin"}}],x=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[],imports:[[S.Bz.forChild(U)],S.Bz]}),t}(),k=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[i.ez,o.u5,l.m,x,h.SJ,g.SettingsModule,p.TU,u.Ps,s.Is,a.ot,d.lN,c.c,r.p9]]}),t}()}}]);